{"ast":null,"code":"import _objectSpread from\"/Users/dbroxton/Documents/Projects/soccer-management-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useRef}from'react';import{useAuth}from'../context/AuthContext';import{collection,query,orderBy,onSnapshot,limit,where,getDocs}from\"firebase/firestore\";import{db}from\"../firebase\";// NEW: Import the extracted component\nimport UserSearch from'./UserSearch';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function TeamChat(){var _selectedChat$partici;const{sendMessage,createChat,hideChat,uploadImage,loggedInUser}=useAuth();const[myChats,setMyChats]=useState([]);const[selectedChat,setSelectedChat]=useState(null);const[messages,setMessages]=useState([]);const[newMessage,setNewMessage]=useState(\"\");const[selectedFile,setSelectedFile]=useState(null);const fileInputRef=useRef(null);const[showNewChatModal,setShowNewChatModal]=useState(false);const[selectedEmails,setSelectedEmails]=useState([]);const[newChatName,setNewChatName]=useState(\"\");// NEW: State for Image Viewer Modal\nconst[viewingImage,setViewingImage]=useState(null);const messagesEndRef=useRef(null);// 1. REAL-TIME LISTENER FOR CHAT LIST\nuseEffect(()=>{if(!loggedInUser)return;const chatsRef=collection(db,\"chats\");const q=query(chatsRef,where(\"visibleTo\",\"array-contains\",loggedInUser.uid),orderBy(\"lastMessageTime\",\"desc\"));const unsubscribe=onSnapshot(q,snapshot=>{const chats=snapshot.docs.map(doc=>_objectSpread({id:doc.id},doc.data()));setMyChats(chats);if(selectedChat){const stillExists=chats.find(c=>c.id===selectedChat.id);if(!stillExists){setSelectedChat(null);}}},error=>{console.error(\"Error listening to chat list:\",error);});return()=>unsubscribe();},[loggedInUser,selectedChat]);// 2. LISTEN for messages\nuseEffect(()=>{if(!selectedChat)return;const messagesRef=collection(db,\"chats\",selectedChat.id,\"messages\");const q=query(messagesRef,orderBy(\"createdAt\",\"asc\"),limit(50));const unsubscribe=onSnapshot(q,snapshot=>{const msgs=snapshot.docs.map(doc=>_objectSpread({id:doc.id},doc.data()));setMessages(msgs);scrollToBottom();});return()=>unsubscribe();},[selectedChat]);const scrollToBottom=()=>{setTimeout(()=>{var _messagesEndRef$curre;(_messagesEndRef$curre=messagesEndRef.current)===null||_messagesEndRef$curre===void 0?void 0:_messagesEndRef$curre.scrollIntoView({behavior:\"smooth\"});},100);};const handleFileChange=e=>{if(e.target.files[0]){setSelectedFile(e.target.files[0]);}};const handleSend=async e=>{e.preventDefault();if(!newMessage.trim()&&!selectedFile||!selectedChat)return;const text=newMessage;const fileToUpload=selectedFile;setNewMessage(\"\");setSelectedFile(null);let imageUrl=null;try{if(fileToUpload){imageUrl=await uploadImage(fileToUpload,\"chat_images/\".concat(selectedChat.id));}await sendMessage(selectedChat.id,text,selectedChat.participants,imageUrl);}catch(error){console.error(\"Error sending message/image:\",error);alert(\"Failed to send message.\");}};const handleCreateChat=async e=>{e.preventDefault();if(selectedEmails.length===0){alert(\"Please select at least one person.\");return;}const success=await createChat(selectedEmails,newChatName);if(success){setShowNewChatModal(false);setSelectedEmails([]);setNewChatName(\"\");}};const handleDeleteChat=async(e,chat)=>{e.stopPropagation();if(chat.type==='roster'){alert(\"Team Roster chats cannot be deleted.\");return;}if(window.confirm(\"Are you sure you want to hide this conversation? It will reappear if someone sends a new message.\")){await hideChat(chat.id,chat.visibleTo,chat.type);if(selectedChat&&selectedChat.id===chat.id){setSelectedChat(null);}}};return/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',height:'calc(100vh - 100px)',maxWidth:'1000px',border:'1px solid #444',borderRadius:'8px',overflow:'hidden'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{width:'30%',backgroundColor:'#282c34',borderRight:'1px solid #444',display:'flex',flexDirection:'column'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{padding:'15px',borderBottom:'1px solid #444',display:'flex',justifyContent:'space-between',alignItems:'center'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{margin:0},children:\"Messages\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowNewChatModal(true),style:{background:'none',border:'none',color:'#61dafb',fontSize:'24px',cursor:'pointer'},children:\"+\"})]}),/*#__PURE__*/_jsx(\"div\",{style:{overflowY:'auto',flex:1},children:myChats.length===0?/*#__PURE__*/_jsx(\"p\",{style:{padding:'20px',color:'#888',fontSize:'14px',textAlign:'center'},children:\"No conversations yet.\"}):myChats.map(chat=>/*#__PURE__*/_jsxs(\"div\",{onClick:()=>setSelectedChat(chat),style:{padding:'15px',cursor:'pointer',backgroundColor:(selectedChat===null||selectedChat===void 0?void 0:selectedChat.id)===chat.id?'#3a3f4a':'transparent',borderBottom:'1px solid #333',display:'flex',justifyContent:'space-between',alignItems:'center'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{overflow:'hidden',flex:1,marginRight:'10px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:'bold',color:'white'},children:chat.type==='roster'?\"\\u26BD \".concat(chat.name):chat.name||\"Chat\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'12px',color:'#aaa',whiteSpace:'nowrap',overflow:'hidden',textOverflow:'ellipsis'},children:chat.lastMessage})]}),chat.type!=='roster'&&/*#__PURE__*/_jsx(\"button\",{onClick:e=>handleDeleteChat(e,chat),style:{background:'none',border:'none',color:'#666',cursor:'pointer',fontSize:'16px',padding:'5px'},title:\"Hide conversation\",children:\"\\u2715\"})]},chat.id))})]}),/*#__PURE__*/_jsx(\"div\",{style:{flex:1,display:'flex',flexDirection:'column',backgroundColor:'#1c1e22'},children:selectedChat?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{style:{padding:'15px',borderBottom:'1px solid #444',backgroundColor:'#282c34'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{margin:0},children:selectedChat.name}),/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'12px',color:'#888'},children:(_selectedChat$partici=selectedChat.participantDetails)===null||_selectedChat$partici===void 0?void 0:_selectedChat$partici.map(p=>p.name).join(', ')})]}),/*#__PURE__*/_jsxs(\"div\",{style:{flex:1,padding:'20px',overflowY:'auto',display:'flex',flexDirection:'column',gap:'10px'},children:[messages.map(msg=>{const isMe=msg.senderId===loggedInUser.uid;return/*#__PURE__*/_jsxs(\"div\",{style:{alignSelf:isMe?'flex-end':'flex-start',maxWidth:'70%'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'10px',color:'#888',marginBottom:'2px',textAlign:isMe?'right':'left'},children:isMe?'Me':msg.senderName}),/*#__PURE__*/_jsxs(\"div\",{style:{backgroundColor:isMe?'#0078d4':'#3a3f4a',color:'white',padding:'10px 15px',borderRadius:'15px',borderTopRightRadius:isMe?'2px':'15px',borderTopLeftRadius:isMe?'15px':'2px'},children:[msg.imageUrl&&/*#__PURE__*/_jsx(\"img\",{src:msg.imageUrl,alt:\"Attachment\",onClick:()=>setViewingImage(msg.imageUrl),style:{maxWidth:'100%',maxHeight:'200px',borderRadius:'10px',marginBottom:msg.text?'10px':'0',cursor:'pointer'}}),msg.text&&/*#__PURE__*/_jsx(\"span\",{children:msg.text})]})]},msg.id);}),/*#__PURE__*/_jsx(\"div\",{ref:messagesEndRef})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSend,style:{padding:'15px',backgroundColor:'#282c34',borderTop:'1px solid #444',display:'flex',flexDirection:'column',gap:'10px'},children:[selectedFile&&/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'10px',color:'white',fontSize:'12px',paddingLeft:'10px'},children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"\\uD83D\\uDCCE \",selectedFile.name]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>setSelectedFile(null),style:{background:'none',border:'none',color:'#ff6b6b',cursor:'pointer'},children:\"\\u2715\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'10px'},children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\"image/*\",ref:fileInputRef,onChange:handleFileChange,style:{display:'none'}}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>fileInputRef.current.click(),style:{padding:'0 15px',borderRadius:'20px',border:'1px solid #555',backgroundColor:'#3a3f4a',color:'white',fontSize:'20px',cursor:'pointer'},children:\"\\uD83D\\uDCCE\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Type a message...\",value:newMessage,onChange:e=>setNewMessage(e.target.value),style:{flex:1,padding:'12px',borderRadius:'20px',border:'none',backgroundColor:'#3a3f4a',color:'white'}}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",style:{padding:'10px 20px',borderRadius:'20px',border:'none',backgroundColor:'#61dafb',color:'#000',fontWeight:'bold',cursor:'pointer'},children:\"Send\"})]})]})]}):/*#__PURE__*/_jsx(\"div\",{style:{flex:1,display:'flex',justifyContent:'center',alignItems:'center',color:'#888'},children:\"Select a conversation to start chatting.\"})}),showNewChatModal&&/*#__PURE__*/_jsx(\"div\",{style:{position:'fixed',top:0,left:0,width:'100%',height:'100%',backgroundColor:'rgba(0, 0, 0, 0.7)',display:'flex',justifyContent:'center',alignItems:'center',zIndex:1000},children:/*#__PURE__*/_jsxs(\"div\",{style:{backgroundColor:'#282c34',padding:'30px',borderRadius:'8px',width:'400px',border:'1px solid #61dafb',position:'relative'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{marginTop:0,color:'white'},children:\"Start New Chat\"}),/*#__PURE__*/_jsxs(\"label\",{style:{display:'block',marginBottom:'10px',color:'white'},children:[\"Chat Name (Optional):\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newChatName,onChange:e=>setNewChatName(e.target.value),placeholder:\"e.g. Defenders Group\",style:{width:'100%',padding:'8px',marginTop:'5px',backgroundColor:'#3a3f4a',border:'none',color:'white'}})]}),/*#__PURE__*/_jsx(UserSearch,{onSelectionChange:setSelectedEmails}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'10px',marginTop:'20px'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleCreateChat,style:{flex:1,padding:'10px',backgroundColor:'#61dafb',border:'none',cursor:'pointer',fontWeight:'bold'},children:\"Start Chat\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowNewChatModal(false),style:{flex:1,padding:'10px',backgroundColor:'#555',border:'none',color:'white',cursor:'pointer'},children:\"Cancel\"})]})]})}),viewingImage&&/*#__PURE__*/_jsxs(\"div\",{style:{position:'fixed',top:0,left:0,width:'100%',height:'100%',backgroundColor:'rgba(0, 0, 0, 0.9)',// Darker background for images\ndisplay:'flex',justifyContent:'center',alignItems:'center',zIndex:2000,flexDirection:'column'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setViewingImage(null),style:{position:'absolute',top:'20px',right:'20px',background:'none',border:'none',color:'white',fontSize:'30px',cursor:'pointer'},children:\"\\u2715\"}),/*#__PURE__*/_jsx(\"img\",{src:viewingImage,alt:\"Full size\",style:{maxWidth:'90%',maxHeight:'90%',objectFit:'contain'}})]})]});}export default TeamChat;","map":{"version":3,"names":["React","useState","useEffect","useRef","useAuth","collection","query","orderBy","onSnapshot","limit","where","getDocs","db","UserSearch","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","TeamChat","_selectedChat$partici","sendMessage","createChat","hideChat","uploadImage","loggedInUser","myChats","setMyChats","selectedChat","setSelectedChat","messages","setMessages","newMessage","setNewMessage","selectedFile","setSelectedFile","fileInputRef","showNewChatModal","setShowNewChatModal","selectedEmails","setSelectedEmails","newChatName","setNewChatName","viewingImage","setViewingImage","messagesEndRef","chatsRef","q","uid","unsubscribe","snapshot","chats","docs","map","doc","_objectSpread","id","data","stillExists","find","c","error","console","messagesRef","msgs","scrollToBottom","setTimeout","_messagesEndRef$curre","current","scrollIntoView","behavior","handleFileChange","e","target","files","handleSend","preventDefault","trim","text","fileToUpload","imageUrl","concat","participants","alert","handleCreateChat","length","success","handleDeleteChat","chat","stopPropagation","type","window","confirm","visibleTo","style","display","height","maxWidth","border","borderRadius","overflow","children","width","backgroundColor","borderRight","flexDirection","padding","borderBottom","justifyContent","alignItems","margin","onClick","background","color","fontSize","cursor","overflowY","flex","textAlign","marginRight","fontWeight","name","whiteSpace","textOverflow","lastMessage","title","participantDetails","p","join","gap","msg","isMe","senderId","alignSelf","marginBottom","senderName","borderTopRightRadius","borderTopLeftRadius","src","alt","maxHeight","ref","onSubmit","borderTop","paddingLeft","accept","onChange","click","placeholder","value","position","top","left","zIndex","marginTop","onSelectionChange","right","objectFit"],"sources":["/Users/dbroxton/Documents/Projects/soccer-management-app/src/components/TeamChat.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { useAuth } from '../context/AuthContext';\nimport { collection, query, orderBy, onSnapshot, limit, where, getDocs } from \"firebase/firestore\";\nimport { db } from \"../firebase\";\n// NEW: Import the extracted component\nimport UserSearch from './UserSearch';\n\nfunction TeamChat() {\n  const { sendMessage, createChat, hideChat, uploadImage, loggedInUser } = useAuth();\n  \n  const [myChats, setMyChats] = useState([]);\n  const [selectedChat, setSelectedChat] = useState(null);\n  const [messages, setMessages] = useState([]);\n  const [newMessage, setNewMessage] = useState(\"\");\n  \n  const [selectedFile, setSelectedFile] = useState(null);\n  const fileInputRef = useRef(null); \n  \n  const [showNewChatModal, setShowNewChatModal] = useState(false);\n  const [selectedEmails, setSelectedEmails] = useState([]); \n  const [newChatName, setNewChatName] = useState(\"\");\n\n  // NEW: State for Image Viewer Modal\n  const [viewingImage, setViewingImage] = useState(null);\n\n  const messagesEndRef = useRef(null);\n\n  // 1. REAL-TIME LISTENER FOR CHAT LIST\n  useEffect(() => {\n    if (!loggedInUser) return;\n\n    const chatsRef = collection(db, \"chats\");\n    const q = query(\n      chatsRef, \n      where(\"visibleTo\", \"array-contains\", loggedInUser.uid), \n      orderBy(\"lastMessageTime\", \"desc\")\n    );\n\n    const unsubscribe = onSnapshot(q, (snapshot) => {\n      const chats = snapshot.docs.map(doc => ({\n        id: doc.id,\n        ...doc.data()\n      }));\n      setMyChats(chats);\n      \n      if (selectedChat) {\n        const stillExists = chats.find(c => c.id === selectedChat.id);\n        if (!stillExists) {\n          setSelectedChat(null);\n        }\n      }\n    }, (error) => {\n      console.error(\"Error listening to chat list:\", error);\n    });\n\n    return () => unsubscribe();\n  }, [loggedInUser, selectedChat]);\n\n\n  // 2. LISTEN for messages\n  useEffect(() => {\n    if (!selectedChat) return;\n\n    const messagesRef = collection(db, \"chats\", selectedChat.id, \"messages\");\n    const q = query(messagesRef, orderBy(\"createdAt\", \"asc\"), limit(50));\n\n    const unsubscribe = onSnapshot(q, (snapshot) => {\n      const msgs = snapshot.docs.map(doc => ({\n        id: doc.id,\n        ...doc.data()\n      }));\n      setMessages(msgs);\n      scrollToBottom();\n    });\n\n    return () => unsubscribe();\n  }, [selectedChat]);\n\n  const scrollToBottom = () => {\n    setTimeout(() => {\n      messagesEndRef.current?.scrollIntoView({ behavior: \"smooth\" });\n    }, 100);\n  };\n\n  const handleFileChange = (e) => {\n    if (e.target.files[0]) {\n      setSelectedFile(e.target.files[0]);\n    }\n  };\n\n  const handleSend = async (e) => {\n    e.preventDefault();\n    if ((!newMessage.trim() && !selectedFile) || !selectedChat) return;\n\n    const text = newMessage;\n    const fileToUpload = selectedFile;\n\n    setNewMessage(\"\"); \n    setSelectedFile(null); \n    \n    let imageUrl = null;\n\n    try {\n      if (fileToUpload) {\n        imageUrl = await uploadImage(fileToUpload, `chat_images/${selectedChat.id}`);\n      }\n      await sendMessage(selectedChat.id, text, selectedChat.participants, imageUrl);\n    } catch (error) {\n      console.error(\"Error sending message/image:\", error);\n      alert(\"Failed to send message.\");\n    }\n  };\n\n  const handleCreateChat = async (e) => {\n    e.preventDefault();\n    if (selectedEmails.length === 0) {\n      alert(\"Please select at least one person.\");\n      return;\n    }\n    const success = await createChat(selectedEmails, newChatName);\n    if (success) {\n      setShowNewChatModal(false);\n      setSelectedEmails([]);\n      setNewChatName(\"\");\n    }\n  };\n\n  const handleDeleteChat = async (e, chat) => {\n    e.stopPropagation(); \n    if (chat.type === 'roster') {\n      alert(\"Team Roster chats cannot be deleted.\");\n      return;\n    }\n    if (window.confirm(\"Are you sure you want to hide this conversation? It will reappear if someone sends a new message.\")) {\n      await hideChat(chat.id, chat.visibleTo, chat.type);\n      if (selectedChat && selectedChat.id === chat.id) {\n        setSelectedChat(null);\n      }\n    }\n  };\n\n  return (\n    <div style={{ display: 'flex', height: 'calc(100vh - 100px)', maxWidth: '1000px', border: '1px solid #444', borderRadius: '8px', overflow: 'hidden' }}>\n      \n      {/* --- LEFT SIDE: Chat List --- */}\n      <div style={{ width: '30%', backgroundColor: '#282c34', borderRight: '1px solid #444', display: 'flex', flexDirection: 'column' }}>\n        <div style={{ padding: '15px', borderBottom: '1px solid #444', display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n          <h3 style={{ margin: 0 }}>Messages</h3>\n          <button \n            onClick={() => setShowNewChatModal(true)}\n            style={{ background: 'none', border: 'none', color: '#61dafb', fontSize: '24px', cursor: 'pointer' }}\n          >\n            +\n          </button>\n        </div>\n        \n        <div style={{ overflowY: 'auto', flex: 1 }}>\n          {myChats.length === 0 ? (\n            <p style={{ padding: '20px', color: '#888', fontSize: '14px', textAlign: 'center' }}>No conversations yet.</p>\n          ) : (\n            myChats.map(chat => (\n              <div \n                key={chat.id} \n                onClick={() => setSelectedChat(chat)}\n                style={{ \n                  padding: '15px', \n                  cursor: 'pointer', \n                  backgroundColor: selectedChat?.id === chat.id ? '#3a3f4a' : 'transparent',\n                  borderBottom: '1px solid #333',\n                  display: 'flex', justifyContent: 'space-between', alignItems: 'center'\n                }}\n              >\n                <div style={{ overflow: 'hidden', flex: 1, marginRight: '10px' }}>\n                  <div style={{ fontWeight: 'bold', color: 'white' }}>\n                    {chat.type === 'roster' ? `âš½ ${chat.name}` : chat.name || \"Chat\"}\n                  </div>\n                  <div style={{ fontSize: '12px', color: '#aaa', whiteSpace: 'nowrap', overflow: 'hidden', textOverflow: 'ellipsis' }}>\n                    {chat.lastMessage}\n                  </div>\n                </div>\n                \n                {chat.type !== 'roster' && (\n                  <button \n                    onClick={(e) => handleDeleteChat(e, chat)}\n                    style={{ background: 'none', border: 'none', color: '#666', cursor: 'pointer', fontSize: '16px', padding: '5px' }}\n                    title=\"Hide conversation\"\n                  >\n                    âœ•\n                  </button>\n                )}\n              </div>\n            ))\n          )}\n        </div>\n      </div>\n\n      {/* --- RIGHT SIDE: Chat Window --- */}\n      <div style={{ flex: 1, display: 'flex', flexDirection: 'column', backgroundColor: '#1c1e22' }}>\n        {selectedChat ? (\n          <>\n            <div style={{ padding: '15px', borderBottom: '1px solid #444', backgroundColor: '#282c34' }}>\n              <h3 style={{ margin: 0 }}>{selectedChat.name}</h3>\n              <span style={{ fontSize: '12px', color: '#888' }}>\n                {selectedChat.participantDetails?.map(p => p.name).join(', ')}\n              </span>\n            </div>\n\n            <div style={{ flex: 1, padding: '20px', overflowY: 'auto', display: 'flex', flexDirection: 'column', gap: '10px' }}>\n              {messages.map(msg => {\n                const isMe = msg.senderId === loggedInUser.uid;\n                return (\n                  <div key={msg.id} style={{\n                    alignSelf: isMe ? 'flex-end' : 'flex-start',\n                    maxWidth: '70%',\n                  }}>\n                    <div style={{ fontSize: '10px', color: '#888', marginBottom: '2px', textAlign: isMe ? 'right' : 'left' }}>\n                      {isMe ? 'Me' : msg.senderName}\n                    </div>\n                    <div style={{\n                      backgroundColor: isMe ? '#0078d4' : '#3a3f4a',\n                      color: 'white',\n                      padding: '10px 15px',\n                      borderRadius: '15px',\n                      borderTopRightRadius: isMe ? '2px' : '15px',\n                      borderTopLeftRadius: isMe ? '15px' : '2px'\n                    }}>\n                      {msg.imageUrl && (\n                        <img \n                          src={msg.imageUrl} \n                          alt=\"Attachment\" \n                          onClick={() => setViewingImage(msg.imageUrl)}\n                          style={{ maxWidth: '100%', maxHeight: '200px', borderRadius: '10px', marginBottom: msg.text ? '10px' : '0', cursor: 'pointer' }}\n                        />\n                      )}\n                      {msg.text && <span>{msg.text}</span>}\n                    </div>\n                  </div>\n                );\n              })}\n              <div ref={messagesEndRef} />\n            </div>\n\n            <form onSubmit={handleSend} style={{ padding: '15px', backgroundColor: '#282c34', borderTop: '1px solid #444', display: 'flex', flexDirection: 'column', gap: '10px' }}>\n              \n              {selectedFile && (\n                <div style={{ display: 'flex', alignItems: 'center', gap: '10px', color: 'white', fontSize: '12px', paddingLeft: '10px' }}>\n                  <span>ðŸ“Ž {selectedFile.name}</span>\n                  <button type=\"button\" onClick={() => setSelectedFile(null)} style={{ background: 'none', border: 'none', color: '#ff6b6b', cursor: 'pointer' }}>âœ•</button>\n                </div>\n              )}\n\n              <div style={{ display: 'flex', gap: '10px' }}>\n                <input \n                  type=\"file\" \n                  accept=\"image/*\"\n                  ref={fileInputRef}\n                  onChange={handleFileChange}\n                  style={{ display: 'none' }}\n                />\n                \n                <button \n                  type=\"button\"\n                  onClick={() => fileInputRef.current.click()}\n                  style={{ \n                    padding: '0 15px', borderRadius: '20px', border: '1px solid #555', \n                    backgroundColor: '#3a3f4a', color: 'white', fontSize: '20px', cursor: 'pointer'\n                  }}\n                >\n                  ðŸ“Ž\n                </button>\n\n                <input \n                  type=\"text\" \n                  placeholder=\"Type a message...\" \n                  value={newMessage}\n                  onChange={(e) => setNewMessage(e.target.value)}\n                  style={{ flex: 1, padding: '12px', borderRadius: '20px', border: 'none', backgroundColor: '#3a3f4a', color: 'white' }}\n                />\n                <button type=\"submit\" style={{ \n                  padding: '10px 20px', borderRadius: '20px', border: 'none', \n                  backgroundColor: '#61dafb', color: '#000', fontWeight: 'bold', cursor: 'pointer'\n                }}>\n                  Send\n                </button>\n              </div>\n            </form>\n          </>\n        ) : (\n          <div style={{ flex: 1, display: 'flex', justifyContent: 'center', alignItems: 'center', color: '#888' }}>\n            Select a conversation to start chatting.\n          </div>\n        )}\n      </div>\n\n      {showNewChatModal && (\n        <div style={{\n          position: 'fixed', top: 0, left: 0, width: '100%', height: '100%',\n          backgroundColor: 'rgba(0, 0, 0, 0.7)',\n          display: 'flex', justifyContent: 'center', alignItems: 'center', zIndex: 1000\n        }}>\n          <div style={{ backgroundColor: '#282c34', padding: '30px', borderRadius: '8px', width: '400px', border: '1px solid #61dafb', position: 'relative' }}>\n            <h3 style={{ marginTop: 0, color: 'white' }}>Start New Chat</h3>\n            <label style={{ display: 'block', marginBottom: '10px', color: 'white' }}>\n              Chat Name (Optional):\n              <input \n                type=\"text\" \n                value={newChatName}\n                onChange={(e) => setNewChatName(e.target.value)}\n                placeholder=\"e.g. Defenders Group\"\n                style={{ width: '100%', padding: '8px', marginTop: '5px', backgroundColor: '#3a3f4a', border: 'none', color: 'white' }}\n              />\n            </label>\n            {/* Use the imported UserSearch component */}\n            <UserSearch onSelectionChange={setSelectedEmails} />\n            <div style={{ display: 'flex', gap: '10px', marginTop: '20px' }}>\n              <button onClick={handleCreateChat} style={{ flex: 1, padding: '10px', backgroundColor: '#61dafb', border: 'none', cursor: 'pointer', fontWeight: 'bold' }}>\n                Start Chat\n              </button>\n              <button onClick={() => setShowNewChatModal(false)} style={{ flex: 1, padding: '10px', backgroundColor: '#555', border: 'none', color: 'white', cursor: 'pointer' }}>\n                Cancel\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {viewingImage && (\n        <div style={{\n          position: 'fixed', top: 0, left: 0, width: '100%', height: '100%',\n          backgroundColor: 'rgba(0, 0, 0, 0.9)', // Darker background for images\n          display: 'flex', justifyContent: 'center', alignItems: 'center', zIndex: 2000,\n          flexDirection: 'column'\n        }}>\n          <button \n            onClick={() => setViewingImage(null)}\n            style={{\n              position: 'absolute', top: '20px', right: '20px',\n              background: 'none', border: 'none', color: 'white', fontSize: '30px', cursor: 'pointer'\n            }}\n          >\n            âœ•\n          </button>\n\n          <img \n            src={viewingImage} \n            alt=\"Full size\" \n            style={{ maxWidth: '90%', maxHeight: '90%', objectFit: 'contain' }}\n          />\n        </div>\n      )}\n\n    </div>\n  );\n}\n\nexport default TeamChat;"],"mappings":"6IAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,CAAEC,MAAM,KAAQ,OAAO,CAC1D,OAASC,OAAO,KAAQ,wBAAwB,CAChD,OAASC,UAAU,CAAEC,KAAK,CAAEC,OAAO,CAAEC,UAAU,CAAEC,KAAK,CAAEC,KAAK,CAAEC,OAAO,KAAQ,oBAAoB,CAClG,OAASC,EAAE,KAAQ,aAAa,CAChC;AACA,MAAO,CAAAC,UAAU,KAAM,cAAc,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAEtC,QAAS,CAAAC,QAAQA,CAAA,CAAG,KAAAC,qBAAA,CAClB,KAAM,CAAEC,WAAW,CAAEC,UAAU,CAAEC,QAAQ,CAAEC,WAAW,CAAEC,YAAa,CAAC,CAAGtB,OAAO,CAAC,CAAC,CAElF,KAAM,CAACuB,OAAO,CAAEC,UAAU,CAAC,CAAG3B,QAAQ,CAAC,EAAE,CAAC,CAC1C,KAAM,CAAC4B,YAAY,CAAEC,eAAe,CAAC,CAAG7B,QAAQ,CAAC,IAAI,CAAC,CACtD,KAAM,CAAC8B,QAAQ,CAAEC,WAAW,CAAC,CAAG/B,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACgC,UAAU,CAAEC,aAAa,CAAC,CAAGjC,QAAQ,CAAC,EAAE,CAAC,CAEhD,KAAM,CAACkC,YAAY,CAAEC,eAAe,CAAC,CAAGnC,QAAQ,CAAC,IAAI,CAAC,CACtD,KAAM,CAAAoC,YAAY,CAAGlC,MAAM,CAAC,IAAI,CAAC,CAEjC,KAAM,CAACmC,gBAAgB,CAAEC,mBAAmB,CAAC,CAAGtC,QAAQ,CAAC,KAAK,CAAC,CAC/D,KAAM,CAACuC,cAAc,CAAEC,iBAAiB,CAAC,CAAGxC,QAAQ,CAAC,EAAE,CAAC,CACxD,KAAM,CAACyC,WAAW,CAAEC,cAAc,CAAC,CAAG1C,QAAQ,CAAC,EAAE,CAAC,CAElD;AACA,KAAM,CAAC2C,YAAY,CAAEC,eAAe,CAAC,CAAG5C,QAAQ,CAAC,IAAI,CAAC,CAEtD,KAAM,CAAA6C,cAAc,CAAG3C,MAAM,CAAC,IAAI,CAAC,CAEnC;AACAD,SAAS,CAAC,IAAM,CACd,GAAI,CAACwB,YAAY,CAAE,OAEnB,KAAM,CAAAqB,QAAQ,CAAG1C,UAAU,CAACO,EAAE,CAAE,OAAO,CAAC,CACxC,KAAM,CAAAoC,CAAC,CAAG1C,KAAK,CACbyC,QAAQ,CACRrC,KAAK,CAAC,WAAW,CAAE,gBAAgB,CAAEgB,YAAY,CAACuB,GAAG,CAAC,CACtD1C,OAAO,CAAC,iBAAiB,CAAE,MAAM,CACnC,CAAC,CAED,KAAM,CAAA2C,WAAW,CAAG1C,UAAU,CAACwC,CAAC,CAAGG,QAAQ,EAAK,CAC9C,KAAM,CAAAC,KAAK,CAAGD,QAAQ,CAACE,IAAI,CAACC,GAAG,CAACC,GAAG,EAAAC,aAAA,EACjCC,EAAE,CAAEF,GAAG,CAACE,EAAE,EACPF,GAAG,CAACG,IAAI,CAAC,CAAC,CACb,CAAC,CACH9B,UAAU,CAACwB,KAAK,CAAC,CAEjB,GAAIvB,YAAY,CAAE,CAChB,KAAM,CAAA8B,WAAW,CAAGP,KAAK,CAACQ,IAAI,CAACC,CAAC,EAAIA,CAAC,CAACJ,EAAE,GAAK5B,YAAY,CAAC4B,EAAE,CAAC,CAC7D,GAAI,CAACE,WAAW,CAAE,CAChB7B,eAAe,CAAC,IAAI,CAAC,CACvB,CACF,CACF,CAAC,CAAGgC,KAAK,EAAK,CACZC,OAAO,CAACD,KAAK,CAAC,+BAA+B,CAAEA,KAAK,CAAC,CACvD,CAAC,CAAC,CAEF,MAAO,IAAMZ,WAAW,CAAC,CAAC,CAC5B,CAAC,CAAE,CAACxB,YAAY,CAAEG,YAAY,CAAC,CAAC,CAGhC;AACA3B,SAAS,CAAC,IAAM,CACd,GAAI,CAAC2B,YAAY,CAAE,OAEnB,KAAM,CAAAmC,WAAW,CAAG3D,UAAU,CAACO,EAAE,CAAE,OAAO,CAAEiB,YAAY,CAAC4B,EAAE,CAAE,UAAU,CAAC,CACxE,KAAM,CAAAT,CAAC,CAAG1C,KAAK,CAAC0D,WAAW,CAAEzD,OAAO,CAAC,WAAW,CAAE,KAAK,CAAC,CAAEE,KAAK,CAAC,EAAE,CAAC,CAAC,CAEpE,KAAM,CAAAyC,WAAW,CAAG1C,UAAU,CAACwC,CAAC,CAAGG,QAAQ,EAAK,CAC9C,KAAM,CAAAc,IAAI,CAAGd,QAAQ,CAACE,IAAI,CAACC,GAAG,CAACC,GAAG,EAAAC,aAAA,EAChCC,EAAE,CAAEF,GAAG,CAACE,EAAE,EACPF,GAAG,CAACG,IAAI,CAAC,CAAC,CACb,CAAC,CACH1B,WAAW,CAACiC,IAAI,CAAC,CACjBC,cAAc,CAAC,CAAC,CAClB,CAAC,CAAC,CAEF,MAAO,IAAMhB,WAAW,CAAC,CAAC,CAC5B,CAAC,CAAE,CAACrB,YAAY,CAAC,CAAC,CAElB,KAAM,CAAAqC,cAAc,CAAGA,CAAA,GAAM,CAC3BC,UAAU,CAAC,IAAM,KAAAC,qBAAA,CACf,CAAAA,qBAAA,CAAAtB,cAAc,CAACuB,OAAO,UAAAD,qBAAA,iBAAtBA,qBAAA,CAAwBE,cAAc,CAAC,CAAEC,QAAQ,CAAE,QAAS,CAAC,CAAC,CAChE,CAAC,CAAE,GAAG,CAAC,CACT,CAAC,CAED,KAAM,CAAAC,gBAAgB,CAAIC,CAAC,EAAK,CAC9B,GAAIA,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC,CAAE,CACrBvC,eAAe,CAACqC,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC,CAAC,CACpC,CACF,CAAC,CAED,KAAM,CAAAC,UAAU,CAAG,KAAO,CAAAH,CAAC,EAAK,CAC9BA,CAAC,CAACI,cAAc,CAAC,CAAC,CAClB,GAAK,CAAC5C,UAAU,CAAC6C,IAAI,CAAC,CAAC,EAAI,CAAC3C,YAAY,EAAK,CAACN,YAAY,CAAE,OAE5D,KAAM,CAAAkD,IAAI,CAAG9C,UAAU,CACvB,KAAM,CAAA+C,YAAY,CAAG7C,YAAY,CAEjCD,aAAa,CAAC,EAAE,CAAC,CACjBE,eAAe,CAAC,IAAI,CAAC,CAErB,GAAI,CAAA6C,QAAQ,CAAG,IAAI,CAEnB,GAAI,CACF,GAAID,YAAY,CAAE,CAChBC,QAAQ,CAAG,KAAM,CAAAxD,WAAW,CAACuD,YAAY,gBAAAE,MAAA,CAAiBrD,YAAY,CAAC4B,EAAE,CAAE,CAAC,CAC9E,CACA,KAAM,CAAAnC,WAAW,CAACO,YAAY,CAAC4B,EAAE,CAAEsB,IAAI,CAAElD,YAAY,CAACsD,YAAY,CAAEF,QAAQ,CAAC,CAC/E,CAAE,MAAOnB,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,8BAA8B,CAAEA,KAAK,CAAC,CACpDsB,KAAK,CAAC,yBAAyB,CAAC,CAClC,CACF,CAAC,CAED,KAAM,CAAAC,gBAAgB,CAAG,KAAO,CAAAZ,CAAC,EAAK,CACpCA,CAAC,CAACI,cAAc,CAAC,CAAC,CAClB,GAAIrC,cAAc,CAAC8C,MAAM,GAAK,CAAC,CAAE,CAC/BF,KAAK,CAAC,oCAAoC,CAAC,CAC3C,OACF,CACA,KAAM,CAAAG,OAAO,CAAG,KAAM,CAAAhE,UAAU,CAACiB,cAAc,CAAEE,WAAW,CAAC,CAC7D,GAAI6C,OAAO,CAAE,CACXhD,mBAAmB,CAAC,KAAK,CAAC,CAC1BE,iBAAiB,CAAC,EAAE,CAAC,CACrBE,cAAc,CAAC,EAAE,CAAC,CACpB,CACF,CAAC,CAED,KAAM,CAAA6C,gBAAgB,CAAG,KAAAA,CAAOf,CAAC,CAAEgB,IAAI,GAAK,CAC1ChB,CAAC,CAACiB,eAAe,CAAC,CAAC,CACnB,GAAID,IAAI,CAACE,IAAI,GAAK,QAAQ,CAAE,CAC1BP,KAAK,CAAC,sCAAsC,CAAC,CAC7C,OACF,CACA,GAAIQ,MAAM,CAACC,OAAO,CAAC,mGAAmG,CAAC,CAAE,CACvH,KAAM,CAAArE,QAAQ,CAACiE,IAAI,CAAChC,EAAE,CAAEgC,IAAI,CAACK,SAAS,CAAEL,IAAI,CAACE,IAAI,CAAC,CAClD,GAAI9D,YAAY,EAAIA,YAAY,CAAC4B,EAAE,GAAKgC,IAAI,CAAChC,EAAE,CAAE,CAC/C3B,eAAe,CAAC,IAAI,CAAC,CACvB,CACF,CACF,CAAC,CAED,mBACEb,KAAA,QAAK8E,KAAK,CAAE,CAAEC,OAAO,CAAE,MAAM,CAAEC,MAAM,CAAE,qBAAqB,CAAEC,QAAQ,CAAE,QAAQ,CAAEC,MAAM,CAAE,gBAAgB,CAAEC,YAAY,CAAE,KAAK,CAAEC,QAAQ,CAAE,QAAS,CAAE,CAAAC,QAAA,eAGpJrF,KAAA,QAAK8E,KAAK,CAAE,CAAEQ,KAAK,CAAE,KAAK,CAAEC,eAAe,CAAE,SAAS,CAAEC,WAAW,CAAE,gBAAgB,CAAET,OAAO,CAAE,MAAM,CAAEU,aAAa,CAAE,QAAS,CAAE,CAAAJ,QAAA,eAChIrF,KAAA,QAAK8E,KAAK,CAAE,CAAEY,OAAO,CAAE,MAAM,CAAEC,YAAY,CAAE,gBAAgB,CAAEZ,OAAO,CAAE,MAAM,CAAEa,cAAc,CAAE,eAAe,CAAEC,UAAU,CAAE,QAAS,CAAE,CAAAR,QAAA,eACtIvF,IAAA,OAAIgF,KAAK,CAAE,CAAEgB,MAAM,CAAE,CAAE,CAAE,CAAAT,QAAA,CAAC,UAAQ,CAAI,CAAC,cACvCvF,IAAA,WACEiG,OAAO,CAAEA,CAAA,GAAMzE,mBAAmB,CAAC,IAAI,CAAE,CACzCwD,KAAK,CAAE,CAAEkB,UAAU,CAAE,MAAM,CAAEd,MAAM,CAAE,MAAM,CAAEe,KAAK,CAAE,SAAS,CAAEC,QAAQ,CAAE,MAAM,CAAEC,MAAM,CAAE,SAAU,CAAE,CAAAd,QAAA,CACtG,GAED,CAAQ,CAAC,EACN,CAAC,cAENvF,IAAA,QAAKgF,KAAK,CAAE,CAAEsB,SAAS,CAAE,MAAM,CAAEC,IAAI,CAAE,CAAE,CAAE,CAAAhB,QAAA,CACxC3E,OAAO,CAAC2D,MAAM,GAAK,CAAC,cACnBvE,IAAA,MAAGgF,KAAK,CAAE,CAAEY,OAAO,CAAE,MAAM,CAAEO,KAAK,CAAE,MAAM,CAAEC,QAAQ,CAAE,MAAM,CAAEI,SAAS,CAAE,QAAS,CAAE,CAAAjB,QAAA,CAAC,uBAAqB,CAAG,CAAC,CAE9G3E,OAAO,CAAC2B,GAAG,CAACmC,IAAI,eACdxE,KAAA,QAEE+F,OAAO,CAAEA,CAAA,GAAMlF,eAAe,CAAC2D,IAAI,CAAE,CACrCM,KAAK,CAAE,CACLY,OAAO,CAAE,MAAM,CACfS,MAAM,CAAE,SAAS,CACjBZ,eAAe,CAAE,CAAA3E,YAAY,SAAZA,YAAY,iBAAZA,YAAY,CAAE4B,EAAE,IAAKgC,IAAI,CAAChC,EAAE,CAAG,SAAS,CAAG,aAAa,CACzEmD,YAAY,CAAE,gBAAgB,CAC9BZ,OAAO,CAAE,MAAM,CAAEa,cAAc,CAAE,eAAe,CAAEC,UAAU,CAAE,QAChE,CAAE,CAAAR,QAAA,eAEFrF,KAAA,QAAK8E,KAAK,CAAE,CAAEM,QAAQ,CAAE,QAAQ,CAAEiB,IAAI,CAAE,CAAC,CAAEE,WAAW,CAAE,MAAO,CAAE,CAAAlB,QAAA,eAC/DvF,IAAA,QAAKgF,KAAK,CAAE,CAAE0B,UAAU,CAAE,MAAM,CAAEP,KAAK,CAAE,OAAQ,CAAE,CAAAZ,QAAA,CAChDb,IAAI,CAACE,IAAI,GAAK,QAAQ,WAAAT,MAAA,CAAQO,IAAI,CAACiC,IAAI,EAAKjC,IAAI,CAACiC,IAAI,EAAI,MAAM,CAC7D,CAAC,cACN3G,IAAA,QAAKgF,KAAK,CAAE,CAAEoB,QAAQ,CAAE,MAAM,CAAED,KAAK,CAAE,MAAM,CAAES,UAAU,CAAE,QAAQ,CAAEtB,QAAQ,CAAE,QAAQ,CAAEuB,YAAY,CAAE,UAAW,CAAE,CAAAtB,QAAA,CACjHb,IAAI,CAACoC,WAAW,CACd,CAAC,EACH,CAAC,CAELpC,IAAI,CAACE,IAAI,GAAK,QAAQ,eACrB5E,IAAA,WACEiG,OAAO,CAAGvC,CAAC,EAAKe,gBAAgB,CAACf,CAAC,CAAEgB,IAAI,CAAE,CAC1CM,KAAK,CAAE,CAAEkB,UAAU,CAAE,MAAM,CAAEd,MAAM,CAAE,MAAM,CAAEe,KAAK,CAAE,MAAM,CAAEE,MAAM,CAAE,SAAS,CAAED,QAAQ,CAAE,MAAM,CAAER,OAAO,CAAE,KAAM,CAAE,CAClHmB,KAAK,CAAC,mBAAmB,CAAAxB,QAAA,CAC1B,QAED,CAAQ,CACT,GA3BIb,IAAI,CAAChC,EA4BP,CACN,CACF,CACE,CAAC,EACH,CAAC,cAGN1C,IAAA,QAAKgF,KAAK,CAAE,CAAEuB,IAAI,CAAE,CAAC,CAAEtB,OAAO,CAAE,MAAM,CAAEU,aAAa,CAAE,QAAQ,CAAEF,eAAe,CAAE,SAAU,CAAE,CAAAF,QAAA,CAC3FzE,YAAY,cACXZ,KAAA,CAAAE,SAAA,EAAAmF,QAAA,eACErF,KAAA,QAAK8E,KAAK,CAAE,CAAEY,OAAO,CAAE,MAAM,CAAEC,YAAY,CAAE,gBAAgB,CAAEJ,eAAe,CAAE,SAAU,CAAE,CAAAF,QAAA,eAC1FvF,IAAA,OAAIgF,KAAK,CAAE,CAAEgB,MAAM,CAAE,CAAE,CAAE,CAAAT,QAAA,CAAEzE,YAAY,CAAC6F,IAAI,CAAK,CAAC,cAClD3G,IAAA,SAAMgF,KAAK,CAAE,CAAEoB,QAAQ,CAAE,MAAM,CAAED,KAAK,CAAE,MAAO,CAAE,CAAAZ,QAAA,EAAAjF,qBAAA,CAC9CQ,YAAY,CAACkG,kBAAkB,UAAA1G,qBAAA,iBAA/BA,qBAAA,CAAiCiC,GAAG,CAAC0E,CAAC,EAAIA,CAAC,CAACN,IAAI,CAAC,CAACO,IAAI,CAAC,IAAI,CAAC,CACzD,CAAC,EACJ,CAAC,cAENhH,KAAA,QAAK8E,KAAK,CAAE,CAAEuB,IAAI,CAAE,CAAC,CAAEX,OAAO,CAAE,MAAM,CAAEU,SAAS,CAAE,MAAM,CAAErB,OAAO,CAAE,MAAM,CAAEU,aAAa,CAAE,QAAQ,CAAEwB,GAAG,CAAE,MAAO,CAAE,CAAA5B,QAAA,EAChHvE,QAAQ,CAACuB,GAAG,CAAC6E,GAAG,EAAI,CACnB,KAAM,CAAAC,IAAI,CAAGD,GAAG,CAACE,QAAQ,GAAK3G,YAAY,CAACuB,GAAG,CAC9C,mBACEhC,KAAA,QAAkB8E,KAAK,CAAE,CACvBuC,SAAS,CAAEF,IAAI,CAAG,UAAU,CAAG,YAAY,CAC3ClC,QAAQ,CAAE,KACZ,CAAE,CAAAI,QAAA,eACAvF,IAAA,QAAKgF,KAAK,CAAE,CAAEoB,QAAQ,CAAE,MAAM,CAAED,KAAK,CAAE,MAAM,CAAEqB,YAAY,CAAE,KAAK,CAAEhB,SAAS,CAAEa,IAAI,CAAG,OAAO,CAAG,MAAO,CAAE,CAAA9B,QAAA,CACtG8B,IAAI,CAAG,IAAI,CAAGD,GAAG,CAACK,UAAU,CAC1B,CAAC,cACNvH,KAAA,QAAK8E,KAAK,CAAE,CACVS,eAAe,CAAE4B,IAAI,CAAG,SAAS,CAAG,SAAS,CAC7ClB,KAAK,CAAE,OAAO,CACdP,OAAO,CAAE,WAAW,CACpBP,YAAY,CAAE,MAAM,CACpBqC,oBAAoB,CAAEL,IAAI,CAAG,KAAK,CAAG,MAAM,CAC3CM,mBAAmB,CAAEN,IAAI,CAAG,MAAM,CAAG,KACvC,CAAE,CAAA9B,QAAA,EACC6B,GAAG,CAAClD,QAAQ,eACXlE,IAAA,QACE4H,GAAG,CAAER,GAAG,CAAClD,QAAS,CAClB2D,GAAG,CAAC,YAAY,CAChB5B,OAAO,CAAEA,CAAA,GAAMnE,eAAe,CAACsF,GAAG,CAAClD,QAAQ,CAAE,CAC7Cc,KAAK,CAAE,CAAEG,QAAQ,CAAE,MAAM,CAAE2C,SAAS,CAAE,OAAO,CAAEzC,YAAY,CAAE,MAAM,CAAEmC,YAAY,CAAEJ,GAAG,CAACpD,IAAI,CAAG,MAAM,CAAG,GAAG,CAAEqC,MAAM,CAAE,SAAU,CAAE,CACjI,CACF,CACAe,GAAG,CAACpD,IAAI,eAAIhE,IAAA,SAAAuF,QAAA,CAAO6B,GAAG,CAACpD,IAAI,CAAO,CAAC,EACjC,CAAC,GAxBEoD,GAAG,CAAC1E,EAyBT,CAAC,CAEV,CAAC,CAAC,cACF1C,IAAA,QAAK+H,GAAG,CAAEhG,cAAe,CAAE,CAAC,EACzB,CAAC,cAEN7B,KAAA,SAAM8H,QAAQ,CAAEnE,UAAW,CAACmB,KAAK,CAAE,CAAEY,OAAO,CAAE,MAAM,CAAEH,eAAe,CAAE,SAAS,CAAEwC,SAAS,CAAE,gBAAgB,CAAEhD,OAAO,CAAE,MAAM,CAAEU,aAAa,CAAE,QAAQ,CAAEwB,GAAG,CAAE,MAAO,CAAE,CAAA5B,QAAA,EAEpKnE,YAAY,eACXlB,KAAA,QAAK8E,KAAK,CAAE,CAAEC,OAAO,CAAE,MAAM,CAAEc,UAAU,CAAE,QAAQ,CAAEoB,GAAG,CAAE,MAAM,CAAEhB,KAAK,CAAE,OAAO,CAAEC,QAAQ,CAAE,MAAM,CAAE8B,WAAW,CAAE,MAAO,CAAE,CAAA3C,QAAA,eACxHrF,KAAA,SAAAqF,QAAA,EAAM,eAAG,CAACnE,YAAY,CAACuF,IAAI,EAAO,CAAC,cACnC3G,IAAA,WAAQ4E,IAAI,CAAC,QAAQ,CAACqB,OAAO,CAAEA,CAAA,GAAM5E,eAAe,CAAC,IAAI,CAAE,CAAC2D,KAAK,CAAE,CAAEkB,UAAU,CAAE,MAAM,CAAEd,MAAM,CAAE,MAAM,CAAEe,KAAK,CAAE,SAAS,CAAEE,MAAM,CAAE,SAAU,CAAE,CAAAd,QAAA,CAAC,QAAC,CAAQ,CAAC,EACvJ,CACN,cAEDrF,KAAA,QAAK8E,KAAK,CAAE,CAAEC,OAAO,CAAE,MAAM,CAAEkC,GAAG,CAAE,MAAO,CAAE,CAAA5B,QAAA,eAC3CvF,IAAA,UACE4E,IAAI,CAAC,MAAM,CACXuD,MAAM,CAAC,SAAS,CAChBJ,GAAG,CAAEzG,YAAa,CAClB8G,QAAQ,CAAE3E,gBAAiB,CAC3BuB,KAAK,CAAE,CAAEC,OAAO,CAAE,MAAO,CAAE,CAC5B,CAAC,cAEFjF,IAAA,WACE4E,IAAI,CAAC,QAAQ,CACbqB,OAAO,CAAEA,CAAA,GAAM3E,YAAY,CAACgC,OAAO,CAAC+E,KAAK,CAAC,CAAE,CAC5CrD,KAAK,CAAE,CACLY,OAAO,CAAE,QAAQ,CAAEP,YAAY,CAAE,MAAM,CAAED,MAAM,CAAE,gBAAgB,CACjEK,eAAe,CAAE,SAAS,CAAEU,KAAK,CAAE,OAAO,CAAEC,QAAQ,CAAE,MAAM,CAAEC,MAAM,CAAE,SACxE,CAAE,CAAAd,QAAA,CACH,cAED,CAAQ,CAAC,cAETvF,IAAA,UACE4E,IAAI,CAAC,MAAM,CACX0D,WAAW,CAAC,mBAAmB,CAC/BC,KAAK,CAAErH,UAAW,CAClBkH,QAAQ,CAAG1E,CAAC,EAAKvC,aAAa,CAACuC,CAAC,CAACC,MAAM,CAAC4E,KAAK,CAAE,CAC/CvD,KAAK,CAAE,CAAEuB,IAAI,CAAE,CAAC,CAAEX,OAAO,CAAE,MAAM,CAAEP,YAAY,CAAE,MAAM,CAAED,MAAM,CAAE,MAAM,CAAEK,eAAe,CAAE,SAAS,CAAEU,KAAK,CAAE,OAAQ,CAAE,CACvH,CAAC,cACFnG,IAAA,WAAQ4E,IAAI,CAAC,QAAQ,CAACI,KAAK,CAAE,CAC3BY,OAAO,CAAE,WAAW,CAAEP,YAAY,CAAE,MAAM,CAAED,MAAM,CAAE,MAAM,CAC1DK,eAAe,CAAE,SAAS,CAAEU,KAAK,CAAE,MAAM,CAAEO,UAAU,CAAE,MAAM,CAAEL,MAAM,CAAE,SACzE,CAAE,CAAAd,QAAA,CAAC,MAEH,CAAQ,CAAC,EACN,CAAC,EACF,CAAC,EACP,CAAC,cAEHvF,IAAA,QAAKgF,KAAK,CAAE,CAAEuB,IAAI,CAAE,CAAC,CAAEtB,OAAO,CAAE,MAAM,CAAEa,cAAc,CAAE,QAAQ,CAAEC,UAAU,CAAE,QAAQ,CAAEI,KAAK,CAAE,MAAO,CAAE,CAAAZ,QAAA,CAAC,0CAEzG,CAAK,CACN,CACE,CAAC,CAELhE,gBAAgB,eACfvB,IAAA,QAAKgF,KAAK,CAAE,CACVwD,QAAQ,CAAE,OAAO,CAAEC,GAAG,CAAE,CAAC,CAAEC,IAAI,CAAE,CAAC,CAAElD,KAAK,CAAE,MAAM,CAAEN,MAAM,CAAE,MAAM,CACjEO,eAAe,CAAE,oBAAoB,CACrCR,OAAO,CAAE,MAAM,CAAEa,cAAc,CAAE,QAAQ,CAAEC,UAAU,CAAE,QAAQ,CAAE4C,MAAM,CAAE,IAC3E,CAAE,CAAApD,QAAA,cACArF,KAAA,QAAK8E,KAAK,CAAE,CAAES,eAAe,CAAE,SAAS,CAAEG,OAAO,CAAE,MAAM,CAAEP,YAAY,CAAE,KAAK,CAAEG,KAAK,CAAE,OAAO,CAAEJ,MAAM,CAAE,mBAAmB,CAAEoD,QAAQ,CAAE,UAAW,CAAE,CAAAjD,QAAA,eAClJvF,IAAA,OAAIgF,KAAK,CAAE,CAAE4D,SAAS,CAAE,CAAC,CAAEzC,KAAK,CAAE,OAAQ,CAAE,CAAAZ,QAAA,CAAC,gBAAc,CAAI,CAAC,cAChErF,KAAA,UAAO8E,KAAK,CAAE,CAAEC,OAAO,CAAE,OAAO,CAAEuC,YAAY,CAAE,MAAM,CAAErB,KAAK,CAAE,OAAQ,CAAE,CAAAZ,QAAA,EAAC,uBAExE,cAAAvF,IAAA,UACE4E,IAAI,CAAC,MAAM,CACX2D,KAAK,CAAE5G,WAAY,CACnByG,QAAQ,CAAG1E,CAAC,EAAK9B,cAAc,CAAC8B,CAAC,CAACC,MAAM,CAAC4E,KAAK,CAAE,CAChDD,WAAW,CAAC,sBAAsB,CAClCtD,KAAK,CAAE,CAAEQ,KAAK,CAAE,MAAM,CAAEI,OAAO,CAAE,KAAK,CAAEgD,SAAS,CAAE,KAAK,CAAEnD,eAAe,CAAE,SAAS,CAAEL,MAAM,CAAE,MAAM,CAAEe,KAAK,CAAE,OAAQ,CAAE,CACxH,CAAC,EACG,CAAC,cAERnG,IAAA,CAACF,UAAU,EAAC+I,iBAAiB,CAAEnH,iBAAkB,CAAE,CAAC,cACpDxB,KAAA,QAAK8E,KAAK,CAAE,CAAEC,OAAO,CAAE,MAAM,CAAEkC,GAAG,CAAE,MAAM,CAAEyB,SAAS,CAAE,MAAO,CAAE,CAAArD,QAAA,eAC9DvF,IAAA,WAAQiG,OAAO,CAAE3B,gBAAiB,CAACU,KAAK,CAAE,CAAEuB,IAAI,CAAE,CAAC,CAAEX,OAAO,CAAE,MAAM,CAAEH,eAAe,CAAE,SAAS,CAAEL,MAAM,CAAE,MAAM,CAAEiB,MAAM,CAAE,SAAS,CAAEK,UAAU,CAAE,MAAO,CAAE,CAAAnB,QAAA,CAAC,YAE3J,CAAQ,CAAC,cACTvF,IAAA,WAAQiG,OAAO,CAAEA,CAAA,GAAMzE,mBAAmB,CAAC,KAAK,CAAE,CAACwD,KAAK,CAAE,CAAEuB,IAAI,CAAE,CAAC,CAAEX,OAAO,CAAE,MAAM,CAAEH,eAAe,CAAE,MAAM,CAAEL,MAAM,CAAE,MAAM,CAAEe,KAAK,CAAE,OAAO,CAAEE,MAAM,CAAE,SAAU,CAAE,CAAAd,QAAA,CAAC,QAEpK,CAAQ,CAAC,EACN,CAAC,EACH,CAAC,CACH,CACN,CAEA1D,YAAY,eACX3B,KAAA,QAAK8E,KAAK,CAAE,CACVwD,QAAQ,CAAE,OAAO,CAAEC,GAAG,CAAE,CAAC,CAAEC,IAAI,CAAE,CAAC,CAAElD,KAAK,CAAE,MAAM,CAAEN,MAAM,CAAE,MAAM,CACjEO,eAAe,CAAE,oBAAoB,CAAE;AACvCR,OAAO,CAAE,MAAM,CAAEa,cAAc,CAAE,QAAQ,CAAEC,UAAU,CAAE,QAAQ,CAAE4C,MAAM,CAAE,IAAI,CAC7EhD,aAAa,CAAE,QACjB,CAAE,CAAAJ,QAAA,eACAvF,IAAA,WACEiG,OAAO,CAAEA,CAAA,GAAMnE,eAAe,CAAC,IAAI,CAAE,CACrCkD,KAAK,CAAE,CACLwD,QAAQ,CAAE,UAAU,CAAEC,GAAG,CAAE,MAAM,CAAEK,KAAK,CAAE,MAAM,CAChD5C,UAAU,CAAE,MAAM,CAAEd,MAAM,CAAE,MAAM,CAAEe,KAAK,CAAE,OAAO,CAAEC,QAAQ,CAAE,MAAM,CAAEC,MAAM,CAAE,SAChF,CAAE,CAAAd,QAAA,CACH,QAED,CAAQ,CAAC,cAETvF,IAAA,QACE4H,GAAG,CAAE/F,YAAa,CAClBgG,GAAG,CAAC,WAAW,CACf7C,KAAK,CAAE,CAAEG,QAAQ,CAAE,KAAK,CAAE2C,SAAS,CAAE,KAAK,CAAEiB,SAAS,CAAE,SAAU,CAAE,CACpE,CAAC,EACC,CACN,EAEE,CAAC,CAEV,CAEA,cAAe,CAAA1I,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}