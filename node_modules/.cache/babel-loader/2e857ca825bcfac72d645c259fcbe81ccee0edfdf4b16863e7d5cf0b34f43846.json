{"ast":null,"code":"import React,{useState}from'react';import{useAuth}from'../../context/AuthContext';// Import the \"brain\"\n/**\n * This component ONLY worries about the Re-Auth Modal.\n * It has its own local state for the password.\n */import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function ReauthModal(){// Get what we need from the \"brain\"\n// We need `reauthenticate` to do the work,\n// `setNeedsReauth` to close the modal,\n// and `loggedInUser` to get the email (which we'll need soon)\nconst{loggedInUser,reauthenticate,setNeedsReauth}=useAuth();// This state is LOCAL to the modal\nconst[reauthPassword,setReauthPassword]=useState(\"\");// This is a local state just to get the *new* email to pass\n// to the reauthenticate function. This is a bit of a workaround\n// for the fact that the profile form state is in another component.\n// A more advanced solution might use a global state for this.\nconst[newEmail,setNewEmail]=useState(loggedInUser.email);const handleReauthSubmit=async e=>{e.preventDefault();// We pass the password AND the new email to our context function\nconst success=await reauthenticate(reauthPassword,newEmail);if(success){setNeedsReauth(false);// Close modal on success\nsetReauthPassword(\"\");}};return/*#__PURE__*/_jsx(\"div\",{style:{position:'fixed',top:0,left:0,width:'100%',height:'100%',backgroundColor:'rgba(0, 0, 0, 0.7)',display:'flex',justifyContent:'center',alignItems:'center',zIndex:1000},children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleReauthSubmit,style:{display:'flex',flexDirection:'column',gap:'15px',backgroundColor:'#282c34',padding:'30px',borderRadius:'8px',border:'1px solid #61dafb'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{color:'white',marginTop:0},children:\"Please Confirm Your Identity\"}),/*#__PURE__*/_jsx(\"p\",{style:{color:'white',margin:0},children:\"To change your email, please enter your password.\"}),/*#__PURE__*/_jsxs(\"label\",{style:{display:'flex',flexDirection:'column',textAlign:'left',gap:'5px',color:'white'},children:[\"New Email:\",/*#__PURE__*/_jsx(\"input\",{type:\"email\",placeholder:\"Enter the NEW email again\",value:newEmail,onChange:e=>setNewEmail(e.target.value),style:{padding:'8px'},required:true})]}),/*#__PURE__*/_jsxs(\"label\",{style:{display:'flex',flexDirection:'column',textAlign:'left',gap:'5px',color:'white'},children:[\"Password:\",/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Enter your CURRENT password\",value:reauthPassword,onChange:e=>setReauthPassword(e.target.value),style:{padding:'8px'},required:true})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'10px'},children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",style:{padding:'10px 20px',backgroundColor:'#61dafb',border:'none',cursor:'pointer',fontSize:'16px',flex:1},children:\"Confirm\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>{setNeedsReauth(false);// Just close the modal\nsetReauthPassword(\"\");},style:{padding:'10px 20px',backgroundColor:'#555',border:'none',color:'white',cursor:'pointer',fontSize:'16px',flex:1},children:\"Cancel\"})]})]})});}export default ReauthModal;","map":{"version":3,"names":["React","useState","useAuth","jsx","_jsx","jsxs","_jsxs","ReauthModal","loggedInUser","reauthenticate","setNeedsReauth","reauthPassword","setReauthPassword","newEmail","setNewEmail","email","handleReauthSubmit","e","preventDefault","success","style","position","top","left","width","height","backgroundColor","display","justifyContent","alignItems","zIndex","children","onSubmit","flexDirection","gap","padding","borderRadius","border","color","marginTop","margin","textAlign","type","placeholder","value","onChange","target","required","cursor","fontSize","flex","onClick"],"sources":["/Users/dbroxton/Documents/Projects/soccer-management-app/src/components/auth/ReauthModal.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useAuth } from '../../context/AuthContext'; // Import the \"brain\"\n\n/**\n * This component ONLY worries about the Re-Auth Modal.\n * It has its own local state for the password.\n */\nfunction ReauthModal() {\n  // Get what we need from the \"brain\"\n  // We need `reauthenticate` to do the work,\n  // `setNeedsReauth` to close the modal,\n  // and `loggedInUser` to get the email (which we'll need soon)\n  const { loggedInUser, reauthenticate, setNeedsReauth } = useAuth();\n\n  // This state is LOCAL to the modal\n  const [reauthPassword, setReauthPassword] = useState(\"\");\n  \n  // This is a local state just to get the *new* email to pass\n  // to the reauthenticate function. This is a bit of a workaround\n  // for the fact that the profile form state is in another component.\n  // A more advanced solution might use a global state for this.\n  const [newEmail, setNewEmail] = useState(loggedInUser.email);\n\n  const handleReauthSubmit = async (e) => {\n    e.preventDefault();\n    // We pass the password AND the new email to our context function\n    const success = await reauthenticate(reauthPassword, newEmail);\n    if (success) {\n      setNeedsReauth(false); // Close modal on success\n      setReauthPassword(\"\");\n    }\n  };\n\n  return (\n    <div style={{\n      position: 'fixed', top: 0, left: 0, width: '100%', height: '100%',\n      backgroundColor: 'rgba(0, 0, 0, 0.7)',\n      display: 'flex', justifyContent: 'center', alignItems: 'center', zIndex: 1000\n    }}>\n      <form\n        onSubmit={handleReauthSubmit}\n        style={{\n          display: 'flex', flexDirection: 'column', gap: '15px',\n          backgroundColor: '#282c34', padding: '30px', borderRadius: '8px',\n          border: '1px solid #61dafb'\n        }}\n      >\n        <h3 style={{ color: 'white', marginTop: 0 }}>Please Confirm Your Identity</h3>\n        <p style={{ color: 'white', margin: 0 }}>To change your email, please enter your password.</p>\n        \n        {/* This is a bit of a hack. The modal doesn't know what the new email is.\n          We add a field here to re-enter the new email.\n          A better long-term fix would be to pass the new email to the context\n          when `setNeedsReauth(true)` is called.\n        */}\n        <label style={{ display: 'flex', flexDirection: 'column', textAlign: 'left', gap: '5px', color: 'white' }}>\n          New Email:\n          <input\n            type=\"email\"\n            placeholder=\"Enter the NEW email again\"\n            value={newEmail}\n            onChange={(e) => setNewEmail(e.target.value)}\n            style={{ padding: '8px' }}\n            required\n          />\n        </label>\n        \n        <label style={{ display: 'flex', flexDirection: 'column', textAlign: 'left', gap: '5px', color: 'white' }}>\n          Password:\n          <input\n            type=\"password\"\n            placeholder=\"Enter your CURRENT password\"\n            value={reauthPassword}\n            onChange={(e) => setReauthPassword(e.target.value)}\n            style={{ padding: '8px' }}\n            required\n          />\n        </label>\n        \n        <div style={{ display: 'flex', gap: '10px' }}>\n          <button type=\"submit\" style={{\n            padding: '10px 20px', backgroundColor: '#61dafb', border: 'none',\n            cursor: 'pointer', fontSize: '16px', flex: 1\n          }}>\n            Confirm\n          </button>\n          <button\n            type=\"button\"\n            onClick={() => {\n              setNeedsReauth(false); // Just close the modal\n              setReauthPassword(\"\");\n            }}\n            style={{\n              padding: '10px 20px', backgroundColor: '#555', border: 'none',\n              color: 'white', cursor: 'pointer', fontSize: '16px', flex: 1\n            }}\n          >\n            Cancel\n          </button>\n        </div>\n      </form>\n    </div>\n  );\n}\n\nexport default ReauthModal;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,OAAO,KAAQ,2BAA2B,CAAE;AAErD;AACA;AACA;AACA,GAHA,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAIA,QAAS,CAAAC,WAAWA,CAAA,CAAG,CACrB;AACA;AACA;AACA;AACA,KAAM,CAAEC,YAAY,CAAEC,cAAc,CAAEC,cAAe,CAAC,CAAGR,OAAO,CAAC,CAAC,CAElE;AACA,KAAM,CAACS,cAAc,CAAEC,iBAAiB,CAAC,CAAGX,QAAQ,CAAC,EAAE,CAAC,CAExD;AACA;AACA;AACA;AACA,KAAM,CAACY,QAAQ,CAAEC,WAAW,CAAC,CAAGb,QAAQ,CAACO,YAAY,CAACO,KAAK,CAAC,CAE5D,KAAM,CAAAC,kBAAkB,CAAG,KAAO,CAAAC,CAAC,EAAK,CACtCA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClB;AACA,KAAM,CAAAC,OAAO,CAAG,KAAM,CAAAV,cAAc,CAACE,cAAc,CAAEE,QAAQ,CAAC,CAC9D,GAAIM,OAAO,CAAE,CACXT,cAAc,CAAC,KAAK,CAAC,CAAE;AACvBE,iBAAiB,CAAC,EAAE,CAAC,CACvB,CACF,CAAC,CAED,mBACER,IAAA,QAAKgB,KAAK,CAAE,CACVC,QAAQ,CAAE,OAAO,CAAEC,GAAG,CAAE,CAAC,CAAEC,IAAI,CAAE,CAAC,CAAEC,KAAK,CAAE,MAAM,CAAEC,MAAM,CAAE,MAAM,CACjEC,eAAe,CAAE,oBAAoB,CACrCC,OAAO,CAAE,MAAM,CAAEC,cAAc,CAAE,QAAQ,CAAEC,UAAU,CAAE,QAAQ,CAAEC,MAAM,CAAE,IAC3E,CAAE,CAAAC,QAAA,cACAzB,KAAA,SACE0B,QAAQ,CAAEhB,kBAAmB,CAC7BI,KAAK,CAAE,CACLO,OAAO,CAAE,MAAM,CAAEM,aAAa,CAAE,QAAQ,CAAEC,GAAG,CAAE,MAAM,CACrDR,eAAe,CAAE,SAAS,CAAES,OAAO,CAAE,MAAM,CAAEC,YAAY,CAAE,KAAK,CAChEC,MAAM,CAAE,mBACV,CAAE,CAAAN,QAAA,eAEF3B,IAAA,OAAIgB,KAAK,CAAE,CAAEkB,KAAK,CAAE,OAAO,CAAEC,SAAS,CAAE,CAAE,CAAE,CAAAR,QAAA,CAAC,8BAA4B,CAAI,CAAC,cAC9E3B,IAAA,MAAGgB,KAAK,CAAE,CAAEkB,KAAK,CAAE,OAAO,CAAEE,MAAM,CAAE,CAAE,CAAE,CAAAT,QAAA,CAAC,mDAAiD,CAAG,CAAC,cAO9FzB,KAAA,UAAOc,KAAK,CAAE,CAAEO,OAAO,CAAE,MAAM,CAAEM,aAAa,CAAE,QAAQ,CAAEQ,SAAS,CAAE,MAAM,CAAEP,GAAG,CAAE,KAAK,CAAEI,KAAK,CAAE,OAAQ,CAAE,CAAAP,QAAA,EAAC,YAEzG,cAAA3B,IAAA,UACEsC,IAAI,CAAC,OAAO,CACZC,WAAW,CAAC,2BAA2B,CACvCC,KAAK,CAAE/B,QAAS,CAChBgC,QAAQ,CAAG5B,CAAC,EAAKH,WAAW,CAACG,CAAC,CAAC6B,MAAM,CAACF,KAAK,CAAE,CAC7CxB,KAAK,CAAE,CAAEe,OAAO,CAAE,KAAM,CAAE,CAC1BY,QAAQ,MACT,CAAC,EACG,CAAC,cAERzC,KAAA,UAAOc,KAAK,CAAE,CAAEO,OAAO,CAAE,MAAM,CAAEM,aAAa,CAAE,QAAQ,CAAEQ,SAAS,CAAE,MAAM,CAAEP,GAAG,CAAE,KAAK,CAAEI,KAAK,CAAE,OAAQ,CAAE,CAAAP,QAAA,EAAC,WAEzG,cAAA3B,IAAA,UACEsC,IAAI,CAAC,UAAU,CACfC,WAAW,CAAC,6BAA6B,CACzCC,KAAK,CAAEjC,cAAe,CACtBkC,QAAQ,CAAG5B,CAAC,EAAKL,iBAAiB,CAACK,CAAC,CAAC6B,MAAM,CAACF,KAAK,CAAE,CACnDxB,KAAK,CAAE,CAAEe,OAAO,CAAE,KAAM,CAAE,CAC1BY,QAAQ,MACT,CAAC,EACG,CAAC,cAERzC,KAAA,QAAKc,KAAK,CAAE,CAAEO,OAAO,CAAE,MAAM,CAAEO,GAAG,CAAE,MAAO,CAAE,CAAAH,QAAA,eAC3C3B,IAAA,WAAQsC,IAAI,CAAC,QAAQ,CAACtB,KAAK,CAAE,CAC3Be,OAAO,CAAE,WAAW,CAAET,eAAe,CAAE,SAAS,CAAEW,MAAM,CAAE,MAAM,CAChEW,MAAM,CAAE,SAAS,CAAEC,QAAQ,CAAE,MAAM,CAAEC,IAAI,CAAE,CAC7C,CAAE,CAAAnB,QAAA,CAAC,SAEH,CAAQ,CAAC,cACT3B,IAAA,WACEsC,IAAI,CAAC,QAAQ,CACbS,OAAO,CAAEA,CAAA,GAAM,CACbzC,cAAc,CAAC,KAAK,CAAC,CAAE;AACvBE,iBAAiB,CAAC,EAAE,CAAC,CACvB,CAAE,CACFQ,KAAK,CAAE,CACLe,OAAO,CAAE,WAAW,CAAET,eAAe,CAAE,MAAM,CAAEW,MAAM,CAAE,MAAM,CAC7DC,KAAK,CAAE,OAAO,CAAEU,MAAM,CAAE,SAAS,CAAEC,QAAQ,CAAE,MAAM,CAAEC,IAAI,CAAE,CAC7D,CAAE,CAAAnB,QAAA,CACH,QAED,CAAQ,CAAC,EACN,CAAC,EACF,CAAC,CACJ,CAAC,CAEV,CAEA,cAAe,CAAAxB,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}