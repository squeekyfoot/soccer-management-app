{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useAuth}from'../context/AuthContext';import Home from'./Home';import MyProfile from'./MyProfile';import ManagerDashboard from'./ManagerDashboard';import TeamChat from'./TeamChat';import Groups from'./Groups';import{House,Users,MessageSquare,User,Settings,LogOut}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Layout(){const{isManager,signOutUser}=useAuth();const[activeView,setActiveView]=useState('home');const[isMobile,setIsMobile]=useState(window.innerWidth<768);useEffect(()=>{const handleResize=()=>{setIsMobile(window.innerWidth<768);};window.addEventListener('resize',handleResize);return()=>window.removeEventListener('resize',handleResize);},[]);const renderActiveView=()=>{switch(activeView){case'home':return/*#__PURE__*/_jsx(Home,{});case'groups':return/*#__PURE__*/_jsx(Groups,{});case'messaging':return/*#__PURE__*/_jsx(TeamChat,{});case'profile':return/*#__PURE__*/_jsx(MyProfile,{});case'manager':return/*#__PURE__*/_jsx(ManagerDashboard,{});default:return/*#__PURE__*/_jsx(Home,{});}};const NavButton=_ref=>{let{view,label,icon:Icon}=_ref;return/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setActiveView(view),className:\"nav-btn \".concat(activeView===view?'active':''),children:[/*#__PURE__*/_jsx(Icon,{size:20}),/*#__PURE__*/_jsx(\"span\",{children:label})]});};// NEW: Determine if the current view needs a fixed height (no page scroll)\n// Only 'messaging' needs to be fixed so the chat bars stay anchored.\nconst isFixedView=activeView==='messaging';return/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',width:'100vw',height:'100vh',backgroundColor:'#282c34',flexDirection:isMobile?'column':'row'},children:[isMobile&&/*#__PURE__*/_jsx(\"header\",{className:\"mobile-header\",children:/*#__PURE__*/_jsx(\"h1\",{children:\"Team App\"})}),/*#__PURE__*/_jsxs(\"nav\",{className:isMobile?'tab-bar':'sidebar',children:[!isMobile&&/*#__PURE__*/_jsx(\"h3\",{style:{marginTop:0,marginBottom:'20px',paddingLeft:'10px'},children:\"Team App\"}),/*#__PURE__*/_jsx(NavButton,{view:\"home\",label:\"Home\",icon:House}),/*#__PURE__*/_jsx(NavButton,{view:\"groups\",label:\"Groups\",icon:Users}),/*#__PURE__*/_jsx(NavButton,{view:\"messaging\",label:\"Messaging\",icon:MessageSquare}),/*#__PURE__*/_jsx(NavButton,{view:\"profile\",label:\"Profile\",icon:User}),isManager()&&/*#__PURE__*/_jsx(NavButton,{view:\"manager\",label:\"Manager\",icon:Settings}),/*#__PURE__*/_jsxs(\"button\",{onClick:signOutUser,className:\"nav-btn sign-out-btn\",children:[/*#__PURE__*/_jsx(LogOut,{size:20}),/*#__PURE__*/_jsx(\"span\",{children:\"Sign Out\"})]})]}),/*#__PURE__*/_jsx(\"main\",{className:\"main-content \".concat(isMobile?'mobile':'',\" \").concat(isFixedView?'fixed-height':'scrollable'),children:renderActiveView()})]});}export default Layout;","map":{"version":3,"names":["React","useState","useEffect","useAuth","Home","MyProfile","ManagerDashboard","TeamChat","Groups","House","Users","MessageSquare","User","Settings","LogOut","jsx","_jsx","jsxs","_jsxs","Layout","isManager","signOutUser","activeView","setActiveView","isMobile","setIsMobile","window","innerWidth","handleResize","addEventListener","removeEventListener","renderActiveView","NavButton","_ref","view","label","icon","Icon","onClick","className","concat","children","size","isFixedView","style","display","width","height","backgroundColor","flexDirection","marginTop","marginBottom","paddingLeft"],"sources":["/Users/dbroxton/Documents/Projects/soccer-management-app/src/components/Layout.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useAuth } from '../context/AuthContext'; \nimport Home from './Home';\nimport MyProfile from './MyProfile'; \nimport ManagerDashboard from './ManagerDashboard'; \nimport TeamChat from './TeamChat';\nimport Groups from './Groups';\n\nimport { House, Users, MessageSquare, User, Settings, LogOut } from 'lucide-react';\n\nfunction Layout() {\n  const { isManager, signOutUser } = useAuth();\n  const [activeView, setActiveView] = useState('home');\n  const [isMobile, setIsMobile] = useState(window.innerWidth < 768);\n\n  useEffect(() => {\n    const handleResize = () => {\n      setIsMobile(window.innerWidth < 768);\n    };\n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  }, []);\n\n  const renderActiveView = () => {\n    switch (activeView) {\n      case 'home': return <Home />;\n      case 'groups': return <Groups />;\n      case 'messaging': return <TeamChat />;\n      case 'profile': return <MyProfile />; \n      case 'manager': return <ManagerDashboard />;\n      default: return <Home />;\n    }\n  };\n\n  const NavButton = ({ view, label, icon: Icon }) => (\n    <button \n      onClick={() => setActiveView(view)}\n      className={`nav-btn ${activeView === view ? 'active' : ''}`}\n    >\n      <Icon size={20} />\n      <span>{label}</span>\n    </button>\n  );\n\n  // NEW: Determine if the current view needs a fixed height (no page scroll)\n  // Only 'messaging' needs to be fixed so the chat bars stay anchored.\n  const isFixedView = activeView === 'messaging';\n\n  return (\n    <div\n      style={{\n        display: 'flex', width: '100vw', height: '100vh',\n        backgroundColor: '#282c34',\n        flexDirection: isMobile ? 'column' : 'row'\n      }}\n    >\n      {isMobile && (\n        <header className=\"mobile-header\">\n          <h1>Team App</h1>\n        </header>\n      )}\n\n      <nav className={isMobile ? 'tab-bar' : 'sidebar'}>\n        {!isMobile && <h3 style={{ marginTop: 0, marginBottom: '20px', paddingLeft: '10px' }}>Team App</h3>}\n        \n        <NavButton view=\"home\" label=\"Home\" icon={House} />\n        <NavButton view=\"groups\" label=\"Groups\" icon={Users} />\n        <NavButton view=\"messaging\" label=\"Messaging\" icon={MessageSquare} />\n        <NavButton view=\"profile\" label=\"Profile\" icon={User} />\n        \n        {isManager() && (\n          <NavButton view=\"manager\" label=\"Manager\" icon={Settings} />\n        )}\n        \n        <button onClick={signOutUser} className=\"nav-btn sign-out-btn\">\n          <LogOut size={20} />\n          <span>Sign Out</span>\n        </button>\n      </nav>\n\n      {/* NEW: Apply 'fixed-height' class conditionally */}\n      <main className={`main-content ${isMobile ? 'mobile' : ''} ${isFixedView ? 'fixed-height' : 'scrollable'}`}>\n        {renderActiveView()}\n      </main>\n\n    </div>\n  );\n}\n\nexport default Layout;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}