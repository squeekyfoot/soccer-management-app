{"ast":null,"code":"var _jsxFileName = \"/Users/dbroxton/Documents/Projects/soccer-management-app/src/components/chat/ChatHeader.js\";\nimport React from 'react';\nimport { ChevronLeft, ChevronRight } from 'lucide-react';\nimport { COLORS } from '../../constants';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ChatHeader = ({\n  selectedChat,\n  userProfiles,\n  loggedInUser,\n  onShowDetails,\n  // New prop to trigger details modal\n  onBack,\n  // New prop for Mobile Back navigation\n  totalUnreadCount\n}) => {\n  var _selectedChat$partici2;\n  if (!selectedChat) return null;\n\n  // Logic to determine display title & image\n  const isDM = selectedChat.type === 'dm' || selectedChat.participants && selectedChat.participants.length === 2 && selectedChat.type !== 'roster';\n  let displayTitle = selectedChat.name;\n  let iconImage = null;\n  if (isDM) {\n    var _selectedChat$partici;\n    const otherUser = (_selectedChat$partici = selectedChat.participantDetails) === null || _selectedChat$partici === void 0 ? void 0 : _selectedChat$partici.find(p => p.uid !== loggedInUser.uid);\n    if (otherUser) {\n      const freshUser = userProfiles[otherUser.uid];\n      displayTitle = freshUser ? freshUser.playerName || otherUser.name : otherUser.name;\n      iconImage = freshUser ? freshUser.photoURL : otherUser.photoURL;\n    }\n  } else if (selectedChat.type === 'roster') {\n    displayTitle = `⚽ ${selectedChat.name}`;\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: '10px',\n      borderBottom: `1px solid ${COLORS.border}`,\n      backgroundColor: COLORS.background,\n      boxSizing: 'border-box',\n      display: 'flex',\n      justifyContent: 'space-between',\n      alignItems: 'center',\n      height: '60px'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        flex: 1,\n        display: 'flex',\n        alignItems: 'center',\n        minWidth: '60px'\n      },\n      children: onBack && /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: onBack,\n        style: {\n          background: 'none',\n          border: 'none',\n          color: COLORS.primary,\n          cursor: 'pointer',\n          display: 'flex',\n          alignItems: 'center',\n          fontSize: '16px',\n          fontWeight: '500'\n        },\n        children: [/*#__PURE__*/_jsxDEV(ChevronLeft, {\n          size: 28\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 13\n        }, this), totalUnreadCount > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            backgroundColor: COLORS.primary,\n            color: '#000',\n            borderRadius: '50%',\n            width: '20px',\n            height: '20px',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            fontSize: '12px',\n            fontWeight: 'bold',\n            marginLeft: '2px'\n          },\n          children: totalUnreadCount\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      onClick: onShowDetails,\n      style: {\n        flex: 2,\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        cursor: 'pointer'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          alignItems: 'center',\n          gap: '8px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            width: '24px',\n            height: '24px',\n            borderRadius: '50%',\n            backgroundColor: '#444',\n            overflow: 'hidden',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            fontSize: '10px',\n            border: '1px solid #666'\n          },\n          children: iconImage ? /*#__PURE__*/_jsxDEV(\"img\", {\n            src: iconImage,\n            alt: \"\",\n            style: {\n              width: '100%',\n              height: '100%',\n              objectFit: 'cover'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 16\n          }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n            children: displayTitle.charAt(0)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 16\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 12\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          style: {\n            margin: 0,\n            fontSize: '16px',\n            whiteSpace: 'nowrap',\n            overflow: 'hidden',\n            textOverflow: 'ellipsis',\n            maxWidth: '150px'\n          },\n          children: displayTitle\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 12\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this), !isDM && /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          fontSize: '10px',\n          color: '#888'\n        },\n        children: [((_selectedChat$partici2 = selectedChat.participantDetails) === null || _selectedChat$partici2 === void 0 ? void 0 : _selectedChat$partici2.length) || 0, \" members\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 12\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      onClick: onShowDetails,\n      style: {\n        flex: 1,\n        display: 'flex',\n        justifyContent: 'flex-end',\n        alignItems: 'center',\n        cursor: 'pointer'\n      },\n      children: /*#__PURE__*/_jsxDEV(ChevronRight, {\n        size: 20,\n        color: \"#666\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 5\n  }, this);\n};\n_c = ChatHeader;\nexport default ChatHeader;\nvar _c;\n$RefreshReg$(_c, \"ChatHeader\");","map":{"version":3,"names":["React","ChevronLeft","ChevronRight","COLORS","jsxDEV","_jsxDEV","ChatHeader","selectedChat","userProfiles","loggedInUser","onShowDetails","onBack","totalUnreadCount","_selectedChat$partici2","isDM","type","participants","length","displayTitle","name","iconImage","_selectedChat$partici","otherUser","participantDetails","find","p","uid","freshUser","playerName","photoURL","style","padding","borderBottom","border","backgroundColor","background","boxSizing","display","justifyContent","alignItems","height","children","flex","minWidth","onClick","color","primary","cursor","fontSize","fontWeight","size","fileName","_jsxFileName","lineNumber","columnNumber","borderRadius","width","marginLeft","flexDirection","gap","overflow","src","alt","objectFit","charAt","margin","whiteSpace","textOverflow","maxWidth","_c","$RefreshReg$"],"sources":["/Users/dbroxton/Documents/Projects/soccer-management-app/src/components/chat/ChatHeader.js"],"sourcesContent":["import React from 'react';\nimport { ChevronLeft, ChevronRight } from 'lucide-react'; \nimport { COLORS } from '../../constants';\n\nconst ChatHeader = ({ \n  selectedChat, \n  userProfiles, \n  loggedInUser, \n  onShowDetails, // New prop to trigger details modal\n  onBack,        // New prop for Mobile Back navigation\n  totalUnreadCount\n}) => {\n  if (!selectedChat) return null;\n\n  // Logic to determine display title & image\n  const isDM = selectedChat.type === 'dm' || (selectedChat.participants && selectedChat.participants.length === 2 && selectedChat.type !== 'roster');\n  let displayTitle = selectedChat.name;\n  let iconImage = null;\n  \n  if (isDM) {\n    const otherUser = selectedChat.participantDetails?.find(p => p.uid !== loggedInUser.uid);\n    if (otherUser) {\n      const freshUser = userProfiles[otherUser.uid];\n      displayTitle = freshUser ? (freshUser.playerName || otherUser.name) : otherUser.name;\n      iconImage = freshUser ? freshUser.photoURL : otherUser.photoURL;\n    }\n  } else if (selectedChat.type === 'roster') {\n      displayTitle = `⚽ ${selectedChat.name}`;\n  }\n\n  return (\n    <div style={{ \n      padding: '10px', \n      borderBottom: `1px solid ${COLORS.border}`, \n      backgroundColor: COLORS.background, \n      boxSizing: 'border-box', \n      display: 'flex', \n      justifyContent: 'space-between', \n      alignItems: 'center',\n      height: '60px'\n    }}>\n      \n      {/* LEFT: Back Button (Mobile Only) */}\n      <div style={{ flex: 1, display: 'flex', alignItems: 'center', minWidth: '60px' }}>\n        {onBack && (\n          <button \n            onClick={onBack}\n            style={{ \n              background: 'none', border: 'none', color: COLORS.primary, \n              cursor: 'pointer', display: 'flex', alignItems: 'center', fontSize: '16px', fontWeight: '500'\n            }}\n          >\n            <ChevronLeft size={28} />\n            {totalUnreadCount > 0 && (\n              <span style={{ \n                backgroundColor: COLORS.primary, color: '#000', \n                borderRadius: '50%', width: '20px', height: '20px',\n                display: 'flex', alignItems: 'center', justifyContent: 'center',\n                fontSize: '12px', fontWeight: 'bold', marginLeft: '2px'\n              }}>\n                {totalUnreadCount}\n              </span>\n            )}\n          </button>\n        )}\n      </div>\n\n      {/* CENTER: Chat Info (Clickable) */}\n      <div \n        onClick={onShowDetails}\n        style={{ \n          flex: 2, \n          display: 'flex', flexDirection: 'column', alignItems: 'center', \n          cursor: 'pointer' \n        }}\n      >\n        <div style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>\n           {/* Small Avatar in Header */}\n           <div style={{ \n             width: '24px', height: '24px', borderRadius: '50%', \n             backgroundColor: '#444', overflow: 'hidden', display: 'flex', alignItems: 'center', justifyContent: 'center',\n             fontSize: '10px', border: '1px solid #666'\n           }}>\n             {iconImage ? (\n               <img src={iconImage} alt=\"\" style={{ width: '100%', height: '100%', objectFit: 'cover' }} />\n             ) : (\n               <span>{displayTitle.charAt(0)}</span>\n             )}\n           </div>\n           <h3 style={{ margin: 0, fontSize: '16px', whiteSpace: 'nowrap', overflow: 'hidden', textOverflow: 'ellipsis', maxWidth: '150px' }}>\n             {displayTitle}\n           </h3>\n        </div>\n        {!isDM && (\n           <span style={{ fontSize: '10px', color: '#888' }}>\n             {selectedChat.participantDetails?.length || 0} members\n           </span>\n        )}\n      </div>\n\n      {/* RIGHT: Action Indicator */}\n      <div \n        onClick={onShowDetails}\n        style={{ flex: 1, display: 'flex', justifyContent: 'flex-end', alignItems: 'center', cursor: 'pointer' }}\n      >\n        <ChevronRight size={20} color=\"#666\" />\n      </div>\n\n    </div>\n  );\n};\n\nexport default ChatHeader;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}