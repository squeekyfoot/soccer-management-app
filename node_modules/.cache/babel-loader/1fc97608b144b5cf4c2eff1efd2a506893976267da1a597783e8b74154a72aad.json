{"ast":null,"code":"import React from'react';import{MoreVertical}from'lucide-react';import{COLORS}from'../../constants';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ChatHeader=_ref=>{let{selectedChat,userProfiles,loggedInUser,activeHeaderMenu,setActiveHeaderMenu,onRenameGroup,onDeleteChat}=_ref;if(!selectedChat)return null;// Logic to determine display title\nconst isDM=selectedChat.type==='dm'||selectedChat.participants&&selectedChat.participants.length===2&&selectedChat.type!=='roster';let displayTitle=selectedChat.name;if(isDM){var _selectedChat$partici;const otherUser=(_selectedChat$partici=selectedChat.participantDetails)===null||_selectedChat$partici===void 0?void 0:_selectedChat$partici.find(p=>p.uid!==loggedInUser.uid);if(otherUser){const freshUser=userProfiles[otherUser.uid];displayTitle=freshUser?freshUser.playerName||otherUser.name:otherUser.name;}}// Logic for subtext (participants)\nlet displaySubtext=null;if(!isDM){var _selectedChat$partici2;const others=(_selectedChat$partici2=selectedChat.participantDetails)===null||_selectedChat$partici2===void 0?void 0:_selectedChat$partici2.filter(p=>p.uid!==loggedInUser.uid);if(others&&others.length>0){displaySubtext=others.map(p=>{const fresh=userProfiles[p.uid];return fresh?fresh.playerName||p.name:p.name;}).join(', ');}}return/*#__PURE__*/_jsxs(\"div\",{style:{padding:'15px',borderBottom:\"1px solid \".concat(COLORS.border),backgroundColor:COLORS.background,boxSizing:'border-box',display:'flex',justifyContent:'space-between',alignItems:'center'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{flex:1,textAlign:'center'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{margin:0},children:displayTitle}),displaySubtext&&/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'12px',color:'#888'},children:displaySubtext})]}),/*#__PURE__*/_jsxs(\"div\",{style:{position:'relative',marginLeft:'10px'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveHeaderMenu(!activeHeaderMenu),style:{background:'none',border:'none',color:'#aaa',cursor:'pointer',display:'flex',alignItems:'center'},children:/*#__PURE__*/_jsx(MoreVertical,{size:24})}),activeHeaderMenu&&/*#__PURE__*/_jsxs(\"div\",{style:{position:'absolute',right:'0',top:'35px',backgroundColor:'#222',border:'1px solid #555',borderRadius:'5px',zIndex:100,minWidth:'150px',boxShadow:'0 2px 10px rgba(0,0,0,0.5)'},children:[(selectedChat.type==='group'||selectedChat.participants&&selectedChat.participants.length>2)&&/*#__PURE__*/_jsx(\"button\",{onClick:onRenameGroup,style:{display:'block',width:'100%',padding:'12px',textAlign:'left',background:'none',border:'none',color:'white',cursor:'pointer',borderBottom:'1px solid #333'},children:\"Rename Group\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>onDeleteChat(selectedChat),style:{display:'block',width:'100%',padding:'12px',textAlign:'left',background:'none',border:'none',color:COLORS.danger,cursor:'pointer',borderBottom:'1px solid #333'},children:\"Delete Chat\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveHeaderMenu(false),style:{display:'block',width:'100%',padding:'12px',textAlign:'left',background:'none',border:'none',color:'#aaa',cursor:'pointer'},children:\"Cancel\"})]})]})]});};export default ChatHeader;","map":{"version":3,"names":["React","MoreVertical","COLORS","jsx","_jsx","jsxs","_jsxs","ChatHeader","_ref","selectedChat","userProfiles","loggedInUser","activeHeaderMenu","setActiveHeaderMenu","onRenameGroup","onDeleteChat","isDM","type","participants","length","displayTitle","name","_selectedChat$partici","otherUser","participantDetails","find","p","uid","freshUser","playerName","displaySubtext","_selectedChat$partici2","others","filter","map","fresh","join","style","padding","borderBottom","concat","border","backgroundColor","background","boxSizing","display","justifyContent","alignItems","children","flex","textAlign","margin","fontSize","color","position","marginLeft","onClick","cursor","size","right","top","borderRadius","zIndex","minWidth","boxShadow","width","danger"],"sources":["/Users/dbroxton/Documents/Projects/soccer-management-app/src/components/chat/ChatHeader.js"],"sourcesContent":["import React from 'react';\nimport { MoreVertical } from 'lucide-react'; \nimport { COLORS } from '../../constants';\n\nconst ChatHeader = ({ \n  selectedChat, \n  userProfiles, \n  loggedInUser, \n  activeHeaderMenu, \n  setActiveHeaderMenu, \n  onRenameGroup, \n  onDeleteChat \n}) => {\n  if (!selectedChat) return null;\n\n  // Logic to determine display title\n  const isDM = selectedChat.type === 'dm' || (selectedChat.participants && selectedChat.participants.length === 2 && selectedChat.type !== 'roster');\n  let displayTitle = selectedChat.name;\n  \n  if (isDM) {\n    const otherUser = selectedChat.participantDetails?.find(p => p.uid !== loggedInUser.uid);\n    if (otherUser) {\n      const freshUser = userProfiles[otherUser.uid];\n      displayTitle = freshUser ? (freshUser.playerName || otherUser.name) : otherUser.name;\n    }\n  }\n\n  // Logic for subtext (participants)\n  let displaySubtext = null;\n  if (!isDM) {\n    const others = selectedChat.participantDetails?.filter(p => p.uid !== loggedInUser.uid);\n    if (others && others.length > 0) {\n      displaySubtext = others.map(p => {\n        const fresh = userProfiles[p.uid];\n        return fresh ? (fresh.playerName || p.name) : p.name;\n      }).join(', ');\n    }\n  }\n\n  return (\n    <div style={{ \n      padding: '15px', \n      borderBottom: `1px solid ${COLORS.border}`, \n      backgroundColor: COLORS.background, \n      boxSizing: 'border-box', \n      display: 'flex', \n      justifyContent: 'space-between', \n      alignItems: 'center' \n    }}>\n      \n      <div style={{ flex: 1, textAlign: 'center' }}>\n        <h3 style={{ margin: 0 }}>{displayTitle}</h3>\n        {displaySubtext && (\n          <span style={{ fontSize: '12px', color: '#888' }}>\n            {displaySubtext}\n          </span>\n        )}\n      </div>\n\n      <div style={{ position: 'relative', marginLeft: '10px' }}>\n        <button \n          onClick={() => setActiveHeaderMenu(!activeHeaderMenu)}\n          style={{ background: 'none', border: 'none', color: '#aaa', cursor: 'pointer', display: 'flex', alignItems: 'center' }}\n        >\n          <MoreVertical size={24} />\n        </button>\n        \n        {activeHeaderMenu && (\n          <div style={{ \n            position: 'absolute', right: '0', top: '35px', \n            backgroundColor: '#222', border: '1px solid #555', borderRadius: '5px', \n            zIndex: 100, minWidth: '150px', boxShadow: '0 2px 10px rgba(0,0,0,0.5)'\n          }}>\n            {(selectedChat.type === 'group' || (selectedChat.participants && selectedChat.participants.length > 2)) && (\n                <button \n                  onClick={onRenameGroup}\n                  style={{ display: 'block', width: '100%', padding: '12px', textAlign: 'left', background: 'none', border: 'none', color: 'white', cursor: 'pointer', borderBottom: '1px solid #333' }}\n                >\n                  Rename Group\n                </button>\n            )}\n            \n            <button \n              onClick={() => onDeleteChat(selectedChat)}\n              style={{ display: 'block', width: '100%', padding: '12px', textAlign: 'left', background: 'none', border: 'none', color: COLORS.danger, cursor: 'pointer', borderBottom: '1px solid #333' }}\n            >\n              Delete Chat\n            </button>\n            \n            <button \n              onClick={() => setActiveHeaderMenu(false)}\n              style={{ display: 'block', width: '100%', padding: '12px', textAlign: 'left', background: 'none', border: 'none', color: '#aaa', cursor: 'pointer' }}\n            >\n              Cancel\n            </button>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default ChatHeader;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}