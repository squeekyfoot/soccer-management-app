{"ast":null,"code":"import _objectSpread from\"/Users/dbroxton/Documents/Projects/soccer-management-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{useAuth}from'../../../context/AuthContext';import Header from'../../common/Header';import Button from'../../common/Button';import Card from'../../common/Card';import Modal from'../../common/Modal';import Input from'../../common/Input';import{COLORS,MOBILE_BREAKPOINT}from'../../../lib/constants';import{ThumbsUp,MessageSquare,CheckCircle,AlertCircle,Clock,Plus,Trash2,ShieldAlert,Edit3,PlusCircle}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Feedback(){const{subscribeToFeedback,createFeedback,voteForFeedback,updateFeedback,deleteFeedback,addDeveloperNote,// New functions\nloggedInUser,isDeveloper}=useAuth();// --- State ---\nconst[feedbackList,setFeedbackList]=useState([]);const[filteredList,setFilteredList]=useState([]);const[currentView,setCurrentView]=useState('list');// 'list' | 'detail'\nconst[selectedFeedback,setSelectedFeedback]=useState(null);const[isMobile,setIsMobile]=useState(window.innerWidth<MOBILE_BREAKPOINT);// --- Filter State ---\nconst[activeFilter,setActiveFilter]=useState('Active');// Active, Completed, Rejected\nconst[counts,setCounts]=useState({Active:0,Completed:0,Rejected:0});// --- Modal State ---\nconst[showAddModal,setShowAddModal]=useState(false);const[newFeedback,setNewFeedback]=useState({title:\"\",type:\"Suggestion\",description:\"\"});// --- Developer Edit State ---\nconst[newNoteText,setNewNoteText]=useState(\"\");const[devStatus,setDevStatus]=useState(\"\");const[devOverrideMode,setDevOverrideMode]=useState(false);const[overrideData,setOverrideData]=useState({title:\"\",type:\"\",description:\"\"});useEffect(()=>{const handleResize=()=>setIsMobile(window.innerWidth<MOBILE_BREAKPOINT);window.addEventListener('resize',handleResize);return()=>window.removeEventListener('resize',handleResize);},[]);// --- Data Subscription ---\nuseEffect(()=>{const unsubscribe=subscribeToFeedback(data=>{setFeedbackList(data);// Calculate Counts\nconst active=data.filter(i=>i.status!=='Completed'&&i.status!=='Rejected').length;const completed=data.filter(i=>i.status==='Completed').length;const rejected=data.filter(i=>i.status==='Rejected').length;setCounts({Active:active,Completed:completed,Rejected:rejected});// If looking at detail, keep it fresh\nif(selectedFeedback){const updated=data.find(i=>i.id===selectedFeedback.id);if(updated)setSelectedFeedback(updated);}});return()=>unsubscribe();},[subscribeToFeedback,selectedFeedback]);// --- Filtering & Sorting Logic ---\nuseEffect(()=>{let filtered=[];if(activeFilter==='Active'){filtered=feedbackList.filter(item=>item.status!=='Completed'&&item.status!=='Rejected');// Sort Active: Highest Votes -> Newest\nfiltered.sort((a,b)=>{var _b$createdAt,_b$createdAt$toMillis,_a$createdAt,_a$createdAt$toMillis;if(b.votes!==a.votes)return b.votes-a.votes;return(((_b$createdAt=b.createdAt)===null||_b$createdAt===void 0?void 0:(_b$createdAt$toMillis=_b$createdAt.toMillis)===null||_b$createdAt$toMillis===void 0?void 0:_b$createdAt$toMillis.call(_b$createdAt))||0)-(((_a$createdAt=a.createdAt)===null||_a$createdAt===void 0?void 0:(_a$createdAt$toMillis=_a$createdAt.toMillis)===null||_a$createdAt$toMillis===void 0?void 0:_a$createdAt$toMillis.call(_a$createdAt))||0);});}else{// Completed or Rejected\nfiltered=feedbackList.filter(item=>item.status===activeFilter);// Sort Completed/Rejected: Newest Status Update -> Newest Creation\nfiltered.sort((a,b)=>{var _a$statusUpdatedAt,_a$statusUpdatedAt$to,_a$createdAt2,_a$createdAt2$toMilli,_b$statusUpdatedAt,_b$statusUpdatedAt$to,_b$createdAt2,_b$createdAt2$toMilli;const timeA=((_a$statusUpdatedAt=a.statusUpdatedAt)===null||_a$statusUpdatedAt===void 0?void 0:(_a$statusUpdatedAt$to=_a$statusUpdatedAt.toMillis)===null||_a$statusUpdatedAt$to===void 0?void 0:_a$statusUpdatedAt$to.call(_a$statusUpdatedAt))||((_a$createdAt2=a.createdAt)===null||_a$createdAt2===void 0?void 0:(_a$createdAt2$toMilli=_a$createdAt2.toMillis)===null||_a$createdAt2$toMilli===void 0?void 0:_a$createdAt2$toMilli.call(_a$createdAt2))||0;const timeB=((_b$statusUpdatedAt=b.statusUpdatedAt)===null||_b$statusUpdatedAt===void 0?void 0:(_b$statusUpdatedAt$to=_b$statusUpdatedAt.toMillis)===null||_b$statusUpdatedAt$to===void 0?void 0:_b$statusUpdatedAt$to.call(_b$statusUpdatedAt))||((_b$createdAt2=b.createdAt)===null||_b$createdAt2===void 0?void 0:(_b$createdAt2$toMilli=_b$createdAt2.toMillis)===null||_b$createdAt2$toMilli===void 0?void 0:_b$createdAt2$toMilli.call(_b$createdAt2))||0;return timeB-timeA;});}setFilteredList(filtered);},[feedbackList,activeFilter]);// --- Handlers ---\nconst handleVote=async(e,feedback)=>{e.stopPropagation();await voteForFeedback(feedback.id);};const handleAddSubmit=async e=>{e.preventDefault();if(!newFeedback.title||!newFeedback.description)return;const success=await createFeedback(newFeedback);if(success){setShowAddModal(false);setNewFeedback({title:\"\",type:\"Suggestion\",description:\"\"});}};// Developer Actions\nconst handleDevSaveStatus=async()=>{if(!selectedFeedback)return;const success=await updateFeedback(selectedFeedback.id,{status:devStatus});if(success)alert(\"Status updated.\");};const handleAddNote=async()=>{if(!selectedFeedback||!newNoteText.trim())return;const success=await addDeveloperNote(selectedFeedback.id,newNoteText);if(success){setNewNoteText(\"\");alert(\"Note added.\");}};const handleDevOverrideSave=async()=>{if(!selectedFeedback)return;const success=await updateFeedback(selectedFeedback.id,{title:overrideData.title,type:overrideData.type,description:overrideData.description});if(success){alert(\"Feedback details updated.\");setDevOverrideMode(false);}};const handleDevDelete=async()=>{if(!selectedFeedback)return;if(window.confirm(\"Are you sure you want to DELETE this feedback item? This cannot be undone.\")){const success=await deleteFeedback(selectedFeedback.id);if(success){setSelectedFeedback(null);setCurrentView('list');}}};// --- Helpers ---\nconst getStatusColor=status=>{switch(status){case'Accepted':return COLORS.success;case'In Progress':return'#ffc107';case'Completed':return'#00bcd4';case'Rejected':return COLORS.danger;default:return'#888';}};const getTypeIcon=type=>{switch(type){case'Bug':return/*#__PURE__*/_jsx(AlertCircle,{size:16,color:COLORS.danger});case'Suggestion':return/*#__PURE__*/_jsx(MessageSquare,{size:16,color:COLORS.primary});default:return/*#__PURE__*/_jsx(CheckCircle,{size:16,color:\"#888\"});}};const formatDate=timestamp=>{if(!timestamp)return'Unknown date';// Handle Firestore Timestamp or millis\nconst date=timestamp.toDate?timestamp.toDate():new Date(timestamp);return date.toLocaleDateString([],{month:'short',day:'numeric',year:'numeric'});};const formatDateTime=timestamp=>{if(!timestamp)return'';const date=timestamp.toDate?timestamp.toDate():new Date(timestamp);return date.toLocaleString([],{month:'short',day:'numeric',hour:'2-digit',minute:'2-digit'});};const handleCardClick=item=>{setSelectedFeedback(item);setDevStatus(item.status||'Proposed');setOverrideData({title:item.title,type:item.type,description:item.description});setCurrentView('detail');};// --- RENDER: Detail View ---\nif(currentView==='detail'&&selectedFeedback){var _selectedFeedback$vot;const hasVoted=(_selectedFeedback$vot=selectedFeedback.voters)===null||_selectedFeedback$vot===void 0?void 0:_selectedFeedback$vot.includes(loggedInUser.uid);const isClosed=selectedFeedback.status==='Completed'||selectedFeedback.status==='Rejected';// Sort notes: Newest first (LIFO stack)\n// FIX APPLIED HERE: Added Array.isArray check\nconst sortedNotes=(Array.isArray(selectedFeedback.developerNotes)?selectedFeedback.developerNotes:[]).sort((a,b)=>b.createdAt-a.createdAt);return/*#__PURE__*/_jsxs(\"div\",{className:\"view-container\",children:[/*#__PURE__*/_jsx(Header,{title:\"Feedback Details\",style:{maxWidth:'1000px',margin:'0 auto'},onBack:()=>setCurrentView('list')}),/*#__PURE__*/_jsx(\"div\",{className:\"view-content\",children:/*#__PURE__*/_jsxs(\"div\",{style:{maxWidth:'1000px',margin:'0 auto',textAlign:'left'},children:[/*#__PURE__*/_jsxs(Card,{style:{padding:'25px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'flex-start',marginBottom:'20px'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{style:{margin:'0 0 10px 0',color:'white'},children:selectedFeedback.title}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexWrap:'wrap',gap:'15px',fontSize:'14px',color:'#ccc'},children:[/*#__PURE__*/_jsxs(\"span\",{style:{display:'flex',alignItems:'center',gap:'5px'},children:[getTypeIcon(selectedFeedback.type),\" \",selectedFeedback.type]}),/*#__PURE__*/_jsxs(\"span\",{style:{display:'flex',alignItems:'center',gap:'5px',color:getStatusColor(selectedFeedback.status)},children:[/*#__PURE__*/_jsx(Clock,{size:16}),\" \",selectedFeedback.status]}),/*#__PURE__*/_jsxs(\"span\",{style:{color:'#888'},children:[\"Created: \",formatDate(selectedFeedback.createdAt)]}),isClosed&&selectedFeedback.statusUpdatedAt&&/*#__PURE__*/_jsxs(\"span\",{style:{color:getStatusColor(selectedFeedback.status)},children:[selectedFeedback.status==='Completed'?'Completed':'Rejected',\": \",formatDate(selectedFeedback.statusUpdatedAt)]})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',minWidth:'60px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'24px',fontWeight:'bold',marginBottom:'5px',color:isClosed?'#666':COLORS.primary},children:selectedFeedback.votes}),/*#__PURE__*/_jsx(Button,{onClick:e=>handleVote(e,selectedFeedback),disabled:isClosed// Disable if closed\n,style:{backgroundColor:hasVoted?COLORS.primary:isClosed?'#333':'#555',color:hasVoted?'#000':isClosed?'#666':'white',border:hasVoted?'none':isClosed?'1px solid #444':'none',cursor:isClosed?'not-allowed':'pointer',padding:'5px 15px',fontSize:'12px'},children:hasVoted?'Voted':isClosed?'Closed':'Vote'})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{borderTop:\"1px solid \".concat(COLORS.border),paddingTop:'20px',marginBottom:'20px'},children:[/*#__PURE__*/_jsx(\"h4\",{style:{marginTop:0,color:COLORS.primary},children:\"Description\"}),/*#__PURE__*/_jsx(\"p\",{style:{whiteSpace:'pre-wrap',lineHeight:'1.5',color:'#ddd'},children:selectedFeedback.description})]}),sortedNotes.length>0&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'30px'},children:[/*#__PURE__*/_jsxs(\"h4\",{style:{color:COLORS.primary,display:'flex',alignItems:'center',gap:'8px',marginBottom:'15px'},children:[/*#__PURE__*/_jsx(CheckCircle,{size:16}),\" Developer Notes\"]}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',flexDirection:'column',gap:'15px'},children:sortedNotes.map((note,idx)=>/*#__PURE__*/_jsxs(\"div\",{style:{backgroundColor:'rgba(97, 218, 251, 0.05)',padding:'15px',borderRadius:'8px',borderLeft:\"3px solid \".concat(COLORS.primary)},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',marginBottom:'5px',fontSize:'11px',color:'#888'},children:[/*#__PURE__*/_jsx(\"span\",{children:note.author||'Developer'}),/*#__PURE__*/_jsx(\"span\",{children:formatDateTime(note.createdAt)})]}),/*#__PURE__*/_jsx(\"p\",{style:{margin:0,fontSize:'14px',color:'white',whiteSpace:'pre-wrap'},children:note.text})]},idx))})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'20px',fontSize:'12px',color:'#666',textAlign:'right'},children:[\"Submitted by \",selectedFeedback.authorName]})]}),isDeveloper()&&/*#__PURE__*/_jsxs(Card,{style:{padding:'25px',border:\"1px solid \".concat(COLORS.primary),backgroundColor:'#2a2a2a',marginTop:'20px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',justifyContent:'space-between',marginBottom:'20px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'10px',color:COLORS.primary},children:[/*#__PURE__*/_jsx(ShieldAlert,{size:24}),/*#__PURE__*/_jsx(\"h3\",{style:{margin:0},children:\"Developer Controls\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setDevOverrideMode(!devOverrideMode),style:{background:'none',border:'none',color:'#aaa',cursor:'pointer',display:'flex',gap:'5px',fontSize:'12px'},children:[/*#__PURE__*/_jsx(Edit3,{size:14}),\" \",devOverrideMode?\"Cancel Override\":\"Override Details\"]})]}),devOverrideMode&&/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'20px',paddingBottom:'20px',borderBottom:'1px solid #444'},children:[/*#__PURE__*/_jsx(\"h4\",{style:{color:'white',marginTop:0},children:\"Override Original Details\"}),/*#__PURE__*/_jsx(Input,{label:\"Title\",value:overrideData.title,onChange:e=>setOverrideData(_objectSpread(_objectSpread({},overrideData),{},{title:e.target.value}))}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'15px'},children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'5px',color:'#ccc',fontSize:'14px'},children:\"Type\"}),/*#__PURE__*/_jsxs(\"select\",{value:overrideData.type,onChange:e=>setOverrideData(_objectSpread(_objectSpread({},overrideData),{},{type:e.target.value})),style:{width:'100%',padding:'10px',backgroundColor:'#3a3f4a',border:\"1px solid \".concat(COLORS.border),borderRadius:'4px',color:'white'},children:[/*#__PURE__*/_jsx(\"option\",{value:\"Suggestion\",children:\"Suggestion\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Bug\",children:\"Bug Issue\"}),/*#__PURE__*/_jsx(\"option\",{value:\"General\",children:\"General Feedback\"})]})]}),/*#__PURE__*/_jsx(Input,{label:\"Description\",multiline:true,value:overrideData.description,onChange:e=>setOverrideData(_objectSpread(_objectSpread({},overrideData),{},{description:e.target.value}))}),/*#__PURE__*/_jsx(Button,{onClick:handleDevOverrideSave,style:{width:'100%'},children:\"Update Content\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexDirection:'column',gap:'20px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'10px',alignItems:'flex-end'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{flex:1},children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'5px',color:'#ccc',fontSize:'14px'},children:\"Update Status\"}),/*#__PURE__*/_jsxs(\"select\",{value:devStatus,onChange:e=>setDevStatus(e.target.value),style:{width:'100%',padding:'10px',backgroundColor:'#3a3f4a',border:\"1px solid \".concat(COLORS.border),borderRadius:'4px',color:'white',fontSize:'16px'},children:[/*#__PURE__*/_jsx(\"option\",{value:\"Proposed\",children:\"Proposed\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Accepted\",children:\"Accepted\"}),/*#__PURE__*/_jsx(\"option\",{value:\"In Progress\",children:\"In Progress\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Completed\",children:\"Completed\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Rejected\",children:\"Rejected\"})]})]}),/*#__PURE__*/_jsx(Button,{onClick:handleDevSaveStatus,style:{height:'42px'},children:\"Update\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'5px',color:'#ccc',fontSize:'14px'},children:\"Add Developer Note (Public)\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'10px',alignItems:'flex-start'},children:[/*#__PURE__*/_jsx(\"textarea\",{value:newNoteText,onChange:e=>setNewNoteText(e.target.value),placeholder:\"Add a new update...\",style:{flex:1,padding:'10px',backgroundColor:'#3a3f4a',border:\"1px solid \".concat(COLORS.border),borderRadius:'4px',color:'white',fontSize:'16px',minHeight:'60px'}}),/*#__PURE__*/_jsx(Button,{onClick:handleAddNote,style:{height:'auto'},children:/*#__PURE__*/_jsx(PlusCircle,{size:20})})]})]}),/*#__PURE__*/_jsx(\"div\",{style:{borderTop:'1px solid #444',paddingTop:'15px',marginTop:'5px'},children:/*#__PURE__*/_jsxs(Button,{variant:\"danger\",onClick:handleDevDelete,style:{width:'100%'},children:[/*#__PURE__*/_jsx(Trash2,{size:16,style:{marginRight:'8px'}}),\" Delete Feedback Item\"]})})]})]})]})})]});}// --- RENDER: List View ---\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"view-container\",children:[/*#__PURE__*/_jsx(Header,{title:\"Feedback\",style:{maxWidth:'1000px',margin:'0 auto'},actions:/*#__PURE__*/_jsx(Button,{onClick:()=>setShowAddModal(true),style:{padding:0,width:'32px',height:'32px',display:'flex',alignItems:'center',justifyContent:'center',borderRadius:'50%'},children:/*#__PURE__*/_jsx(Plus,{size:18})})}),/*#__PURE__*/_jsx(\"div\",{className:\"view-content\",children:/*#__PURE__*/_jsxs(\"div\",{style:{maxWidth:'1000px',margin:'0 auto',width:'100%'},children:[/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',borderBottom:\"1px solid \".concat(COLORS.border),marginBottom:'20px'},children:['Active','Completed','Rejected'].map(tab=>/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setActiveFilter(tab),style:{flex:1,padding:'12px 5px',background:'none',border:'none',borderBottom:activeFilter===tab?\"3px solid \".concat(COLORS.primary):'3px solid transparent',color:activeFilter===tab?'white':'#888',fontWeight:activeFilter===tab?'bold':'normal',cursor:'pointer',transition:'all 0.2s',display:'flex',justifyContent:'center',alignItems:'center',gap:'6px'},children:[tab,/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'10px',backgroundColor:activeFilter===tab?COLORS.primary:'#444',color:activeFilter===tab?'#000':'#ccc',padding:'1px 6px',borderRadius:'10px'},children:counts[tab]})]},tab))}),filteredList.length===0?/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'center',color:'#888',marginTop:'50px'},children:/*#__PURE__*/_jsxs(\"p\",{children:[\"No items in \",activeFilter,\".\"]})}):/*#__PURE__*/_jsx(\"div\",{style:{display:'grid',gap:'15px',gridTemplateColumns:isMobile?'1fr':'repeat(auto-fill, minmax(250px, 1fr))'},children:filteredList.map(item=>{var _item$voters;const hasVoted=(_item$voters=item.voters)===null||_item$voters===void 0?void 0:_item$voters.includes(loggedInUser.uid);const isClosed=item.status==='Completed'||item.status==='Rejected';return/*#__PURE__*/_jsxs(Card,{onClick:()=>handleCardClick(item),hoverable:true,style:{display:'flex',flexDirection:'column',height:'100%',position:'relative'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',marginBottom:'10px'},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'10px',padding:'2px 6px',borderRadius:'4px',backgroundColor:'rgba(255,255,255,0.1)',color:getStatusColor(item.status),border:\"1px solid \".concat(getStatusColor(item.status))},children:item.status}),/*#__PURE__*/_jsxs(\"span\",{style:{fontSize:'12px',color:'#aaa',display:'flex',alignItems:'center',gap:'4px'},children:[getTypeIcon(item.type),\" \",item.type]})]}),/*#__PURE__*/_jsx(\"h3\",{style:{margin:'0 0 5px 0',fontSize:'16px',color:COLORS.primary},children:item.title}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'11px',color:'#666',marginBottom:'10px'},children:formatDate(item.createdAt)}),/*#__PURE__*/_jsx(\"p\",{style:{margin:'0 0 15px 0',fontSize:'13px',color:'#ccc',flex:1,overflow:'hidden',display:'-webkit-box',WebkitLineClamp:3,WebkitBoxOrient:'vertical'},children:item.description}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',marginTop:'auto',borderTop:'1px solid #444',paddingTop:'10px'},children:[/*#__PURE__*/_jsxs(\"span\",{style:{fontSize:'12px',color:'#666'},children:[\"by \",item.authorName]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'10px'},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontWeight:'bold',color:isClosed?'#666':'white'},children:item.votes}),/*#__PURE__*/_jsx(\"button\",{onClick:e=>handleVote(e,item),disabled:isClosed,style:{background:'none',border:'none',cursor:isClosed?'default':'pointer',color:hasVoted?COLORS.primary:'#888',display:'flex',alignItems:'center'},children:/*#__PURE__*/_jsx(ThumbsUp,{size:18,fill:hasVoted?COLORS.primary:\"none\"})})]})]})]},item.id);})})]})}),showAddModal&&/*#__PURE__*/_jsx(Modal,{title:\"Submit Feedback\",onClose:()=>setShowAddModal(false),actions:/*#__PURE__*/_jsx(Button,{onClick:handleAddSubmit,children:\"Submit\"}),children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleAddSubmit,style:{display:'flex',flexDirection:'column',gap:'10px',textAlign:'left'},children:[/*#__PURE__*/_jsx(Input,{label:\"Title\",placeholder:\"Short summary...\",value:newFeedback.title,onChange:e=>setNewFeedback(_objectSpread(_objectSpread({},newFeedback),{},{title:e.target.value}))}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'5px',color:'#ccc',fontSize:'14px'},children:\"Type\"}),/*#__PURE__*/_jsxs(\"select\",{value:newFeedback.type,onChange:e=>setNewFeedback(_objectSpread(_objectSpread({},newFeedback),{},{type:e.target.value})),style:{width:'100%',padding:'10px',backgroundColor:'#3a3f4a',border:\"1px solid \".concat(COLORS.border),borderRadius:'4px',color:'white',fontSize:'16px'},children:[/*#__PURE__*/_jsx(\"option\",{value:\"Suggestion\",children:\"Suggestion\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Bug\",children:\"Bug Issue\"}),/*#__PURE__*/_jsx(\"option\",{value:\"General\",children:\"General Feedback\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'5px',color:'#ccc',fontSize:'14px'},children:\"Description\"}),/*#__PURE__*/_jsx(\"textarea\",{value:newFeedback.description,onChange:e=>setNewFeedback(_objectSpread(_objectSpread({},newFeedback),{},{description:e.target.value})),placeholder:\"Describe your feedback in detail...\",style:{width:'100%',padding:'10px',backgroundColor:'#3a3f4a',border:\"1px solid \".concat(COLORS.border),borderRadius:'4px',color:'white',fontSize:'16px',minHeight:'100px'}})]})]})})]});}export default Feedback;","map":{"version":3,"names":["React","useState","useEffect","useAuth","Header","Button","Card","Modal","Input","COLORS","MOBILE_BREAKPOINT","ThumbsUp","MessageSquare","CheckCircle","AlertCircle","Clock","Plus","Trash2","ShieldAlert","Edit3","PlusCircle","jsx","_jsx","jsxs","_jsxs","Feedback","subscribeToFeedback","createFeedback","voteForFeedback","updateFeedback","deleteFeedback","addDeveloperNote","loggedInUser","isDeveloper","feedbackList","setFeedbackList","filteredList","setFilteredList","currentView","setCurrentView","selectedFeedback","setSelectedFeedback","isMobile","setIsMobile","window","innerWidth","activeFilter","setActiveFilter","counts","setCounts","Active","Completed","Rejected","showAddModal","setShowAddModal","newFeedback","setNewFeedback","title","type","description","newNoteText","setNewNoteText","devStatus","setDevStatus","devOverrideMode","setDevOverrideMode","overrideData","setOverrideData","handleResize","addEventListener","removeEventListener","unsubscribe","data","active","filter","i","status","length","completed","rejected","updated","find","id","filtered","item","sort","a","b","_b$createdAt","_b$createdAt$toMillis","_a$createdAt","_a$createdAt$toMillis","votes","createdAt","toMillis","call","_a$statusUpdatedAt","_a$statusUpdatedAt$to","_a$createdAt2","_a$createdAt2$toMilli","_b$statusUpdatedAt","_b$statusUpdatedAt$to","_b$createdAt2","_b$createdAt2$toMilli","timeA","statusUpdatedAt","timeB","handleVote","e","feedback","stopPropagation","handleAddSubmit","preventDefault","success","handleDevSaveStatus","alert","handleAddNote","trim","handleDevOverrideSave","handleDevDelete","confirm","getStatusColor","danger","getTypeIcon","size","color","primary","formatDate","timestamp","date","toDate","Date","toLocaleDateString","month","day","year","formatDateTime","toLocaleString","hour","minute","handleCardClick","_selectedFeedback$vot","hasVoted","voters","includes","uid","isClosed","sortedNotes","Array","isArray","developerNotes","className","children","style","maxWidth","margin","onBack","textAlign","padding","display","justifyContent","alignItems","marginBottom","flexWrap","gap","fontSize","minWidth","fontWeight","onClick","disabled","backgroundColor","border","cursor","borderTop","concat","paddingTop","marginTop","whiteSpace","lineHeight","flexDirection","map","note","idx","borderRadius","borderLeft","author","text","authorName","background","paddingBottom","borderBottom","label","value","onChange","_objectSpread","target","width","multiline","flex","height","placeholder","minHeight","variant","marginRight","actions","tab","transition","gridTemplateColumns","_item$voters","hoverable","position","overflow","WebkitLineClamp","WebkitBoxOrient","fill","onClose","onSubmit"],"sources":["/Users/dbroxton/Documents/Projects/soccer-management-app/src/components/views/Feedback/Feedback.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useAuth } from '../../../context/AuthContext';\nimport Header from '../../common/Header';\nimport Button from '../../common/Button';\nimport Card from '../../common/Card';\nimport Modal from '../../common/Modal';\nimport Input from '../../common/Input';\nimport { COLORS, MOBILE_BREAKPOINT } from '../../../lib/constants';\nimport { ThumbsUp, MessageSquare, CheckCircle, AlertCircle, Clock, Plus, Trash2, ShieldAlert, Edit3, PlusCircle } from 'lucide-react';\n\nfunction Feedback() {\n  const { \n    subscribeToFeedback, createFeedback, voteForFeedback, \n    updateFeedback, deleteFeedback, addDeveloperNote, // New functions\n    loggedInUser, isDeveloper \n  } = useAuth();\n\n  // --- State ---\n  const [feedbackList, setFeedbackList] = useState([]);\n  const [filteredList, setFilteredList] = useState([]);\n  const [currentView, setCurrentView] = useState('list'); // 'list' | 'detail'\n  const [selectedFeedback, setSelectedFeedback] = useState(null);\n  const [isMobile, setIsMobile] = useState(window.innerWidth < MOBILE_BREAKPOINT);\n  \n  // --- Filter State ---\n  const [activeFilter, setActiveFilter] = useState('Active'); // Active, Completed, Rejected\n  const [counts, setCounts] = useState({ Active: 0, Completed: 0, Rejected: 0 });\n\n  // --- Modal State ---\n  const [showAddModal, setShowAddModal] = useState(false);\n  const [newFeedback, setNewFeedback] = useState({\n    title: \"\",\n    type: \"Suggestion\",\n    description: \"\"\n  });\n\n  // --- Developer Edit State ---\n  const [newNoteText, setNewNoteText] = useState(\"\");\n  const [devStatus, setDevStatus] = useState(\"\");\n  const [devOverrideMode, setDevOverrideMode] = useState(false);\n  const [overrideData, setOverrideData] = useState({\n      title: \"\",\n      type: \"\",\n      description: \"\"\n  });\n\n  useEffect(() => {\n    const handleResize = () => setIsMobile(window.innerWidth < MOBILE_BREAKPOINT);\n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  }, []);\n\n  // --- Data Subscription ---\n  useEffect(() => {\n    const unsubscribe = subscribeToFeedback((data) => {\n      setFeedbackList(data);\n      \n      // Calculate Counts\n      const active = data.filter(i => i.status !== 'Completed' && i.status !== 'Rejected').length;\n      const completed = data.filter(i => i.status === 'Completed').length;\n      const rejected = data.filter(i => i.status === 'Rejected').length;\n      setCounts({ Active: active, Completed: completed, Rejected: rejected });\n\n      // If looking at detail, keep it fresh\n      if (selectedFeedback) {\n          const updated = data.find(i => i.id === selectedFeedback.id);\n          if (updated) setSelectedFeedback(updated);\n      }\n    });\n    return () => unsubscribe();\n  }, [subscribeToFeedback, selectedFeedback]);\n\n  // --- Filtering & Sorting Logic ---\n  useEffect(() => {\n    let filtered = [];\n    \n    if (activeFilter === 'Active') {\n        filtered = feedbackList.filter(item => \n            item.status !== 'Completed' && item.status !== 'Rejected'\n        );\n        // Sort Active: Highest Votes -> Newest\n        filtered.sort((a, b) => {\n            if (b.votes !== a.votes) return b.votes - a.votes;\n            return (b.createdAt?.toMillis?.() || 0) - (a.createdAt?.toMillis?.() || 0);\n        });\n    } else {\n        // Completed or Rejected\n        filtered = feedbackList.filter(item => item.status === activeFilter);\n        // Sort Completed/Rejected: Newest Status Update -> Newest Creation\n        filtered.sort((a, b) => {\n             const timeA = a.statusUpdatedAt?.toMillis?.() || a.createdAt?.toMillis?.() || 0;\n             const timeB = b.statusUpdatedAt?.toMillis?.() || b.createdAt?.toMillis?.() || 0;\n             return timeB - timeA;\n        });\n    }\n    setFilteredList(filtered);\n  }, [feedbackList, activeFilter]);\n\n  // --- Handlers ---\n  const handleVote = async (e, feedback) => {\n    e.stopPropagation(); \n    await voteForFeedback(feedback.id);\n  };\n\n  const handleAddSubmit = async (e) => {\n    e.preventDefault();\n    if (!newFeedback.title || !newFeedback.description) return;\n    \n    const success = await createFeedback(newFeedback);\n    if (success) {\n      setShowAddModal(false);\n      setNewFeedback({ title: \"\", type: \"Suggestion\", description: \"\" });\n    }\n  };\n\n  // Developer Actions\n  const handleDevSaveStatus = async () => {\n    if (!selectedFeedback) return;\n    const success = await updateFeedback(selectedFeedback.id, { status: devStatus });\n    if (success) alert(\"Status updated.\");\n  };\n\n  const handleAddNote = async () => {\n      if (!selectedFeedback || !newNoteText.trim()) return;\n      const success = await addDeveloperNote(selectedFeedback.id, newNoteText);\n      if (success) {\n          setNewNoteText(\"\");\n          alert(\"Note added.\");\n      }\n  };\n\n  const handleDevOverrideSave = async () => {\n      if (!selectedFeedback) return;\n      const success = await updateFeedback(selectedFeedback.id, {\n          title: overrideData.title,\n          type: overrideData.type,\n          description: overrideData.description\n      });\n      if (success) {\n          alert(\"Feedback details updated.\");\n          setDevOverrideMode(false);\n      }\n  };\n\n  const handleDevDelete = async () => {\n      if (!selectedFeedback) return;\n      if (window.confirm(\"Are you sure you want to DELETE this feedback item? This cannot be undone.\")) {\n          const success = await deleteFeedback(selectedFeedback.id);\n          if (success) {\n              setSelectedFeedback(null);\n              setCurrentView('list');\n          }\n      }\n  };\n\n  // --- Helpers ---\n  const getStatusColor = (status) => {\n    switch (status) {\n      case 'Accepted': return COLORS.success;\n      case 'In Progress': return '#ffc107'; \n      case 'Completed': return '#00bcd4';   \n      case 'Rejected': return COLORS.danger;\n      default: return '#888'; \n    }\n  };\n\n  const getTypeIcon = (type) => {\n    switch (type) {\n      case 'Bug': return <AlertCircle size={16} color={COLORS.danger} />;\n      case 'Suggestion': return <MessageSquare size={16} color={COLORS.primary} />;\n      default: return <CheckCircle size={16} color=\"#888\" />;\n    }\n  };\n\n  const formatDate = (timestamp) => {\n      if (!timestamp) return 'Unknown date';\n      // Handle Firestore Timestamp or millis\n      const date = timestamp.toDate ? timestamp.toDate() : new Date(timestamp);\n      return date.toLocaleDateString([], { month: 'short', day: 'numeric', year: 'numeric' });\n  };\n\n  const formatDateTime = (timestamp) => {\n    if (!timestamp) return '';\n    const date = timestamp.toDate ? timestamp.toDate() : new Date(timestamp);\n    return date.toLocaleString([], { month: 'short', day: 'numeric', hour: '2-digit', minute: '2-digit' });\n  };\n\n  const handleCardClick = (item) => {\n      setSelectedFeedback(item);\n      setDevStatus(item.status || 'Proposed');\n      setOverrideData({\n          title: item.title,\n          type: item.type,\n          description: item.description\n      });\n      setCurrentView('detail');\n  };\n\n  // --- RENDER: Detail View ---\n  if (currentView === 'detail' && selectedFeedback) {\n    const hasVoted = selectedFeedback.voters?.includes(loggedInUser.uid);\n    const isClosed = selectedFeedback.status === 'Completed' || selectedFeedback.status === 'Rejected';\n    \n    // Sort notes: Newest first (LIFO stack)\n    // FIX APPLIED HERE: Added Array.isArray check\n    const sortedNotes = (Array.isArray(selectedFeedback.developerNotes) ? selectedFeedback.developerNotes : [])\n        .sort((a, b) => b.createdAt - a.createdAt);\n\n    return (\n      <div className=\"view-container\">\n        <Header \n          title=\"Feedback Details\" \n          style={{ maxWidth: '1000px', margin: '0 auto' }}\n          onBack={() => setCurrentView('list')}\n        />\n        <div className=\"view-content\">\n          <div style={{ maxWidth: '1000px', margin: '0 auto', textAlign: 'left' }}>\n            \n            <Card style={{ padding: '25px' }}>\n              {/* Header Row */}\n              <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'flex-start', marginBottom: '20px' }}>\n                <div>\n                  <h2 style={{ margin: '0 0 10px 0', color: 'white' }}>{selectedFeedback.title}</h2>\n                  <div style={{ display: 'flex', flexWrap: 'wrap', gap: '15px', fontSize: '14px', color: '#ccc' }}>\n                    <span style={{ display: 'flex', alignItems: 'center', gap: '5px' }}>\n                      {getTypeIcon(selectedFeedback.type)} {selectedFeedback.type}\n                    </span>\n                    <span style={{ display: 'flex', alignItems: 'center', gap: '5px', color: getStatusColor(selectedFeedback.status) }}>\n                      <Clock size={16} /> {selectedFeedback.status}\n                    </span>\n                    <span style={{ color: '#888' }}>\n                       Created: {formatDate(selectedFeedback.createdAt)}\n                    </span>\n                    {isClosed && selectedFeedback.statusUpdatedAt && (\n                        <span style={{ color: getStatusColor(selectedFeedback.status) }}>\n                            {selectedFeedback.status === 'Completed' ? 'Completed' : 'Rejected'}: {formatDate(selectedFeedback.statusUpdatedAt)}\n                        </span>\n                    )}\n                  </div>\n                </div>\n                \n                {/* Vote Button */}\n                <div style={{ textAlign: 'center', minWidth: '60px' }}>\n                   <div style={{ fontSize: '24px', fontWeight: 'bold', marginBottom: '5px', color: isClosed ? '#666' : COLORS.primary }}>\n                     {selectedFeedback.votes}\n                   </div>\n                   <Button \n                     onClick={(e) => handleVote(e, selectedFeedback)} \n                     disabled={isClosed} // Disable if closed\n                     style={{ \n                       backgroundColor: hasVoted ? COLORS.primary : (isClosed ? '#333' : '#555'),\n                       color: hasVoted ? '#000' : (isClosed ? '#666' : 'white'),\n                       border: hasVoted ? 'none' : (isClosed ? '1px solid #444' : 'none'),\n                       cursor: isClosed ? 'not-allowed' : 'pointer',\n                       padding: '5px 15px',\n                       fontSize: '12px'\n                     }}\n                   >\n                     {hasVoted ? 'Voted' : (isClosed ? 'Closed' : 'Vote')}\n                   </Button>\n                </div>\n              </div>\n\n              <div style={{ borderTop: `1px solid ${COLORS.border}`, paddingTop: '20px', marginBottom: '20px' }}>\n                <h4 style={{ marginTop: 0, color: COLORS.primary }}>Description</h4>\n                <p style={{ whiteSpace: 'pre-wrap', lineHeight: '1.5', color: '#ddd' }}>{selectedFeedback.description}</p>\n              </div>\n\n              {/* Developer Notes List */}\n              {(sortedNotes.length > 0) && (\n                <div style={{ marginTop: '30px' }}>\n                    <h4 style={{ color: COLORS.primary, display: 'flex', alignItems: 'center', gap: '8px', marginBottom: '15px' }}>\n                        <CheckCircle size={16} /> Developer Notes\n                    </h4>\n                    <div style={{ display: 'flex', flexDirection: 'column', gap: '15px' }}>\n                        {sortedNotes.map((note, idx) => (\n                            <div key={idx} style={{ backgroundColor: 'rgba(97, 218, 251, 0.05)', padding: '15px', borderRadius: '8px', borderLeft: `3px solid ${COLORS.primary}` }}>\n                                <div style={{ display: 'flex', justifyContent: 'space-between', marginBottom: '5px', fontSize: '11px', color: '#888' }}>\n                                    <span>{note.author || 'Developer'}</span>\n                                    <span>{formatDateTime(note.createdAt)}</span>\n                                </div>\n                                <p style={{ margin: 0, fontSize: '14px', color: 'white', whiteSpace: 'pre-wrap' }}>{note.text}</p>\n                            </div>\n                        ))}\n                    </div>\n                </div>\n              )}\n\n              <div style={{ marginTop: '20px', fontSize: '12px', color: '#666', textAlign: 'right' }}>\n                Submitted by {selectedFeedback.authorName}\n              </div>\n            </Card>\n\n            {/* --- DEVELOPER CONTROLS --- */}\n            {isDeveloper() && (\n                <Card style={{ padding: '25px', border: `1px solid ${COLORS.primary}`, backgroundColor: '#2a2a2a', marginTop: '20px' }}>\n                    <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between', marginBottom: '20px' }}>\n                        <div style={{ display: 'flex', alignItems: 'center', gap: '10px', color: COLORS.primary }}>\n                            <ShieldAlert size={24} />\n                            <h3 style={{ margin: 0 }}>Developer Controls</h3>\n                        </div>\n                        <button \n                           onClick={() => setDevOverrideMode(!devOverrideMode)}\n                           style={{ background: 'none', border: 'none', color: '#aaa', cursor: 'pointer', display: 'flex', gap: '5px', fontSize: '12px' }}\n                        >\n                           <Edit3 size={14} /> {devOverrideMode ? \"Cancel Override\" : \"Override Details\"}\n                        </button>\n                    </div>\n                    \n                    {/* Override Section */}\n                    {devOverrideMode && (\n                        <div style={{ marginBottom: '20px', paddingBottom: '20px', borderBottom: '1px solid #444' }}>\n                            <h4 style={{ color: 'white', marginTop: 0 }}>Override Original Details</h4>\n                            <Input label=\"Title\" value={overrideData.title} onChange={(e) => setOverrideData({...overrideData, title: e.target.value})} />\n                            \n                            <div style={{ marginBottom: '15px' }}>\n                                <label style={{ display: 'block', marginBottom: '5px', color: '#ccc', fontSize: '14px' }}>Type</label>\n                                <select \n                                    value={overrideData.type} \n                                    onChange={(e) => setOverrideData({...overrideData, type: e.target.value})}\n                                    style={{ width: '100%', padding: '10px', backgroundColor: '#3a3f4a', border: `1px solid ${COLORS.border}`, borderRadius: '4px', color: 'white' }}\n                                >\n                                    <option value=\"Suggestion\">Suggestion</option>\n                                    <option value=\"Bug\">Bug Issue</option>\n                                    <option value=\"General\">General Feedback</option>\n                                </select>\n                            </div>\n\n                            <Input label=\"Description\" multiline value={overrideData.description} onChange={(e) => setOverrideData({...overrideData, description: e.target.value})} />\n                            <Button onClick={handleDevOverrideSave} style={{ width: '100%' }}>Update Content</Button>\n                        </div>\n                    )}\n\n                    <div style={{ display: 'flex', flexDirection: 'column', gap: '20px' }}>\n                        {/* Status Update */}\n                        <div style={{ display: 'flex', gap: '10px', alignItems: 'flex-end' }}>\n                             <div style={{ flex: 1 }}>\n                                <label style={{ display: 'block', marginBottom: '5px', color: '#ccc', fontSize: '14px' }}>Update Status</label>\n                                <select \n                                    value={devStatus} \n                                    onChange={(e) => setDevStatus(e.target.value)}\n                                    style={{ \n                                        width: '100%', padding: '10px', backgroundColor: '#3a3f4a', \n                                        border: `1px solid ${COLORS.border}`, borderRadius: '4px', color: 'white', fontSize: '16px' \n                                    }}\n                                >\n                                    <option value=\"Proposed\">Proposed</option>\n                                    <option value=\"Accepted\">Accepted</option>\n                                    <option value=\"In Progress\">In Progress</option>\n                                    <option value=\"Completed\">Completed</option>\n                                    <option value=\"Rejected\">Rejected</option>\n                                </select>\n                             </div>\n                             <Button onClick={handleDevSaveStatus} style={{ height: '42px' }}>Update</Button>\n                        </div>\n\n                        {/* Add Note */}\n                        <div>\n                            <label style={{ display: 'block', marginBottom: '5px', color: '#ccc', fontSize: '14px' }}>Add Developer Note (Public)</label>\n                            <div style={{ display: 'flex', gap: '10px', alignItems: 'flex-start' }}>\n                                <textarea \n                                    value={newNoteText} \n                                    onChange={(e) => setNewNoteText(e.target.value)}\n                                    placeholder=\"Add a new update...\"\n                                    style={{ \n                                        flex: 1, padding: '10px', backgroundColor: '#3a3f4a', \n                                        border: `1px solid ${COLORS.border}`, borderRadius: '4px', color: 'white', fontSize: '16px', minHeight: '60px' \n                                    }} \n                                />\n                                <Button onClick={handleAddNote} style={{ height: 'auto' }}>\n                                   <PlusCircle size={20} />\n                                </Button>\n                            </div>\n                        </div>\n\n                        <div style={{ borderTop: '1px solid #444', paddingTop: '15px', marginTop: '5px' }}>\n                            <Button variant=\"danger\" onClick={handleDevDelete} style={{ width: '100%' }}>\n                                <Trash2 size={16} style={{ marginRight: '8px' }} /> Delete Feedback Item\n                            </Button>\n                        </div>\n                    </div>\n                </Card>\n            )}\n\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  // --- RENDER: List View ---\n  return (\n    <div className=\"view-container\">\n      <Header \n        title=\"Feedback\" \n        style={{ maxWidth: '1000px', margin: '0 auto' }}\n        actions={\n            <Button \n                onClick={() => setShowAddModal(true)} \n                style={{ \n                  padding: 0, \n                  width: '32px', height: '32px', \n                  display: 'flex', alignItems: 'center', justifyContent: 'center', \n                  borderRadius: '50%' \n                }}\n            >\n                <Plus size={18} />\n            </Button>\n        }\n      />\n      \n      <div className=\"view-content\">\n        <div style={{ maxWidth: '1000px', margin: '0 auto', width: '100%' }}>\n          \n          {/* Filter Tabs */}\n          <div style={{ display: 'flex', borderBottom: `1px solid ${COLORS.border}`, marginBottom: '20px' }}>\n             {['Active', 'Completed', 'Rejected'].map(tab => (\n                <button\n                   key={tab}\n                   onClick={() => setActiveFilter(tab)}\n                   style={{\n                       flex: 1,\n                       padding: '12px 5px',\n                       background: 'none',\n                       border: 'none',\n                       borderBottom: activeFilter === tab ? `3px solid ${COLORS.primary}` : '3px solid transparent',\n                       color: activeFilter === tab ? 'white' : '#888',\n                       fontWeight: activeFilter === tab ? 'bold' : 'normal',\n                       cursor: 'pointer',\n                       transition: 'all 0.2s',\n                       display: 'flex',\n                       justifyContent: 'center',\n                       alignItems: 'center',\n                       gap: '6px'\n                   }}\n                >\n                   {tab}\n                   <span style={{ \n                       fontSize: '10px', backgroundColor: activeFilter === tab ? COLORS.primary : '#444', \n                       color: activeFilter === tab ? '#000' : '#ccc', padding: '1px 6px', borderRadius: '10px' \n                   }}>\n                       {counts[tab]}\n                   </span>\n                </button>\n             ))}\n          </div>\n\n          {filteredList.length === 0 ? (\n            <div style={{ textAlign: 'center', color: '#888', marginTop: '50px' }}>\n              <p>No items in {activeFilter}.</p>\n            </div>\n          ) : (\n            <div style={{ \n              display: 'grid', \n              gap: '15px', \n              gridTemplateColumns: isMobile ? '1fr' : 'repeat(auto-fill, minmax(250px, 1fr))' \n            }}>\n              {filteredList.map(item => {\n                const hasVoted = item.voters?.includes(loggedInUser.uid);\n                const isClosed = item.status === 'Completed' || item.status === 'Rejected';\n\n                return (\n                  <Card \n                    key={item.id} \n                    onClick={() => handleCardClick(item)}\n                    hoverable\n                    style={{ display: 'flex', flexDirection: 'column', height: '100%', position: 'relative' }}\n                  >\n                    <div style={{ display: 'flex', justifyContent: 'space-between', marginBottom: '10px' }}>\n                      <span style={{ \n                        fontSize: '10px', padding: '2px 6px', borderRadius: '4px', \n                        backgroundColor: 'rgba(255,255,255,0.1)', color: getStatusColor(item.status),\n                        border: `1px solid ${getStatusColor(item.status)}`\n                      }}>\n                        {item.status}\n                      </span>\n                      <span style={{ fontSize: '12px', color: '#aaa', display: 'flex', alignItems: 'center', gap: '4px' }}>\n                        {getTypeIcon(item.type)} {item.type}\n                      </span>\n                    </div>\n\n                    <h3 style={{ margin: '0 0 5px 0', fontSize: '16px', color: COLORS.primary }}>{item.title}</h3>\n                    <div style={{ fontSize: '11px', color: '#666', marginBottom: '10px' }}>{formatDate(item.createdAt)}</div>\n                    \n                    <p style={{ \n                      margin: '0 0 15px 0', fontSize: '13px', color: '#ccc', flex: 1,\n                      overflow: 'hidden', display: '-webkit-box', WebkitLineClamp: 3, WebkitBoxOrient: 'vertical'\n                    }}>\n                      {item.description}\n                    </p>\n\n                    <div style={{ \n                      display: 'flex', justifyContent: 'space-between', alignItems: 'center', \n                      marginTop: 'auto', borderTop: '1px solid #444', paddingTop: '10px' \n                    }}>\n                      <span style={{ fontSize: '12px', color: '#666' }}>by {item.authorName}</span>\n                      \n                      <div style={{ display: 'flex', alignItems: 'center', gap: '10px' }}>\n                        <span style={{ fontWeight: 'bold', color: isClosed ? '#666' : 'white' }}>{item.votes}</span>\n                        <button \n                          onClick={(e) => handleVote(e, item)}\n                          disabled={isClosed}\n                          style={{\n                            background: 'none', border: 'none', cursor: isClosed ? 'default' : 'pointer',\n                            color: hasVoted ? COLORS.primary : '#888', display: 'flex', alignItems: 'center'\n                          }}\n                        >\n                          <ThumbsUp size={18} fill={hasVoted ? COLORS.primary : \"none\"} />\n                        </button>\n                      </div>\n                    </div>\n                  </Card>\n                );\n              })}\n            </div>\n          )}\n        </div>\n      </div>\n\n      {showAddModal && (\n        <Modal \n          title=\"Submit Feedback\" \n          onClose={() => setShowAddModal(false)}\n          actions={<Button onClick={handleAddSubmit}>Submit</Button>}\n        >\n          <form onSubmit={handleAddSubmit} style={{ display: 'flex', flexDirection: 'column', gap: '10px', textAlign: 'left' }}>\n            <Input \n              label=\"Title\" \n              placeholder=\"Short summary...\" \n              value={newFeedback.title} \n              onChange={(e) => setNewFeedback({...newFeedback, title: e.target.value})} \n            />\n            \n            <div>\n              <label style={{ display: 'block', marginBottom: '5px', color: '#ccc', fontSize: '14px' }}>Type</label>\n              <select \n                value={newFeedback.type} \n                onChange={(e) => setNewFeedback({...newFeedback, type: e.target.value})}\n                style={{ \n                  width: '100%', padding: '10px', backgroundColor: '#3a3f4a', \n                  border: `1px solid ${COLORS.border}`, borderRadius: '4px', color: 'white', fontSize: '16px' \n                }}\n              >\n                <option value=\"Suggestion\">Suggestion</option>\n                <option value=\"Bug\">Bug Issue</option>\n                <option value=\"General\">General Feedback</option>\n              </select>\n            </div>\n\n            <div>\n              <label style={{ display: 'block', marginBottom: '5px', color: '#ccc', fontSize: '14px' }}>Description</label>\n              <textarea \n                value={newFeedback.description} \n                onChange={(e) => setNewFeedback({...newFeedback, description: e.target.value})}\n                placeholder=\"Describe your feedback in detail...\"\n                style={{ \n                  width: '100%', padding: '10px', backgroundColor: '#3a3f4a', \n                  border: `1px solid ${COLORS.border}`, borderRadius: '4px', color: 'white', fontSize: '16px', minHeight: '100px' \n                }} \n              />\n            </div>\n          </form>\n        </Modal>\n      )}\n    </div>\n  );\n}\n\nexport default Feedback;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}