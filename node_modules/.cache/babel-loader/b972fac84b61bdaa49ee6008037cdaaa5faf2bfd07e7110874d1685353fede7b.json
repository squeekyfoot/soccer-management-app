{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useAuth}from'../../context/AuthContext';import{useChat}from'../../context/ChatContext';import{House,Users,MessageSquare,User,Settings,Dribbble,Lightbulb}from'lucide-react';// CHANGED: Point to 'lib' instead of 'config'\nimport{MOBILE_BREAKPOINT,COLORS}from'../../lib/constants';import Home from'../views/Home/Home';import Community from'../views/Community/Community';import MyTeams from'../views/MyTeams/MyTeams';import TeamChat from'../views/Messaging/TeamChat';import MyProfile from'../views/Profile/MyProfile';import Feedback from'../views/Feedback/Feedback';import ManagerDashboard from'../views/Manager/ManagerDashboard';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Layout(){const{isManager,loggedInUser}=useAuth();const{myChats}=useChat();const[activeView,setActiveView]=useState('home');const[isMobile,setIsMobile]=useState(window.innerWidth<MOBILE_BREAKPOINT);useEffect(()=>{const handleResize=()=>{setIsMobile(window.innerWidth<MOBILE_BREAKPOINT);};window.addEventListener('resize',handleResize);return()=>window.removeEventListener('resize',handleResize);},[]);const unreadTotal=myChats.reduce((sum,chat)=>{if(chat.unreadCounts&&loggedInUser&&chat.unreadCounts[loggedInUser.uid]){return sum+chat.unreadCounts[loggedInUser.uid];}return sum;},0);const renderActiveView=()=>{switch(activeView){case'home':return/*#__PURE__*/_jsx(Home,{});case'community':return/*#__PURE__*/_jsx(Community,{});case'myteams':return/*#__PURE__*/_jsx(MyTeams,{});case'messaging':return/*#__PURE__*/_jsx(TeamChat,{});case'profile':return/*#__PURE__*/_jsx(MyProfile,{});case'feedback':return/*#__PURE__*/_jsx(Feedback,{});case'manager':return/*#__PURE__*/_jsx(ManagerDashboard,{});default:return/*#__PURE__*/_jsx(Home,{});}};const NavButton=_ref=>{let{view,label,icon:Icon,showBadge}=_ref;return/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setActiveView(view),className:\"nav-btn \".concat(activeView===view?'active':''),style:{position:'relative'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{position:'relative'},children:[/*#__PURE__*/_jsx(Icon,{size:20}),isMobile&&showBadge&&activeView!=='messaging'&&unreadTotal>0&&/*#__PURE__*/_jsx(\"div\",{style:{position:'absolute',top:-2,right:-4,width:'8px',height:'8px',borderRadius:'50%',backgroundColor:COLORS.primary}})]}),/*#__PURE__*/_jsx(\"span\",{children:label}),!isMobile&&showBadge&&activeView!=='messaging'&&unreadTotal>0&&/*#__PURE__*/_jsx(\"div\",{style:{marginLeft:'auto',marginRight:'10px',width:'8px',height:'8px',borderRadius:'50%',backgroundColor:COLORS.primary}})]});};return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsxs(\"nav\",{className:isMobile?'tab-bar':'sidebar',children:[/*#__PURE__*/_jsx(NavButton,{view:\"home\",label:\"Home\",icon:House}),/*#__PURE__*/_jsx(NavButton,{view:\"community\",label:\"Community\",icon:Users}),/*#__PURE__*/_jsx(NavButton,{view:\"myteams\",label:\"My Teams\",icon:Dribbble}),/*#__PURE__*/_jsx(NavButton,{view:\"messaging\",label:\"Messaging\",icon:MessageSquare,showBadge:true}),/*#__PURE__*/_jsx(NavButton,{view:\"profile\",label:\"Profile\",icon:User}),/*#__PURE__*/_jsx(NavButton,{view:\"feedback\",label:\"Feedback\",icon:Lightbulb}),isManager()&&/*#__PURE__*/_jsx(NavButton,{view:\"manager\",label:\"Manager\",icon:Settings})]}),/*#__PURE__*/_jsx(\"main\",{className:\"main-content \".concat(isMobile?'mobile':''),children:renderActiveView()})]});}export default Layout;","map":{"version":3,"names":["React","useState","useEffect","useAuth","useChat","House","Users","MessageSquare","User","Settings","Dribbble","Lightbulb","MOBILE_BREAKPOINT","COLORS","Home","Community","MyTeams","TeamChat","MyProfile","Feedback","ManagerDashboard","jsx","_jsx","jsxs","_jsxs","Layout","isManager","loggedInUser","myChats","activeView","setActiveView","isMobile","setIsMobile","window","innerWidth","handleResize","addEventListener","removeEventListener","unreadTotal","reduce","sum","chat","unreadCounts","uid","renderActiveView","NavButton","_ref","view","label","icon","Icon","showBadge","onClick","className","concat","style","position","children","size","top","right","width","height","borderRadius","backgroundColor","primary","marginLeft","marginRight"],"sources":["/Users/dbroxton/Documents/Projects/soccer-management-app/src/components/layout/Layout.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useAuth } from '../../context/AuthContext'; \nimport { useChat } from '../../context/ChatContext'; \nimport { House, Users, MessageSquare, User, Settings, Dribbble, Lightbulb } from 'lucide-react'; \n// CHANGED: Point to 'lib' instead of 'config'\nimport { MOBILE_BREAKPOINT, COLORS } from '../../lib/constants';\n\nimport Home from '../views/Home/Home';\nimport Community from '../views/Community/Community'; \nimport MyTeams from '../views/MyTeams/MyTeams'; \nimport TeamChat from '../views/Messaging/TeamChat';\nimport MyProfile from '../views/Profile/MyProfile'; \nimport Feedback from '../views/Feedback/Feedback'; \nimport ManagerDashboard from '../views/Manager/ManagerDashboard'; \n\nfunction Layout() {\n  const { isManager, loggedInUser } = useAuth();\n  const { myChats } = useChat(); \n  const [activeView, setActiveView] = useState('home');\n  \n  const [isMobile, setIsMobile] = useState(window.innerWidth < MOBILE_BREAKPOINT);\n\n  useEffect(() => {\n    const handleResize = () => {\n      setIsMobile(window.innerWidth < MOBILE_BREAKPOINT);\n    };\n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  }, []);\n\n  const unreadTotal = myChats.reduce((sum, chat) => {\n    if (chat.unreadCounts && loggedInUser && chat.unreadCounts[loggedInUser.uid]) {\n      return sum + chat.unreadCounts[loggedInUser.uid];\n    }\n    return sum;\n  }, 0);\n\n  const renderActiveView = () => {\n    switch (activeView) {\n      case 'home': return <Home />;\n      case 'community': return <Community />; \n      case 'myteams': return <MyTeams />; \n      case 'messaging': return <TeamChat />;\n      case 'profile': return <MyProfile />; \n      case 'feedback': return <Feedback />; \n      case 'manager': return <ManagerDashboard />;\n      default: return <Home />;\n    }\n  };\n\n  const NavButton = ({ view, label, icon: Icon, showBadge }) => (\n    <button \n      onClick={() => setActiveView(view)}\n      className={`nav-btn ${activeView === view ? 'active' : ''}`}\n      style={{ position: 'relative' }}\n    >\n      <div style={{ position: 'relative' }}>\n        <Icon size={20} />\n        {isMobile && showBadge && activeView !== 'messaging' && unreadTotal > 0 && (\n          <div style={{\n            position: 'absolute', top: -2, right: -4, width: '8px', height: '8px',\n            borderRadius: '50%', backgroundColor: COLORS.primary \n          }} />\n        )}\n      </div>\n      \n      <span>{label}</span>\n      \n      {!isMobile && showBadge && activeView !== 'messaging' && unreadTotal > 0 && (\n        <div style={{\n          marginLeft: 'auto', marginRight: '10px', width: '8px', height: '8px',\n          borderRadius: '50%', backgroundColor: COLORS.primary \n        }} />\n      )}\n    </button>\n  );\n\n  return (\n    <div className=\"App\">\n      <nav className={isMobile ? 'tab-bar' : 'sidebar'}>\n        <NavButton view=\"home\" label=\"Home\" icon={House} />\n        <NavButton view=\"community\" label=\"Community\" icon={Users} />\n        <NavButton view=\"myteams\" label=\"My Teams\" icon={Dribbble} />\n        <NavButton view=\"messaging\" label=\"Messaging\" icon={MessageSquare} showBadge={true} />\n        <NavButton view=\"profile\" label=\"Profile\" icon={User} />\n        <NavButton view=\"feedback\" label=\"Feedback\" icon={Lightbulb} />\n        \n        {isManager() && (\n          <NavButton view=\"manager\" label=\"Manager\" icon={Settings} />\n        )}\n      </nav>\n\n      <main className={`main-content ${isMobile ? 'mobile' : ''}`}>\n        {renderActiveView()}\n      </main>\n    </div>\n  );\n}\n\nexport default Layout;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,OAAO,KAAQ,2BAA2B,CACnD,OAASC,OAAO,KAAQ,2BAA2B,CACnD,OAASC,KAAK,CAAEC,KAAK,CAAEC,aAAa,CAAEC,IAAI,CAAEC,QAAQ,CAAEC,QAAQ,CAAEC,SAAS,KAAQ,cAAc,CAC/F;AACA,OAASC,iBAAiB,CAAEC,MAAM,KAAQ,qBAAqB,CAE/D,MAAO,CAAAC,IAAI,KAAM,oBAAoB,CACrC,MAAO,CAAAC,SAAS,KAAM,8BAA8B,CACpD,MAAO,CAAAC,OAAO,KAAM,0BAA0B,CAC9C,MAAO,CAAAC,QAAQ,KAAM,6BAA6B,CAClD,MAAO,CAAAC,SAAS,KAAM,4BAA4B,CAClD,MAAO,CAAAC,QAAQ,KAAM,4BAA4B,CACjD,MAAO,CAAAC,gBAAgB,KAAM,mCAAmC,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEjE,QAAS,CAAAC,MAAMA,CAAA,CAAG,CAChB,KAAM,CAAEC,SAAS,CAAEC,YAAa,CAAC,CAAGxB,OAAO,CAAC,CAAC,CAC7C,KAAM,CAAEyB,OAAQ,CAAC,CAAGxB,OAAO,CAAC,CAAC,CAC7B,KAAM,CAACyB,UAAU,CAAEC,aAAa,CAAC,CAAG7B,QAAQ,CAAC,MAAM,CAAC,CAEpD,KAAM,CAAC8B,QAAQ,CAAEC,WAAW,CAAC,CAAG/B,QAAQ,CAACgC,MAAM,CAACC,UAAU,CAAGtB,iBAAiB,CAAC,CAE/EV,SAAS,CAAC,IAAM,CACd,KAAM,CAAAiC,YAAY,CAAGA,CAAA,GAAM,CACzBH,WAAW,CAACC,MAAM,CAACC,UAAU,CAAGtB,iBAAiB,CAAC,CACpD,CAAC,CACDqB,MAAM,CAACG,gBAAgB,CAAC,QAAQ,CAAED,YAAY,CAAC,CAC/C,MAAO,IAAMF,MAAM,CAACI,mBAAmB,CAAC,QAAQ,CAAEF,YAAY,CAAC,CACjE,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAG,WAAW,CAAGV,OAAO,CAACW,MAAM,CAAC,CAACC,GAAG,CAAEC,IAAI,GAAK,CAChD,GAAIA,IAAI,CAACC,YAAY,EAAIf,YAAY,EAAIc,IAAI,CAACC,YAAY,CAACf,YAAY,CAACgB,GAAG,CAAC,CAAE,CAC5E,MAAO,CAAAH,GAAG,CAAGC,IAAI,CAACC,YAAY,CAACf,YAAY,CAACgB,GAAG,CAAC,CAClD,CACA,MAAO,CAAAH,GAAG,CACZ,CAAC,CAAE,CAAC,CAAC,CAEL,KAAM,CAAAI,gBAAgB,CAAGA,CAAA,GAAM,CAC7B,OAAQf,UAAU,EAChB,IAAK,MAAM,CAAE,mBAAOP,IAAA,CAACR,IAAI,GAAE,CAAC,CAC5B,IAAK,WAAW,CAAE,mBAAOQ,IAAA,CAACP,SAAS,GAAE,CAAC,CACtC,IAAK,SAAS,CAAE,mBAAOO,IAAA,CAACN,OAAO,GAAE,CAAC,CAClC,IAAK,WAAW,CAAE,mBAAOM,IAAA,CAACL,QAAQ,GAAE,CAAC,CACrC,IAAK,SAAS,CAAE,mBAAOK,IAAA,CAACJ,SAAS,GAAE,CAAC,CACpC,IAAK,UAAU,CAAE,mBAAOI,IAAA,CAACH,QAAQ,GAAE,CAAC,CACpC,IAAK,SAAS,CAAE,mBAAOG,IAAA,CAACF,gBAAgB,GAAE,CAAC,CAC3C,QAAS,mBAAOE,IAAA,CAACR,IAAI,GAAE,CAAC,CAC1B,CACF,CAAC,CAED,KAAM,CAAA+B,SAAS,CAAGC,IAAA,MAAC,CAAEC,IAAI,CAAEC,KAAK,CAAEC,IAAI,CAAEC,IAAI,CAAEC,SAAU,CAAC,CAAAL,IAAA,oBACvDtB,KAAA,WACE4B,OAAO,CAAEA,CAAA,GAAMtB,aAAa,CAACiB,IAAI,CAAE,CACnCM,SAAS,YAAAC,MAAA,CAAazB,UAAU,GAAKkB,IAAI,CAAG,QAAQ,CAAG,EAAE,CAAG,CAC5DQ,KAAK,CAAE,CAAEC,QAAQ,CAAE,UAAW,CAAE,CAAAC,QAAA,eAEhCjC,KAAA,QAAK+B,KAAK,CAAE,CAAEC,QAAQ,CAAE,UAAW,CAAE,CAAAC,QAAA,eACnCnC,IAAA,CAAC4B,IAAI,EAACQ,IAAI,CAAE,EAAG,CAAE,CAAC,CACjB3B,QAAQ,EAAIoB,SAAS,EAAItB,UAAU,GAAK,WAAW,EAAIS,WAAW,CAAG,CAAC,eACrEhB,IAAA,QAAKiC,KAAK,CAAE,CACVC,QAAQ,CAAE,UAAU,CAAEG,GAAG,CAAE,CAAC,CAAC,CAAEC,KAAK,CAAE,CAAC,CAAC,CAAEC,KAAK,CAAE,KAAK,CAAEC,MAAM,CAAE,KAAK,CACrEC,YAAY,CAAE,KAAK,CAAEC,eAAe,CAAEnD,MAAM,CAACoD,OAC/C,CAAE,CAAE,CACL,EACE,CAAC,cAEN3C,IAAA,SAAAmC,QAAA,CAAOT,KAAK,CAAO,CAAC,CAEnB,CAACjB,QAAQ,EAAIoB,SAAS,EAAItB,UAAU,GAAK,WAAW,EAAIS,WAAW,CAAG,CAAC,eACtEhB,IAAA,QAAKiC,KAAK,CAAE,CACVW,UAAU,CAAE,MAAM,CAAEC,WAAW,CAAE,MAAM,CAAEN,KAAK,CAAE,KAAK,CAAEC,MAAM,CAAE,KAAK,CACpEC,YAAY,CAAE,KAAK,CAAEC,eAAe,CAAEnD,MAAM,CAACoD,OAC/C,CAAE,CAAE,CACL,EACK,CAAC,EACV,CAED,mBACEzC,KAAA,QAAK6B,SAAS,CAAC,KAAK,CAAAI,QAAA,eAClBjC,KAAA,QAAK6B,SAAS,CAAEtB,QAAQ,CAAG,SAAS,CAAG,SAAU,CAAA0B,QAAA,eAC/CnC,IAAA,CAACuB,SAAS,EAACE,IAAI,CAAC,MAAM,CAACC,KAAK,CAAC,MAAM,CAACC,IAAI,CAAE5C,KAAM,CAAE,CAAC,cACnDiB,IAAA,CAACuB,SAAS,EAACE,IAAI,CAAC,WAAW,CAACC,KAAK,CAAC,WAAW,CAACC,IAAI,CAAE3C,KAAM,CAAE,CAAC,cAC7DgB,IAAA,CAACuB,SAAS,EAACE,IAAI,CAAC,SAAS,CAACC,KAAK,CAAC,UAAU,CAACC,IAAI,CAAEvC,QAAS,CAAE,CAAC,cAC7DY,IAAA,CAACuB,SAAS,EAACE,IAAI,CAAC,WAAW,CAACC,KAAK,CAAC,WAAW,CAACC,IAAI,CAAE1C,aAAc,CAAC4C,SAAS,CAAE,IAAK,CAAE,CAAC,cACtF7B,IAAA,CAACuB,SAAS,EAACE,IAAI,CAAC,SAAS,CAACC,KAAK,CAAC,SAAS,CAACC,IAAI,CAAEzC,IAAK,CAAE,CAAC,cACxDc,IAAA,CAACuB,SAAS,EAACE,IAAI,CAAC,UAAU,CAACC,KAAK,CAAC,UAAU,CAACC,IAAI,CAAEtC,SAAU,CAAE,CAAC,CAE9De,SAAS,CAAC,CAAC,eACVJ,IAAA,CAACuB,SAAS,EAACE,IAAI,CAAC,SAAS,CAACC,KAAK,CAAC,SAAS,CAACC,IAAI,CAAExC,QAAS,CAAE,CAC5D,EACE,CAAC,cAENa,IAAA,SAAM+B,SAAS,iBAAAC,MAAA,CAAkBvB,QAAQ,CAAG,QAAQ,CAAG,EAAE,CAAG,CAAA0B,QAAA,CACzDb,gBAAgB,CAAC,CAAC,CACf,CAAC,EACJ,CAAC,CAEV,CAEA,cAAe,CAAAnB,MAAM","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}