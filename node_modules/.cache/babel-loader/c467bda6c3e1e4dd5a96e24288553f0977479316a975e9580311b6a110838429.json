{"ast":null,"code":"var _jsxFileName = \"/Users/dbroxton/Documents/Projects/soccer-management-app/src/components/UserSearch.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { collection, getDocs } from \"firebase/firestore\";\nimport { db } from \"../firebase\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction UserSearch({\n  onSelectionChange\n}) {\n  _s();\n  const [allUsers, setAllUsers] = useState([]);\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [selectedUsers, setSelectedUsers] = useState([]);\n  const [suggestions, setSuggestions] = useState([]);\n  useEffect(() => {\n    const fetchAllUsers = async () => {\n      try {\n        const querySnapshot = await getDocs(collection(db, \"users\"));\n        const users = querySnapshot.docs.map(doc => ({\n          uid: doc.id,\n          ...doc.data()\n        }));\n        setAllUsers(users);\n      } catch (error) {\n        console.error(\"Error fetching users for search:\", error);\n      }\n    };\n    fetchAllUsers();\n  }, []);\n  useEffect(() => {\n    if (searchTerm.trim() === \"\") {\n      setSuggestions([]);\n      return;\n    }\n    const lowerTerm = searchTerm.toLowerCase();\n    const filtered = allUsers.filter(user => user.playerName && user.playerName.toLowerCase().includes(lowerTerm) || user.email && user.email.toLowerCase().includes(lowerTerm)).filter(user => !selectedUsers.find(s => s.uid === user.uid));\n    setSuggestions(filtered.slice(0, 5));\n  }, [searchTerm, allUsers, selectedUsers]);\n  const addUser = user => {\n    const newSelection = [...selectedUsers, user];\n    setSelectedUsers(newSelection);\n    // Pass array of EMAILS back to parent\n    onSelectionChange(newSelection.map(u => u.email));\n    setSearchTerm(\"\");\n    setSuggestions([]);\n  };\n  const removeUser = userToRemove => {\n    const newSelection = selectedUsers.filter(u => u.uid !== userToRemove.uid);\n    setSelectedUsers(newSelection);\n    onSelectionChange(newSelection.map(u => u.email));\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      marginBottom: '15px'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n      style: {\n        display: 'block',\n        marginBottom: '5px',\n        color: 'white'\n      },\n      children: \"Add People:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        flexWrap: 'wrap',\n        gap: '5px',\n        marginBottom: '5px'\n      },\n      children: selectedUsers.map(user => /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          backgroundColor: '#0078d4',\n          color: 'white',\n          padding: '4px 8px',\n          borderRadius: '15px',\n          fontSize: '12px',\n          display: 'flex',\n          alignItems: 'center',\n          gap: '5px'\n        },\n        children: [user.playerName || user.email, /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => removeUser(user),\n          style: {\n            background: 'none',\n            border: 'none',\n            color: 'white',\n            cursor: 'pointer',\n            fontWeight: 'bold'\n          },\n          children: \"\\u2715\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 13\n        }, this)]\n      }, user.uid, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      value: searchTerm,\n      onChange: e => setSearchTerm(e.target.value),\n      placeholder: \"Search by name or email...\",\n      style: {\n        width: '100%',\n        padding: '8px',\n        backgroundColor: '#3a3f4a',\n        border: 'none',\n        color: 'white'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this), suggestions.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        backgroundColor: '#222',\n        border: '1px solid #444',\n        borderRadius: '4px',\n        position: 'absolute',\n        width: '80%',\n        zIndex: 10,\n        maxHeight: '150px',\n        overflowY: 'auto'\n      },\n      children: suggestions.map(user => /*#__PURE__*/_jsxDEV(\"div\", {\n        onClick: () => addUser(user),\n        style: {\n          padding: '8px',\n          borderBottom: '1px solid #333',\n          cursor: 'pointer',\n          color: 'white'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontWeight: 'bold'\n          },\n          children: user.playerName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontSize: '12px',\n            color: '#aaa'\n          },\n          children: user.email\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 15\n        }, this)]\n      }, user.uid, true, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 5\n  }, this);\n}\n_s(UserSearch, \"QlT4N3Kju58gb7MkrIs/9OqS3J0=\");\n_c = UserSearch;\nexport default UserSearch;\nvar _c;\n$RefreshReg$(_c, \"UserSearch\");","map":{"version":3,"names":["React","useState","useEffect","collection","getDocs","db","jsxDEV","_jsxDEV","UserSearch","onSelectionChange","_s","allUsers","setAllUsers","searchTerm","setSearchTerm","selectedUsers","setSelectedUsers","suggestions","setSuggestions","fetchAllUsers","querySnapshot","users","docs","map","doc","uid","id","data","error","console","trim","lowerTerm","toLowerCase","filtered","filter","user","playerName","includes","email","find","s","slice","addUser","newSelection","u","removeUser","userToRemove","style","marginBottom","children","display","color","fileName","_jsxFileName","lineNumber","columnNumber","flexWrap","gap","backgroundColor","padding","borderRadius","fontSize","alignItems","onClick","background","border","cursor","fontWeight","type","value","onChange","e","target","placeholder","width","length","position","zIndex","maxHeight","overflowY","borderBottom","_c","$RefreshReg$"],"sources":["/Users/dbroxton/Documents/Projects/soccer-management-app/src/components/UserSearch.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { collection, getDocs } from \"firebase/firestore\";\nimport { db } from \"../firebase\";\n\nfunction UserSearch({ onSelectionChange }) {\n  const [allUsers, setAllUsers] = useState([]);\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [selectedUsers, setSelectedUsers] = useState([]);\n  const [suggestions, setSuggestions] = useState([]);\n\n  useEffect(() => {\n    const fetchAllUsers = async () => {\n      try {\n        const querySnapshot = await getDocs(collection(db, \"users\"));\n        const users = querySnapshot.docs.map(doc => ({\n          uid: doc.id,\n          ...doc.data()\n        }));\n        setAllUsers(users);\n      } catch (error) {\n        console.error(\"Error fetching users for search:\", error);\n      }\n    };\n    fetchAllUsers();\n  }, []);\n\n  useEffect(() => {\n    if (searchTerm.trim() === \"\") {\n      setSuggestions([]);\n      return;\n    }\n    \n    const lowerTerm = searchTerm.toLowerCase();\n    const filtered = allUsers.filter(user => \n      (user.playerName && user.playerName.toLowerCase().includes(lowerTerm)) ||\n      (user.email && user.email.toLowerCase().includes(lowerTerm))\n    ).filter(user => \n      !selectedUsers.find(s => s.uid === user.uid)\n    );\n\n    setSuggestions(filtered.slice(0, 5));\n  }, [searchTerm, allUsers, selectedUsers]);\n\n  const addUser = (user) => {\n    const newSelection = [...selectedUsers, user];\n    setSelectedUsers(newSelection);\n    // Pass array of EMAILS back to parent\n    onSelectionChange(newSelection.map(u => u.email)); \n    setSearchTerm(\"\");\n    setSuggestions([]);\n  };\n\n  const removeUser = (userToRemove) => {\n    const newSelection = selectedUsers.filter(u => u.uid !== userToRemove.uid);\n    setSelectedUsers(newSelection);\n    onSelectionChange(newSelection.map(u => u.email));\n  };\n\n  return (\n    <div style={{ marginBottom: '15px' }}>\n      <label style={{ display: 'block', marginBottom: '5px', color: 'white' }}>\n        Add People:\n      </label>\n      \n      <div style={{ display: 'flex', flexWrap: 'wrap', gap: '5px', marginBottom: '5px' }}>\n        {selectedUsers.map(user => (\n          <span key={user.uid} style={{\n            backgroundColor: '#0078d4', color: 'white', padding: '4px 8px',\n            borderRadius: '15px', fontSize: '12px', display: 'flex', alignItems: 'center', gap: '5px'\n          }}>\n            {user.playerName || user.email}\n            <button \n              onClick={() => removeUser(user)}\n              style={{ background: 'none', border: 'none', color: 'white', cursor: 'pointer', fontWeight: 'bold' }}\n            >\n              âœ•\n            </button>\n          </span>\n        ))}\n      </div>\n\n      <input \n        type=\"text\" \n        value={searchTerm}\n        onChange={(e) => setSearchTerm(e.target.value)}\n        placeholder=\"Search by name or email...\"\n        style={{ width: '100%', padding: '8px', backgroundColor: '#3a3f4a', border: 'none', color: 'white' }}\n      />\n\n      {suggestions.length > 0 && (\n        <div style={{\n          backgroundColor: '#222', border: '1px solid #444', borderRadius: '4px',\n          position: 'absolute', width: '80%', zIndex: 10, maxHeight: '150px', overflowY: 'auto'\n        }}>\n          {suggestions.map(user => (\n            <div \n              key={user.uid}\n              onClick={() => addUser(user)}\n              style={{ padding: '8px', borderBottom: '1px solid #333', cursor: 'pointer', color: 'white' }}\n            >\n              <div style={{ fontWeight: 'bold' }}>{user.playerName}</div>\n              <div style={{ fontSize: '12px', color: '#aaa' }}>{user.email}</div>\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default UserSearch;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}