{"ast":null,"code":"import React,{useState,useEffect,useCallback}from'react';import{useAuth}from'../context/AuthContext';import Button from'./common/Button';import Input from'./common/Input';import{COLORS}from'../constants';import UserSearch from'./UserSearch';import Header from'./common/Header';import Avatar from'./common/Avatar';import Card from'./common/Card';import Modal from'./common/Modal';import{Plus,X,UserPlus}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function ManagerDashboard(){const{fetchRosters,createRoster,deleteRoster,addPlayerToRoster,removePlayerFromRoster,subscribeToIncomingRequests,respondToRequest,fetchPlayerDetails,fetchUserGroups,addGroupMembers,loggedInUser}=useAuth();// --- Data State ---\nconst[rosters,setRosters]=useState([]);const[incomingRequests,setIncomingRequests]=useState([]);const[isLoading,setIsLoading]=useState(true);const[selectedRoster,setSelectedRoster]=useState(null);// --- Create Roster Form State ---\nconst[showCreateForm,setShowCreateForm]=useState(false);const[newRosterName,setNewRosterName]=useState(\"\");const[newRosterSeason,setNewRosterSeason]=useState(\"\");const[newRosterCapacity,setNewRosterCapacity]=useState(\"20\");const[isDiscoverable,setIsDiscoverable]=useState(false);const[addManagerToRoster,setAddManagerToRoster]=useState(false);const[createAssociatedGroup,setCreateAssociatedGroup]=useState(false);const[associatedGroupName,setAssociatedGroupName]=useState(\"\");const[groupNameDirty,setGroupNameDirty]=useState(false);// --- Player Search State ---\nconst[selectedPlayerEmails,setSelectedPlayerEmails]=useState([]);const[userSearchKey,setUserSearchKey]=useState(0);// --- Request UI State ---\nconst[expandedRequestId,setExpandedRequestId]=useState(null);const[expandedPlayerDetails,setExpandedPlayerDetails]=useState(null);const[loadingDetails,setLoadingDetails]=useState(false);const[requestToApprove,setRequestToApprove]=useState(null);const[targetGroupId,setTargetGroupId]=useState(\"\");// --- Group/Modal State ---\nconst[myGroups,setMyGroups]=useState([]);const[showAddToGroupModal,setShowAddToGroupModal]=useState(false);const[playerToAdd,setPlayerToAdd]=useState(null);const[showConfirmAddModal,setShowConfirmAddModal]=useState(false);const[manualAddTargetGroupId,setManualAddTargetGroupId]=useState(\"\");const[showAddPlayerModal,setShowAddPlayerModal]=useState(false);// --- Data Loading ---\nconst loadRosters=useCallback(async()=>{setIsLoading(true);const data=await fetchRosters();setRosters(data);setIsLoading(false);},[fetchRosters]);const loadMyGroups=useCallback(async()=>{if(loggedInUser){const groups=await fetchUserGroups(loggedInUser.uid);setMyGroups(groups);}},[fetchUserGroups,loggedInUser]);useEffect(()=>{loadRosters();loadMyGroups();const unsubscribe=subscribeToIncomingRequests(requests=>{setIncomingRequests(requests);});return()=>{if(unsubscribe)unsubscribe();};// eslint-disable-next-line react-hooks/exhaustive-deps\n},[]);useEffect(()=>{if(selectedRoster){const updated=rosters.find(r=>r.id===selectedRoster.id);if(updated&&updated!==selectedRoster)setSelectedRoster(updated);}},[rosters,selectedRoster]);// --- Handlers: Form Inputs ---\nconst handleRosterNameChange=e=>{const val=e.target.value;setNewRosterName(val);if(!groupNameDirty){setAssociatedGroupName(val);}};const handleGroupNameChange=e=>{setAssociatedGroupName(e.target.value);setGroupNameDirty(true);};// --- Handlers: Roster Actions ---\nconst handleCreateSubmit=async e=>{e.preventDefault();if(!newRosterName||!newRosterSeason){alert(\"Please fill in all fields\");return;}const success=await createRoster(newRosterName,newRosterSeason,newRosterCapacity,isDiscoverable,{createGroup:createAssociatedGroup,groupName:associatedGroupName},addManagerToRoster);if(success){alert(\"Roster created!\");setShowCreateForm(false);setNewRosterName(\"\");setNewRosterSeason(\"\");setNewRosterCapacity(\"20\");setIsDiscoverable(false);setAddManagerToRoster(false);setCreateAssociatedGroup(false);setAssociatedGroupName(\"\");setGroupNameDirty(false);loadRosters();loadMyGroups();}};const handleDeleteRoster=async rosterId=>{if(window.confirm(\"Delete this roster? This cannot be undone.\")){const success=await deleteRoster(rosterId);if(success)loadRosters();}};// --- Handlers: Player Actions ---\nconst handleRemovePlayer=async playerSummary=>{if(window.confirm(\"Remove \".concat(playerSummary.playerName,\" from this roster?\"))){const success=await removePlayerFromRoster(selectedRoster.id,playerSummary);if(success)loadRosters();}};const initiateManualAdd=e=>{e.preventDefault();if(selectedPlayerEmails.length===0)return;const associated=myGroups.find(g=>g.associatedRosterId===selectedRoster.id);setManualAddTargetGroupId(associated?associated.id:\"\");setShowAddPlayerModal(false);setShowConfirmAddModal(true);};const executeManualAdd=async()=>{for(const email of selectedPlayerEmails){await addPlayerToRoster(selectedRoster.id,email);}if(manualAddTargetGroupId){await addGroupMembers(manualAddTargetGroupId,selectedPlayerEmails);}alert(\"Players added successfully!\");setSelectedPlayerEmails([]);setUserSearchKey(prev=>prev+1);setShowConfirmAddModal(false);setManualAddTargetGroupId(\"\");loadRosters();};const openAddToGroupModal=player=>{setPlayerToAdd(player);setShowAddToGroupModal(true);};const confirmAddToGroup=async groupId=>{if(!playerToAdd)return;const success=await addGroupMembers(groupId,[playerToAdd.email]);if(success){alert(\"\".concat(playerToAdd.playerName,\" added to group!\"));setShowAddToGroupModal(false);setPlayerToAdd(null);}};// --- Handlers: Requests ---\nconst initiateApproval=req=>{setRequestToApprove(req);const associated=myGroups.find(g=>g.associatedRosterId===req.rosterId);setTargetGroupId(associated?associated.id:\"\");};const confirmApproval=async()=>{if(!requestToApprove)return;await respondToRequest(requestToApprove,'approve',targetGroupId||null);loadRosters();setRequestToApprove(null);setTargetGroupId(\"\");};const handleDenyRequest=async request=>{if(window.confirm(\"Deny request from \".concat(request.userName,\"?\"))){await respondToRequest(request,'deny');}};const toggleRequestDetails=async req=>{if(expandedRequestId===req.id){setExpandedRequestId(null);setExpandedPlayerDetails(null);return;}setExpandedRequestId(req.id);setLoadingDetails(true);const details=await fetchPlayerDetails(req.userId);setExpandedPlayerDetails(details);setLoadingDetails(false);};// --- RENDER: Selected Roster Detail View ---\nif(selectedRoster){var _selectedRoster$playe;return/*#__PURE__*/_jsxs(\"div\",{className:\"view-container\",children:[/*#__PURE__*/_jsx(Header,{title:selectedRoster.name,style:{maxWidth:'1000px',margin:'0 auto'},onBack:()=>setSelectedRoster(null),actions:/*#__PURE__*/_jsx(Button,{onClick:()=>setShowAddPlayerModal(true),style:{padding:0,width:'32px',height:'32px',display:'flex',alignItems:'center',justifyContent:'center',borderRadius:'50%'},children:/*#__PURE__*/_jsx(UserPlus,{size:18})})}),/*#__PURE__*/_jsx(\"div\",{className:\"view-content\",children:/*#__PURE__*/_jsxs(\"div\",{style:{maxWidth:'1000px',margin:'0 auto',textAlign:'left'},children:[/*#__PURE__*/_jsxs(\"p\",{style:{color:'#ccc',marginTop:0},children:[selectedRoster.season,\" \\u2022 \",((_selectedRoster$playe=selectedRoster.players)===null||_selectedRoster$playe===void 0?void 0:_selectedRoster$playe.length)||0,\" / \",selectedRoster.maxCapacity,\" Players\",selectedRoster.isDiscoverable&&/*#__PURE__*/_jsx(\"span\",{style:{marginLeft:'10px',fontSize:'12px',backgroundColor:COLORS.success,padding:'2px 6px',borderRadius:'4px',color:'white'},children:\"Discoverable\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'30px'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{borderBottom:\"1px solid \".concat(COLORS.border),paddingBottom:'10px'},children:\"Roster\"}),!selectedRoster.players||selectedRoster.players.length===0?/*#__PURE__*/_jsx(\"p\",{style:{fontStyle:'italic',color:'#888'},children:\"No players yet.\"}):/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',flexDirection:'column',gap:'10px'},children:selectedRoster.players.map(player=>/*#__PURE__*/_jsxs(Card,{style:{display:'flex',justifyContent:'space-between',alignItems:'center',padding:'10px',marginBottom:0},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{style:{fontWeight:'bold',display:'block'},children:player.playerName}),/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'12px',color:'#aaa'},children:player.email})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'5px'},children:[/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:()=>openAddToGroupModal(player),style:{padding:'5px 10px',fontSize:'10px'},children:\"+ Group\"}),/*#__PURE__*/_jsx(Button,{variant:\"danger\",onClick:()=>handleRemovePlayer(player),style:{padding:'5px 10px',fontSize:'12px'},children:\"Remove\"})]})]},player.uid||player.email))})]}),showAddPlayerModal&&/*#__PURE__*/_jsx(Modal,{title:\"Add Players\",onClose:()=>setShowAddPlayerModal(false),actions:null,children:/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'left'},children:[/*#__PURE__*/_jsxs(\"p\",{style:{marginTop:0,fontSize:'14px',marginBottom:'15px',color:'#ccc'},children:[\"Search for users by name or email to add them to \",/*#__PURE__*/_jsx(\"strong\",{children:selectedRoster.name}),\".\"]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:initiateManualAdd,children:[/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:'20px'},children:/*#__PURE__*/_jsx(UserSearch,{onSelectionChange:setSelectedPlayerEmails},userSearchKey)}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'10px',justifyContent:'flex-end'},children:[/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:()=>setShowAddPlayerModal(false),children:\"Cancel\"}),/*#__PURE__*/_jsx(Button,{type:\"submit\",disabled:selectedPlayerEmails.length===0,children:\"Continue\"})]})]})]})}),showConfirmAddModal&&/*#__PURE__*/_jsxs(Modal,{title:\"Confirm Add\",onClose:()=>setShowConfirmAddModal(false),actions:/*#__PURE__*/_jsx(Button,{onClick:executeManualAdd,children:\"Add Players\"}),children:[/*#__PURE__*/_jsxs(\"p\",{style:{color:'#ccc'},children:[\"You are adding \",/*#__PURE__*/_jsx(\"strong\",{children:selectedPlayerEmails.length}),\" player(s) to \",/*#__PURE__*/_jsx(\"strong\",{children:selectedRoster.name}),\".\"]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'20px'},children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'10px',fontWeight:'bold'},children:\"Add to Community Group (Optional):\"}),/*#__PURE__*/_jsxs(\"select\",{value:manualAddTargetGroupId,onChange:e=>setManualAddTargetGroupId(e.target.value),style:{width:'100%',padding:'10px',borderRadius:'5px'},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"-- No Group --\"}),myGroups.map(g=>/*#__PURE__*/_jsx(\"option\",{value:g.id,children:g.name},g.id))]}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'11px',color:'#aaa',marginTop:'5px'},children:manualAddTargetGroupId?\"Players will also be added to this group.\":\"Players will only be added to the roster.\"})]})]}),showAddToGroupModal&&/*#__PURE__*/_jsxs(Modal,{title:\"Add \".concat(playerToAdd===null||playerToAdd===void 0?void 0:playerToAdd.playerName,\" to Group\"),onClose:()=>{setShowAddToGroupModal(false);setPlayerToAdd(null);},actions:null,children:[/*#__PURE__*/_jsx(\"p\",{style:{color:'#ccc'},children:\"Select a group to add this player to:\"}),/*#__PURE__*/_jsx(\"div\",{style:{maxHeight:'200px',overflowY:'auto',marginBottom:'20px',display:'grid',gap:'10px'},children:myGroups.length===0?/*#__PURE__*/_jsx(\"p\",{style:{fontStyle:'italic',color:'#aaa'},children:\"You don't manage any groups.\"}):myGroups.map(group=>{var _group$memberDetails;return/*#__PURE__*/_jsxs(Card,{onClick:()=>confirmAddToGroup(group.id),hoverable:true,children:[/*#__PURE__*/_jsx(\"strong\",{children:group.name}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"span\",{style:{fontSize:'11px',color:'#aaa'},children:[((_group$memberDetails=group.memberDetails)===null||_group$memberDetails===void 0?void 0:_group$memberDetails.length)||0,\" Members\"]})]},group.id);})})]})]})})]});}// --- RENDER: Main Dashboard List View ---\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"view-container\",children:[/*#__PURE__*/_jsx(Header,{title:\"Manager Dashboard\",style:{maxWidth:'1000px',margin:'0 auto'},actions:/*#__PURE__*/_jsx(Button,{onClick:()=>setShowCreateForm(!showCreateForm),style:{padding:0,width:'32px',height:'32px',display:'flex',alignItems:'center',justifyContent:'center',borderRadius:'50%'},children:showCreateForm?/*#__PURE__*/_jsx(X,{size:18}):/*#__PURE__*/_jsx(Plus,{size:18})})}),/*#__PURE__*/_jsx(\"div\",{className:\"view-content\",children:/*#__PURE__*/_jsxs(\"div\",{style:{maxWidth:'1000px',margin:'0 auto',textAlign:'left'},children:[incomingRequests.length>0&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'10px',marginBottom:'40px'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{color:COLORS.primary},children:\"Incoming Join Requests\"}),/*#__PURE__*/_jsx(\"div\",{style:{display:'grid',gap:'10px'},children:incomingRequests.map(req=>/*#__PURE__*/_jsxs(Card,{style:{border:\"1px solid \".concat(COLORS.primary)},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{style:{fontWeight:'bold'},children:req.userName}),/*#__PURE__*/_jsx(\"span\",{style:{color:'#aaa',margin:'0 10px'},children:\"wants to join\"}),/*#__PURE__*/_jsx(\"span\",{style:{fontWeight:'bold',color:'white'},children:req.rosterName})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'10px'},children:[/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:()=>toggleRequestDetails(req),style:{padding:'5px 15px',fontSize:'12px'},children:expandedRequestId===req.id?\"Hide Details\":\"View Profile\"}),/*#__PURE__*/_jsx(Button,{onClick:()=>initiateApproval(req),style:{padding:'5px 15px',fontSize:'12px'},children:\"Approve\"}),/*#__PURE__*/_jsx(Button,{variant:\"danger\",onClick:()=>handleDenyRequest(req),style:{padding:'5px 15px',fontSize:'12px'},children:\"Deny\"})]})]}),expandedRequestId===req.id&&/*#__PURE__*/_jsx(\"div\",{style:{marginTop:'15px',padding:'15px',backgroundColor:'#333',borderRadius:'5px',border:'1px solid #555'},children:loadingDetails?/*#__PURE__*/_jsx(\"p\",{style:{fontStyle:'italic',margin:0},children:\"Loading player details...\"}):expandedPlayerDetails?/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'14px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'15px',marginBottom:'10px'},children:[/*#__PURE__*/_jsx(Avatar,{src:expandedPlayerDetails.photoURL,text:expandedPlayerDetails.playerName,size:50}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:expandedPlayerDetails.playerName}),/*#__PURE__*/_jsx(\"div\",{style:{color:'#aaa'},children:expandedPlayerDetails.email}),/*#__PURE__*/_jsx(\"div\",{style:{color:'#aaa'},children:expandedPlayerDetails.phone})]})]}),expandedPlayerDetails.soccerDetails?/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'1fr 1fr',gap:'10px'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Positions:\"}),\" \",expandedPlayerDetails.soccerDetails.positions]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Skill Level:\"}),\" \",expandedPlayerDetails.soccerDetails.skillLevel]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Experience:\"}),\" \",expandedPlayerDetails.soccerDetails.yearsExperience]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Number:\"}),\" \",expandedPlayerDetails.soccerDetails.playerNumber]})]}):/*#__PURE__*/_jsx(\"p\",{style:{color:'#aaa',fontStyle:'italic'},children:\"No soccer details available.\"}),expandedPlayerDetails.comments&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'10px',borderTop:'1px solid #444',paddingTop:'10px'},children:[/*#__PURE__*/_jsx(\"strong\",{children:\"About:\"}),\" \",expandedPlayerDetails.comments]})]}):/*#__PURE__*/_jsx(\"p\",{style:{color:COLORS.danger},children:\"Failed to load details.\"})})]},req.id))})]}),requestToApprove&&/*#__PURE__*/_jsxs(Modal,{title:\"Confirm Approval\",onClose:()=>setRequestToApprove(null),actions:/*#__PURE__*/_jsx(Button,{onClick:confirmApproval,children:\"Confirm\"}),children:[/*#__PURE__*/_jsxs(\"p\",{style:{color:'#ccc'},children:[\"You are approving \",/*#__PURE__*/_jsx(\"strong\",{children:requestToApprove.userName}),\" for \",/*#__PURE__*/_jsx(\"strong\",{children:requestToApprove.rosterName}),\".\"]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'20px'},children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'10px',fontWeight:'bold'},children:\"Add to Community Group (Optional):\"}),/*#__PURE__*/_jsxs(\"select\",{value:targetGroupId,onChange:e=>setTargetGroupId(e.target.value),style:{width:'100%',padding:'10px',borderRadius:'5px'},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"-- No Group --\"}),myGroups.map(g=>/*#__PURE__*/_jsx(\"option\",{value:g.id,children:g.name},g.id))]}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'11px',color:'#aaa',marginTop:'5px'},children:targetGroupId?\"User will be added to this group automatically.\":\"User will only be added to the roster.\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'30px'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{marginTop:0,marginBottom:'15px'},children:\"Current Rosters\"}),showCreateForm&&/*#__PURE__*/_jsxs(Card,{style:{marginBottom:'20px',border:\"1px solid \".concat(COLORS.primary)},children:[/*#__PURE__*/_jsx(\"h4\",{style:{marginTop:0,color:'white'},children:\"New Roster Details\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleCreateSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'15px',flexWrap:'wrap'},children:[/*#__PURE__*/_jsx(\"div\",{style:{flex:1,minWidth:'200px'},children:/*#__PURE__*/_jsx(Input,{label:\"Roster Name\",placeholder:\"e.g. The Gizmos\",value:newRosterName,onChange:handleRosterNameChange})}),/*#__PURE__*/_jsx(\"div\",{style:{flex:1,minWidth:'150px'},children:/*#__PURE__*/_jsx(Input,{label:\"Season\",placeholder:\"e.g. Fall 2025\",value:newRosterSeason,onChange:e=>setNewRosterSeason(e.target.value)})}),/*#__PURE__*/_jsx(\"div\",{style:{width:'100px'},children:/*#__PURE__*/_jsx(Input,{label:\"Capacity\",type:\"number\",value:newRosterCapacity,onChange:e=>setNewRosterCapacity(e.target.value)})})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'20px',display:'flex',flexDirection:'column',gap:'15px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'10px'},children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",id:\"discoverableCheck\",checked:isDiscoverable,onChange:e=>setIsDiscoverable(e.target.checked)}),/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"discoverableCheck\",children:[\"Make this team \",/*#__PURE__*/_jsx(\"strong\",{children:\"Discoverable\"}),\" in \\\"Find Teams\\\"\"]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'10px'},children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",id:\"createGroupCheck\",checked:createAssociatedGroup,onChange:e=>setCreateAssociatedGroup(e.target.checked)}),/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"createGroupCheck\",children:[\"Create a new \",/*#__PURE__*/_jsx(\"strong\",{children:\"Community Group\"}),\" for this team\"]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'10px'},children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",id:\"addManagerCheck\",checked:addManagerToRoster,onChange:e=>setAddManagerToRoster(e.target.checked)}),/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"addManagerCheck\",children:[\"Add \",/*#__PURE__*/_jsx(\"strong\",{children:\"Myself\"}),\" to this roster\"]})]})]}),createAssociatedGroup&&/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:'20px'},children:/*#__PURE__*/_jsx(Input,{label:\"Group Name\",placeholder:\"e.g. The Gizmos Community\",value:associatedGroupName,onChange:handleGroupNameChange})}),/*#__PURE__*/_jsx(Button,{type:\"submit\",children:\"Save Roster\"})]})]}),isLoading?/*#__PURE__*/_jsx(\"p\",{children:\"Loading rosters...\"}):rosters.length===0?/*#__PURE__*/_jsx(\"p\",{style:{color:'#aaa',fontStyle:'italic'},children:\"No rosters found.\"}):/*#__PURE__*/_jsx(\"div\",{style:{display:'grid',gap:'15px'},children:rosters.map(roster=>{var _roster$players;return/*#__PURE__*/_jsxs(Card,{style:{display:'flex',justifyContent:'space-between',alignItems:'center'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{style:{margin:0,color:COLORS.primary},children:roster.name}),/*#__PURE__*/_jsxs(\"p\",{style:{margin:'5px 0 0 0',fontSize:'14px',color:'#ccc'},children:[roster.season,\" \\u2022 \",((_roster$players=roster.players)===null||_roster$players===void 0?void 0:_roster$players.length)||0,\" / \",roster.maxCapacity,\" players\",roster.isDiscoverable&&/*#__PURE__*/_jsx(\"span\",{style:{marginLeft:'10px',fontSize:'10px',border:'1px solid #555',padding:'2px 4px',borderRadius:'3px'},children:\"Public\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'10px'},children:[/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:()=>setSelectedRoster(roster),style:{padding:'5px 15px',fontSize:'12px'},children:\"Manage\"}),/*#__PURE__*/_jsx(Button,{variant:\"danger\",onClick:()=>handleDeleteRoster(roster.id),style:{padding:'5px 10px',fontSize:'12px'},children:\"Delete\"})]})]},roster.id);})})]})]})})]});}export default ManagerDashboard;","map":{"version":3,"names":["React","useState","useEffect","useCallback","useAuth","Button","Input","COLORS","UserSearch","Header","Avatar","Card","Modal","Plus","X","UserPlus","jsx","_jsx","jsxs","_jsxs","ManagerDashboard","fetchRosters","createRoster","deleteRoster","addPlayerToRoster","removePlayerFromRoster","subscribeToIncomingRequests","respondToRequest","fetchPlayerDetails","fetchUserGroups","addGroupMembers","loggedInUser","rosters","setRosters","incomingRequests","setIncomingRequests","isLoading","setIsLoading","selectedRoster","setSelectedRoster","showCreateForm","setShowCreateForm","newRosterName","setNewRosterName","newRosterSeason","setNewRosterSeason","newRosterCapacity","setNewRosterCapacity","isDiscoverable","setIsDiscoverable","addManagerToRoster","setAddManagerToRoster","createAssociatedGroup","setCreateAssociatedGroup","associatedGroupName","setAssociatedGroupName","groupNameDirty","setGroupNameDirty","selectedPlayerEmails","setSelectedPlayerEmails","userSearchKey","setUserSearchKey","expandedRequestId","setExpandedRequestId","expandedPlayerDetails","setExpandedPlayerDetails","loadingDetails","setLoadingDetails","requestToApprove","setRequestToApprove","targetGroupId","setTargetGroupId","myGroups","setMyGroups","showAddToGroupModal","setShowAddToGroupModal","playerToAdd","setPlayerToAdd","showConfirmAddModal","setShowConfirmAddModal","manualAddTargetGroupId","setManualAddTargetGroupId","showAddPlayerModal","setShowAddPlayerModal","loadRosters","data","loadMyGroups","groups","uid","unsubscribe","requests","updated","find","r","id","handleRosterNameChange","e","val","target","value","handleGroupNameChange","handleCreateSubmit","preventDefault","alert","success","createGroup","groupName","handleDeleteRoster","rosterId","window","confirm","handleRemovePlayer","playerSummary","concat","playerName","initiateManualAdd","length","associated","g","associatedRosterId","executeManualAdd","email","prev","openAddToGroupModal","player","confirmAddToGroup","groupId","initiateApproval","req","confirmApproval","handleDenyRequest","request","userName","toggleRequestDetails","details","userId","_selectedRoster$playe","className","children","title","name","style","maxWidth","margin","onBack","actions","onClick","padding","width","height","display","alignItems","justifyContent","borderRadius","size","textAlign","color","marginTop","season","players","maxCapacity","marginLeft","fontSize","backgroundColor","borderBottom","border","paddingBottom","fontStyle","flexDirection","gap","map","marginBottom","fontWeight","variant","onClose","onSubmit","onSelectionChange","type","disabled","onChange","maxHeight","overflowY","group","_group$memberDetails","hoverable","memberDetails","primary","rosterName","src","photoURL","text","phone","soccerDetails","gridTemplateColumns","positions","skillLevel","yearsExperience","playerNumber","comments","borderTop","paddingTop","danger","flexWrap","flex","minWidth","label","placeholder","checked","htmlFor","roster","_roster$players"],"sources":["/Users/dbroxton/Documents/Projects/soccer-management-app/src/components/ManagerDashboard.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport { useAuth } from '../context/AuthContext';\nimport Button from './common/Button'; \nimport Input from './common/Input';   \nimport { COLORS } from '../constants'; \nimport UserSearch from './UserSearch';\nimport Header from './common/Header';\nimport Avatar from './common/Avatar'; \nimport Card from './common/Card';     \nimport Modal from './common/Modal';\nimport { Plus, X, UserPlus } from 'lucide-react';\n\nfunction ManagerDashboard() {\n  const { \n    fetchRosters, createRoster, deleteRoster, addPlayerToRoster, removePlayerFromRoster,\n    subscribeToIncomingRequests, respondToRequest, fetchPlayerDetails,\n    fetchUserGroups, addGroupMembers, loggedInUser\n  } = useAuth();\n\n  // --- Data State ---\n  const [rosters, setRosters] = useState([]);\n  const [incomingRequests, setIncomingRequests] = useState([]); \n  const [isLoading, setIsLoading] = useState(true);\n  const [selectedRoster, setSelectedRoster] = useState(null); \n\n  // --- Create Roster Form State ---\n  const [showCreateForm, setShowCreateForm] = useState(false);\n  const [newRosterName, setNewRosterName] = useState(\"\");\n  const [newRosterSeason, setNewRosterSeason] = useState(\"\");\n  const [newRosterCapacity, setNewRosterCapacity] = useState(\"20\");\n  const [isDiscoverable, setIsDiscoverable] = useState(false); \n  const [addManagerToRoster, setAddManagerToRoster] = useState(false);\n  const [createAssociatedGroup, setCreateAssociatedGroup] = useState(false);\n  const [associatedGroupName, setAssociatedGroupName] = useState(\"\");\n  const [groupNameDirty, setGroupNameDirty] = useState(false);\n\n  // --- Player Search State ---\n  const [selectedPlayerEmails, setSelectedPlayerEmails] = useState([]);\n  const [userSearchKey, setUserSearchKey] = useState(0);\n\n  // --- Request UI State ---\n  const [expandedRequestId, setExpandedRequestId] = useState(null);\n  const [expandedPlayerDetails, setExpandedPlayerDetails] = useState(null);\n  const [loadingDetails, setLoadingDetails] = useState(false);\n  const [requestToApprove, setRequestToApprove] = useState(null);\n  const [targetGroupId, setTargetGroupId] = useState(\"\");\n\n  // --- Group/Modal State ---\n  const [myGroups, setMyGroups] = useState([]);\n  const [showAddToGroupModal, setShowAddToGroupModal] = useState(false);\n  const [playerToAdd, setPlayerToAdd] = useState(null); \n  const [showConfirmAddModal, setShowConfirmAddModal] = useState(false);\n  const [manualAddTargetGroupId, setManualAddTargetGroupId] = useState(\"\");\n  \n  const [showAddPlayerModal, setShowAddPlayerModal] = useState(false);\n\n  // --- Data Loading ---\n  const loadRosters = useCallback(async () => {\n    setIsLoading(true);\n    const data = await fetchRosters();\n    setRosters(data);\n    setIsLoading(false);\n  }, [fetchRosters]);\n\n  const loadMyGroups = useCallback(async () => {\n      if (loggedInUser) {\n          const groups = await fetchUserGroups(loggedInUser.uid);\n          setMyGroups(groups);\n      }\n  }, [fetchUserGroups, loggedInUser]);\n\n  useEffect(() => {\n    loadRosters();\n    loadMyGroups(); \n    const unsubscribe = subscribeToIncomingRequests((requests) => {\n      setIncomingRequests(requests);\n    });\n    return () => { if (unsubscribe) unsubscribe(); };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    if (selectedRoster) {\n      const updated = rosters.find(r => r.id === selectedRoster.id);\n      if (updated && updated !== selectedRoster) setSelectedRoster(updated);\n    }\n  }, [rosters, selectedRoster]);\n\n  // --- Handlers: Form Inputs ---\n  const handleRosterNameChange = (e) => {\n      const val = e.target.value;\n      setNewRosterName(val);\n      if (!groupNameDirty) {\n          setAssociatedGroupName(val);\n      }\n  };\n\n  const handleGroupNameChange = (e) => {\n      setAssociatedGroupName(e.target.value);\n      setGroupNameDirty(true);\n  };\n\n  // --- Handlers: Roster Actions ---\n  const handleCreateSubmit = async (e) => {\n    e.preventDefault();\n    if (!newRosterName || !newRosterSeason) { alert(\"Please fill in all fields\"); return; }\n    \n    const success = await createRoster(\n        newRosterName, newRosterSeason, newRosterCapacity, isDiscoverable,\n        { createGroup: createAssociatedGroup, groupName: associatedGroupName },\n        addManagerToRoster\n    );\n\n    if (success) {\n      alert(\"Roster created!\");\n      setShowCreateForm(false);\n      setNewRosterName(\"\"); setNewRosterSeason(\"\"); setNewRosterCapacity(\"20\");\n      setIsDiscoverable(false); setAddManagerToRoster(false); setCreateAssociatedGroup(false);\n      setAssociatedGroupName(\"\"); setGroupNameDirty(false);\n      loadRosters(); loadMyGroups(); \n    }\n  };\n\n  const handleDeleteRoster = async (rosterId) => {\n    if (window.confirm(\"Delete this roster? This cannot be undone.\")) {\n      const success = await deleteRoster(rosterId);\n      if (success) loadRosters();\n    }\n  };\n\n  // --- Handlers: Player Actions ---\n  const handleRemovePlayer = async (playerSummary) => {\n    if (window.confirm(`Remove ${playerSummary.playerName} from this roster?`)) {\n      const success = await removePlayerFromRoster(selectedRoster.id, playerSummary);\n      if (success) loadRosters();\n    }\n  };\n\n  const initiateManualAdd = (e) => {\n      e.preventDefault();\n      if (selectedPlayerEmails.length === 0) return;\n      \n      const associated = myGroups.find(g => g.associatedRosterId === selectedRoster.id);\n      setManualAddTargetGroupId(associated ? associated.id : \"\");\n      \n      setShowAddPlayerModal(false); \n      setShowConfirmAddModal(true);\n  };\n\n  const executeManualAdd = async () => {\n      for (const email of selectedPlayerEmails) {\n          await addPlayerToRoster(selectedRoster.id, email);\n      }\n      if (manualAddTargetGroupId) {\n          await addGroupMembers(manualAddTargetGroupId, selectedPlayerEmails);\n      }\n      alert(\"Players added successfully!\");\n      setSelectedPlayerEmails([]);\n      setUserSearchKey(prev => prev + 1); \n      setShowConfirmAddModal(false);\n      setManualAddTargetGroupId(\"\");\n      loadRosters();\n  };\n\n  const openAddToGroupModal = (player) => {\n      setPlayerToAdd(player);\n      setShowAddToGroupModal(true);\n  };\n\n  const confirmAddToGroup = async (groupId) => {\n      if (!playerToAdd) return;\n      const success = await addGroupMembers(groupId, [playerToAdd.email]);\n      if (success) {\n          alert(`${playerToAdd.playerName} added to group!`);\n          setShowAddToGroupModal(false);\n          setPlayerToAdd(null);\n      }\n  };\n\n  // --- Handlers: Requests ---\n  const initiateApproval = (req) => {\n      setRequestToApprove(req);\n      const associated = myGroups.find(g => g.associatedRosterId === req.rosterId);\n      setTargetGroupId(associated ? associated.id : \"\");\n  };\n\n  const confirmApproval = async () => {\n      if (!requestToApprove) return;\n      await respondToRequest(requestToApprove, 'approve', targetGroupId || null);\n      loadRosters(); \n      setRequestToApprove(null);\n      setTargetGroupId(\"\");\n  };\n\n  const handleDenyRequest = async (request) => {\n     if (window.confirm(`Deny request from ${request.userName}?`)) {\n         await respondToRequest(request, 'deny');\n     }\n  };\n\n  const toggleRequestDetails = async (req) => {\n      if (expandedRequestId === req.id) {\n          setExpandedRequestId(null); setExpandedPlayerDetails(null); return;\n      }\n      setExpandedRequestId(req.id);\n      setLoadingDetails(true);\n      const details = await fetchPlayerDetails(req.userId);\n      setExpandedPlayerDetails(details);\n      setLoadingDetails(false);\n  };\n\n  // --- RENDER: Selected Roster Detail View ---\n  if (selectedRoster) {\n    return (\n      <div className=\"view-container\">\n        <Header \n          title={selectedRoster.name}\n          style={{ maxWidth: '1000px', margin: '0 auto' }}\n          onBack={() => setSelectedRoster(null)}\n          actions={\n             <Button \n                onClick={() => setShowAddPlayerModal(true)} \n                style={{ \n                  padding: 0, \n                  width: '32px', height: '32px', \n                  display: 'flex', alignItems: 'center', justifyContent: 'center', \n                  borderRadius: '50%' \n                }}\n             >\n               <UserPlus size={18} />\n             </Button>\n          }\n        />\n\n        <div className=\"view-content\">\n          <div style={{ maxWidth: '1000px', margin: '0 auto', textAlign: 'left' }}>\n            <p style={{ color: '#ccc', marginTop: 0 }}>\n              {selectedRoster.season} • {selectedRoster.players?.length || 0} / {selectedRoster.maxCapacity} Players\n              {selectedRoster.isDiscoverable && <span style={{ marginLeft: '10px', fontSize: '12px', backgroundColor: COLORS.success, padding: '2px 6px', borderRadius: '4px', color: 'white' }}>Discoverable</span>}\n            </p>\n\n            <div style={{ marginTop: '30px' }}>\n                <h3 style={{ borderBottom: `1px solid ${COLORS.border}`, paddingBottom: '10px' }}>Roster</h3>\n                {(!selectedRoster.players || selectedRoster.players.length === 0) ? (\n                  <p style={{ fontStyle: 'italic', color: '#888' }}>No players yet.</p>\n                ) : (\n                  <div style={{ display: 'flex', flexDirection: 'column', gap: '10px' }}>\n                    {selectedRoster.players.map((player) => (\n                      <Card key={player.uid || player.email} style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', padding: '10px', marginBottom: 0 }}>\n                        <div>\n                          <span style={{ fontWeight: 'bold', display: 'block' }}>{player.playerName}</span>\n                          <span style={{ fontSize: '12px', color: '#aaa' }}>{player.email}</span>\n                        </div>\n                        <div style={{ display: 'flex', gap: '5px' }}>\n                            <Button variant=\"secondary\" onClick={() => openAddToGroupModal(player)} style={{ padding: '5px 10px', fontSize: '10px' }}>+ Group</Button>\n                            <Button variant=\"danger\" onClick={() => handleRemovePlayer(player)} style={{ padding: '5px 10px', fontSize: '12px' }}>Remove</Button>\n                        </div>\n                      </Card>\n                    ))}\n                  </div>\n                )}\n            </div>\n\n            {showAddPlayerModal && (\n              <Modal \n                title=\"Add Players\" \n                onClose={() => setShowAddPlayerModal(false)}\n                actions={null} \n              >\n                <div style={{ textAlign: 'left' }}>\n                  <p style={{ marginTop: 0, fontSize: '14px', marginBottom: '15px', color: '#ccc' }}>\n                    Search for users by name or email to add them to <strong>{selectedRoster.name}</strong>.\n                  </p>\n                  <form onSubmit={initiateManualAdd}>\n                    <div style={{ marginBottom: '20px' }}>\n                        <UserSearch key={userSearchKey} onSelectionChange={setSelectedPlayerEmails} />\n                    </div>\n                    <div style={{ display: 'flex', gap: '10px', justifyContent: 'flex-end' }}>\n                       <Button variant=\"secondary\" onClick={() => setShowAddPlayerModal(false)}>Cancel</Button>\n                       <Button type=\"submit\" disabled={selectedPlayerEmails.length === 0}>Continue</Button>\n                    </div>\n                  </form>\n                </div>\n              </Modal>\n            )}\n\n            {showConfirmAddModal && (\n                <Modal \n                  title=\"Confirm Add\" \n                  onClose={() => setShowConfirmAddModal(false)}\n                  actions={<Button onClick={executeManualAdd}>Add Players</Button>}\n                >\n                    <p style={{ color: '#ccc' }}>You are adding <strong>{selectedPlayerEmails.length}</strong> player(s) to <strong>{selectedRoster.name}</strong>.</p>\n                    <div style={{ marginBottom: '20px' }}>\n                        <label style={{ display: 'block', marginBottom: '10px', fontWeight: 'bold' }}>Add to Community Group (Optional):</label>\n                        <select value={manualAddTargetGroupId} onChange={(e) => setManualAddTargetGroupId(e.target.value)} style={{ width: '100%', padding: '10px', borderRadius: '5px' }}>\n                            <option value=\"\">-- No Group --</option>\n                            {myGroups.map(g => (<option key={g.id} value={g.id}>{g.name}</option>))}\n                        </select>\n                        <p style={{ fontSize: '11px', color: '#aaa', marginTop: '5px' }}>{manualAddTargetGroupId ? \"Players will also be added to this group.\" : \"Players will only be added to the roster.\"}</p>\n                    </div>\n                </Modal>\n            )}\n\n            {showAddToGroupModal && (\n                <Modal\n                  title={`Add ${playerToAdd?.playerName} to Group`}\n                  onClose={() => { setShowAddToGroupModal(false); setPlayerToAdd(null); }}\n                  actions={null} \n                >\n                    <p style={{ color: '#ccc' }}>Select a group to add this player to:</p>\n                    <div style={{ maxHeight: '200px', overflowY: 'auto', marginBottom: '20px', display: 'grid', gap: '10px' }}>\n                        {myGroups.length === 0 ? <p style={{ fontStyle: 'italic', color: '#aaa' }}>You don't manage any groups.</p> : myGroups.map(group => (\n                            <Card key={group.id} onClick={() => confirmAddToGroup(group.id)} hoverable>\n                                <strong>{group.name}</strong><br/>\n                                <span style={{ fontSize: '11px', color: '#aaa' }}>{group.memberDetails?.length || 0} Members</span>\n                            </Card>\n                        ))}\n                    </div>\n                </Modal>\n            )}\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  // --- RENDER: Main Dashboard List View ---\n  return (\n    <div className=\"view-container\">\n      <Header \n        title=\"Manager Dashboard\" \n        style={{ maxWidth: '1000px', margin: '0 auto' }}\n        actions={\n           <Button \n                onClick={() => setShowCreateForm(!showCreateForm)} \n                style={{ \n                  padding: 0, \n                  width: '32px', height: '32px', \n                  display: 'flex', alignItems: 'center', justifyContent: 'center', \n                  borderRadius: '50%' \n                }}\n           >\n            {showCreateForm ? <X size={18} /> : <Plus size={18} />}\n          </Button>\n        }\n      />\n\n      <div className=\"view-content\">\n        <div style={{ maxWidth: '1000px', margin: '0 auto', textAlign: 'left' }}>\n          \n          {incomingRequests.length > 0 && (\n            <div style={{ marginTop: '10px', marginBottom: '40px' }}>\n                <h3 style={{ color: COLORS.primary }}>Incoming Join Requests</h3>\n                <div style={{ display: 'grid', gap: '10px' }}>\n                    {incomingRequests.map(req => (\n                        <Card key={req.id} style={{ border: `1px solid ${COLORS.primary}` }}>\n                            <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n                                <div>\n                                    <span style={{ fontWeight: 'bold' }}>{req.userName}</span>\n                                    <span style={{ color: '#aaa', margin: '0 10px' }}>wants to join</span>\n                                    <span style={{ fontWeight: 'bold', color: 'white' }}>{req.rosterName}</span>\n                                </div>\n                                <div style={{ display: 'flex', gap: '10px' }}>\n                                    <Button variant=\"secondary\" onClick={() => toggleRequestDetails(req)} style={{ padding: '5px 15px', fontSize: '12px' }}>{expandedRequestId === req.id ? \"Hide Details\" : \"View Profile\"}</Button>\n                                    <Button onClick={() => initiateApproval(req)} style={{ padding: '5px 15px', fontSize: '12px' }}>Approve</Button>\n                                    <Button variant=\"danger\" onClick={() => handleDenyRequest(req)} style={{ padding: '5px 15px', fontSize: '12px' }}>Deny</Button>\n                                </div>\n                            </div>\n                            {expandedRequestId === req.id && (\n                                <div style={{ marginTop: '15px', padding: '15px', backgroundColor: '#333', borderRadius: '5px', border: '1px solid #555' }}>\n                                    {loadingDetails ? <p style={{ fontStyle: 'italic', margin: 0 }}>Loading player details...</p> : expandedPlayerDetails ? (\n                                        <div style={{ fontSize: '14px' }}>\n                                            <div style={{ display: 'flex', gap: '15px', marginBottom: '10px' }}>\n                                                <Avatar src={expandedPlayerDetails.photoURL} text={expandedPlayerDetails.playerName} size={50} />\n                                                <div>\n                                                    <strong>{expandedPlayerDetails.playerName}</strong>\n                                                    <div style={{ color: '#aaa' }}>{expandedPlayerDetails.email}</div>\n                                                    <div style={{ color: '#aaa' }}>{expandedPlayerDetails.phone}</div>\n                                                </div>\n                                            </div>\n                                            {expandedPlayerDetails.soccerDetails ? (\n                                                <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '10px' }}>\n                                                    <div><strong>Positions:</strong> {expandedPlayerDetails.soccerDetails.positions}</div>\n                                                    <div><strong>Skill Level:</strong> {expandedPlayerDetails.soccerDetails.skillLevel}</div>\n                                                    <div><strong>Experience:</strong> {expandedPlayerDetails.soccerDetails.yearsExperience}</div>\n                                                    <div><strong>Number:</strong> {expandedPlayerDetails.soccerDetails.playerNumber}</div>\n                                                </div>\n                                            ) : <p style={{ color: '#aaa', fontStyle: 'italic' }}>No soccer details available.</p>}\n                                            {expandedPlayerDetails.comments && <div style={{ marginTop: '10px', borderTop: '1px solid #444', paddingTop: '10px' }}><strong>About:</strong> {expandedPlayerDetails.comments}</div>}\n                                        </div>\n                                    ) : <p style={{ color: COLORS.danger }}>Failed to load details.</p>}\n                                </div>\n                            )}\n                        </Card>\n                    ))}\n                </div>\n            </div>\n          )}\n\n          {requestToApprove && (\n              <Modal \n                title=\"Confirm Approval\" \n                onClose={() => setRequestToApprove(null)}\n                actions={<Button onClick={confirmApproval}>Confirm</Button>}\n              >\n                  <p style={{ color: '#ccc' }}>You are approving <strong>{requestToApprove.userName}</strong> for <strong>{requestToApprove.rosterName}</strong>.</p>\n                  <div style={{ marginBottom: '20px' }}>\n                      <label style={{ display: 'block', marginBottom: '10px', fontWeight: 'bold' }}>Add to Community Group (Optional):</label>\n                      <select value={targetGroupId} onChange={(e) => setTargetGroupId(e.target.value)} style={{ width: '100%', padding: '10px', borderRadius: '5px' }}>\n                          <option value=\"\">-- No Group --</option>\n                          {myGroups.map(g => (<option key={g.id} value={g.id}>{g.name}</option>))}\n                      </select>\n                      <p style={{ fontSize: '11px', color: '#aaa', marginTop: '5px' }}>{targetGroupId ? \"User will be added to this group automatically.\" : \"User will only be added to the roster.\"}</p>\n                  </div>\n              </Modal>\n          )}\n\n          <div style={{ marginTop: '30px' }}>\n            <h3 style={{ marginTop: 0, marginBottom: '15px' }}>Current Rosters</h3>\n            \n            {showCreateForm && (\n              <Card style={{ marginBottom: '20px', border: `1px solid ${COLORS.primary}` }}>\n                <h4 style={{ marginTop: 0, color: 'white' }}>New Roster Details</h4>\n                <form onSubmit={handleCreateSubmit}>\n                    <div style={{ display: 'flex', gap: '15px', flexWrap: 'wrap' }}>\n                      <div style={{ flex: 1, minWidth: '200px' }}><Input label=\"Roster Name\" placeholder=\"e.g. The Gizmos\" value={newRosterName} onChange={handleRosterNameChange} /></div>\n                      <div style={{ flex: 1, minWidth: '150px' }}><Input label=\"Season\" placeholder=\"e.g. Fall 2025\" value={newRosterSeason} onChange={(e) => setNewRosterSeason(e.target.value)} /></div>\n                      <div style={{ width: '100px' }}><Input label=\"Capacity\" type=\"number\" value={newRosterCapacity} onChange={(e) => setNewRosterCapacity(e.target.value)} /></div>\n                    </div>\n                    <div style={{ marginBottom: '20px', display: 'flex', flexDirection: 'column', gap: '15px' }}>\n                        <div style={{ display: 'flex', alignItems: 'center', gap: '10px' }}>\n                            <input type=\"checkbox\" id=\"discoverableCheck\" checked={isDiscoverable} onChange={(e) => setIsDiscoverable(e.target.checked)} />\n                            <label htmlFor=\"discoverableCheck\">Make this team <strong>Discoverable</strong> in \"Find Teams\"</label>\n                        </div>\n                        <div style={{ display: 'flex', alignItems: 'center', gap: '10px' }}>\n                            <input type=\"checkbox\" id=\"createGroupCheck\" checked={createAssociatedGroup} onChange={(e) => setCreateAssociatedGroup(e.target.checked)} />\n                            <label htmlFor=\"createGroupCheck\">Create a new <strong>Community Group</strong> for this team</label>\n                        </div>\n                        <div style={{ display: 'flex', alignItems: 'center', gap: '10px' }}>\n                            <input type=\"checkbox\" id=\"addManagerCheck\" checked={addManagerToRoster} onChange={(e) => setAddManagerToRoster(e.target.checked)} />\n                            <label htmlFor=\"addManagerCheck\">Add <strong>Myself</strong> to this roster</label>\n                        </div>\n                    </div>\n                    {createAssociatedGroup && (\n                        <div style={{ marginBottom: '20px' }}>\n                            <Input label=\"Group Name\" placeholder=\"e.g. The Gizmos Community\" value={associatedGroupName} onChange={handleGroupNameChange} />\n                        </div>\n                    )}\n                    <Button type=\"submit\">Save Roster</Button>\n                </form>\n              </Card>\n            )}\n\n            {isLoading ? <p>Loading rosters...</p> : rosters.length === 0 ? <p style={{ color: '#aaa', fontStyle: 'italic' }}>No rosters found.</p> : (\n              <div style={{ display: 'grid', gap: '15px' }}>\n                {rosters.map(roster => (\n                  <Card key={roster.id} style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n                    <div>\n                      <h4 style={{ margin: 0, color: COLORS.primary }}>{roster.name}</h4>\n                      <p style={{ margin: '5px 0 0 0', fontSize: '14px', color: '#ccc' }}>\n                          {roster.season} • {roster.players?.length || 0} / {roster.maxCapacity} players \n                          {roster.isDiscoverable && <span style={{ marginLeft: '10px', fontSize: '10px', border: '1px solid #555', padding: '2px 4px', borderRadius: '3px' }}>Public</span>}\n                      </p>\n                    </div>\n                    <div style={{ display: 'flex', gap: '10px' }}>\n                      <Button variant=\"secondary\" onClick={() => setSelectedRoster(roster)} style={{ padding: '5px 15px', fontSize: '12px' }}>Manage</Button>\n                      <Button variant=\"danger\" onClick={() => handleDeleteRoster(roster.id)} style={{ padding: '5px 10px', fontSize: '12px' }}>Delete</Button>\n                    </div>\n                  </Card>\n                ))}\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n    </div> \n  );\n}\n\nexport default ManagerDashboard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}