{"ast":null,"code":"import _objectSpread from\"/Users/dbroxton/Documents/Projects/soccer-management-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useRef}from'react';import{useAuth}from'../context/AuthContext';import SportsInfo from'./SportsInfo';import{LogOut,User,Activity}from'lucide-react';import Header from'./common/Header';import Button from'./common/Button';import Card from'./common/Card';import Avatar from'./common/Avatar';import Modal from'./common/Modal';import Input from'./common/Input';import{COLORS,MOBILE_BREAKPOINT}from'../constants';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function MyProfile(){const{loggedInUser,updateProfile,signOutUser,updateSoccerDetails}=useAuth();const[currentView,setCurrentView]=useState('hub');const[isMobile,setIsMobile]=useState(window.innerWidth<MOBILE_BREAKPOINT);// --- Edit Profile State ---\nconst[isEditingProfile,setIsEditingProfile]=useState(false);const[profileFormData,setProfileFormData]=useState({});// --- Image State ---\nconst[selectedFile,setSelectedFile]=useState(null);const[previewUrl,setPreviewUrl]=useState((loggedInUser===null||loggedInUser===void 0?void 0:loggedInUser.photoURL)||\"\");const[isRemovingImage,setIsRemovingImage]=useState(false);// --- Add Sport State ---\nconst[showAddSportModal,setShowAddSportModal]=useState(false);const[newSportType,setNewSportType]=useState(\"Soccer\");const[newSportData,setNewSportData]=useState({favoredPosition:\"\",jerseySize:\"Large\",playerNumber:0,currentRosters:\"\",rosterJerseysOwned:\"\",comments:\"\"});const fileInputRef=useRef(null);useEffect(()=>{const handleResize=()=>setIsMobile(window.innerWidth<MOBILE_BREAKPOINT);window.addEventListener('resize',handleResize);return()=>window.removeEventListener('resize',handleResize);},[]);useEffect(()=>{if(loggedInUser){var _loggedInUser$emergen,_loggedInUser$emergen2,_loggedInUser$emergen3,_loggedInUser$emergen4;setProfileFormData(_objectSpread(_objectSpread({},loggedInUser),{},{emergencyContactFirstName:((_loggedInUser$emergen=loggedInUser.emergencyContact)===null||_loggedInUser$emergen===void 0?void 0:_loggedInUser$emergen.firstName)||\"\",emergencyContactLastName:((_loggedInUser$emergen2=loggedInUser.emergencyContact)===null||_loggedInUser$emergen2===void 0?void 0:_loggedInUser$emergen2.lastName)||\"\",emergencyContactPhone:((_loggedInUser$emergen3=loggedInUser.emergencyContact)===null||_loggedInUser$emergen3===void 0?void 0:_loggedInUser$emergen3.phone)||\"\",emergencyContactRelationship:((_loggedInUser$emergen4=loggedInUser.emergencyContact)===null||_loggedInUser$emergen4===void 0?void 0:_loggedInUser$emergen4.relationship)||\"\"}));setPreviewUrl(loggedInUser.photoURL||\"\");}},[loggedInUser]);// --- Handlers ---\nconst handleFileChange=e=>{if(e.target.files[0]){const file=e.target.files[0];setSelectedFile(file);setPreviewUrl(URL.createObjectURL(file));setIsRemovingImage(false);}};const handleRemoveImage=()=>{setSelectedFile(null);setPreviewUrl(\"\");setIsRemovingImage(true);};const handleProfileFormChange=e=>{const{name,value}=e.target;setProfileFormData(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:value}));};const handleProfileSubmit=async e=>{e.preventDefault();const success=await updateProfile(profileFormData,selectedFile,isRemovingImage);if(success){setIsEditingProfile(false);setSelectedFile(null);setIsRemovingImage(false);}};const handleSignOut=()=>{if(window.confirm(\"Are you sure you want to sign out?\")){signOutUser();}};// --- Add Sport Handlers ---\nconst handleSportChange=e=>{const{name,value}=e.target;setNewSportData(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:value}));};const handleAddSportSubmit=async e=>{e.preventDefault();if(newSportType==='Soccer'){const success=await updateSoccerDetails(newSportData);if(success){setShowAddSportModal(false);// Reset form\nsetNewSportData({favoredPosition:\"\",jerseySize:\"Large\",playerNumber:0,currentRosters:\"\",rosterJerseysOwned:\"\",comments:\"\"});}}else{alert(\"Only Soccer is supported at this time.\");}};const styles={profileHeader:{display:'flex',flexDirection:'column',alignItems:'center',marginBottom:'30px'},imageContainer:{width:'150px',height:'150px',borderRadius:'50%',overflow:'hidden',backgroundColor:'#444',display:'flex',justifyContent:'center',alignItems:'center',marginBottom:'15px',border:'3px solid #61dafb'},profileImage:{width:'100%',height:'100%',objectFit:'cover'},placeholderText:{color:'#888',fontSize:'40px'},actionButtons:{display:'flex',gap:'10px',marginTop:'10px'}};const MenuCard=_ref=>{let{title,desc,icon:Icon,onClick}=_ref;return/*#__PURE__*/_jsxs(Card,{onClick:onClick,hoverable:true,style:{display:'flex',flexDirection:isMobile?'row':'column',alignItems:'center',justifyContent:isMobile?'flex-start':'center',textAlign:isMobile?'left':'center',minHeight:isMobile?'auto':'220px',marginBottom:0,padding:'20px',boxSizing:'border-box'},children:[/*#__PURE__*/_jsx(Icon,{size:isMobile?32:40,color:COLORS.primary,style:{marginBottom:isMobile?0:'15px',marginRight:isMobile?'15px':0,flexShrink:0}}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'18px',fontWeight:'bold',color:'white',marginBottom:'8px'},children:title}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'13px',color:'#aaa'},children:desc})]})]});};// --- VIEW 1: HUB ---\nif(currentView==='hub'){return/*#__PURE__*/_jsxs(\"div\",{className:\"view-container\",children:[/*#__PURE__*/_jsx(Header,{title:\"Profile\",style:{maxWidth:'1000px',margin:'0 auto'},actions:/*#__PURE__*/_jsxs(\"button\",{onClick:handleSignOut,style:{background:'none',border:'none',color:'#ff6b6b',cursor:'pointer',display:'flex',flexDirection:'column',alignItems:'center',gap:'4px',fontSize:'10px',fontWeight:'bold'},children:[/*#__PURE__*/_jsx(LogOut,{size:20}),\" Sign Out\"]})}),/*#__PURE__*/_jsx(\"div\",{className:\"view-content\",children:/*#__PURE__*/_jsxs(\"div\",{style:{maxWidth:'1000px',margin:'0 auto',width:'100%'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexDirection:'column',alignItems:'center',marginBottom:'40px',marginTop:'20px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:'15px'},children:/*#__PURE__*/_jsx(Avatar,{src:loggedInUser.photoURL,text:loggedInUser.playerName,size:100,style:{border:\"3px solid \".concat(COLORS.primary),fontSize:'40px'}})}),/*#__PURE__*/_jsx(\"h2\",{style:{margin:0,color:'white'},children:loggedInUser.playerName}),/*#__PURE__*/_jsx(\"p\",{style:{margin:'5px 0',color:'#aaa'},children:loggedInUser.email})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:isMobile?'1fr':'1fr 1fr',gridAutoRows:isMobile?'auto':'minmax(220px, auto)',gap:'20px',minHeight:0},children:[/*#__PURE__*/_jsx(MenuCard,{title:\"Personal Information\",desc:\"Contact information and preferences\",icon:User,onClick:()=>setCurrentView('personal')}),/*#__PURE__*/_jsx(MenuCard,{title:\"Sports Details\",desc:\"Sport-specific profile information\",icon:Activity,onClick:()=>setCurrentView('sports')})]})]})})]});}// --- VIEW 2: PERSONAL INFO ---\nif(currentView==='personal'){var _loggedInUser$emergen5,_loggedInUser$emergen6,_loggedInUser$emergen7,_loggedInUser$emergen8;if(isEditingProfile){return/*#__PURE__*/_jsxs(\"div\",{className:\"view-container\",children:[/*#__PURE__*/_jsx(Header,{title:\"Edit Personal Info\",style:{maxWidth:'1000px',margin:'0 auto'}}),/*#__PURE__*/_jsx(\"div\",{className:\"view-content\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleProfileSubmit,style:{display:'flex',flexDirection:'column',gap:'15px',textAlign:'left',maxWidth:'1000px',margin:'0 auto'},children:[/*#__PURE__*/_jsxs(\"div\",{style:styles.profileHeader,children:[/*#__PURE__*/_jsx(\"div\",{style:styles.imageContainer,children:previewUrl?/*#__PURE__*/_jsx(\"img\",{src:previewUrl,alt:\"Profile\",style:styles.profileImage}):/*#__PURE__*/_jsx(\"span\",{style:styles.placeholderText,children:\"?\"})}),/*#__PURE__*/_jsxs(\"div\",{style:styles.actionButtons,children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",ref:fileInputRef,onChange:handleFileChange,accept:\"image/*\",style:{display:'none'}}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>fileInputRef.current.click(),style:{padding:'8px 15px',backgroundColor:'#333',border:'1px solid #555',color:'white',cursor:'pointer',borderRadius:'5px'},children:previewUrl?\"Change Picture\":\"Add Picture\"}),previewUrl&&/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:handleRemoveImage,style:{padding:'8px 15px',backgroundColor:'#333',border:'1px solid #ff6b6b',color:'#ff6b6b',cursor:'pointer',borderRadius:'5px'},children:\"Remove\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'10px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{flex:1},children:/*#__PURE__*/_jsx(Input,{label:\"First Name\",name:\"firstName\",value:profileFormData.firstName,onChange:handleProfileFormChange,required:true})}),/*#__PURE__*/_jsx(\"div\",{style:{flex:1},children:/*#__PURE__*/_jsx(Input,{label:\"Last Name\",name:\"lastName\",value:profileFormData.lastName,onChange:handleProfileFormChange,required:true})})]}),/*#__PURE__*/_jsx(Input,{label:\"Preferred Name\",name:\"preferredName\",value:profileFormData.preferredName,onChange:handleProfileFormChange}),/*#__PURE__*/_jsx(Input,{label:\"Email\",type:\"email\",name:\"email\",value:profileFormData.email,onChange:handleProfileFormChange,required:true}),/*#__PURE__*/_jsx(Input,{label:\"Phone\",type:\"tel\",name:\"phone\",value:profileFormData.phone,onChange:handleProfileFormChange}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'15px',textAlign:'left'},children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'5px',color:'#ccc',fontSize:'14px'},children:\"System Notification Preference\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"notificationPreference\",value:profileFormData.notificationPreference,onChange:handleProfileFormChange,style:{width:'100%',padding:'10px',backgroundColor:'#3a3f4a',border:\"1px solid \".concat(COLORS.border),borderRadius:'4px',color:'white',fontSize:'16px'},children:[/*#__PURE__*/_jsx(\"option\",{value:\"Email\",children:\"Email\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Text Message\",children:\"Text Message\"})]})]}),/*#__PURE__*/_jsx(\"h4\",{style:{margin:'15px 0 5px 0',color:COLORS.primary},children:\"Emergency Contact\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'10px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{flex:1},children:/*#__PURE__*/_jsx(Input,{label:\"First Name\",name:\"emergencyContactFirstName\",value:profileFormData.emergencyContactFirstName,onChange:handleProfileFormChange})}),/*#__PURE__*/_jsx(\"div\",{style:{flex:1},children:/*#__PURE__*/_jsx(Input,{label:\"Last Name\",name:\"emergencyContactLastName\",value:profileFormData.emergencyContactLastName,onChange:handleProfileFormChange})})]}),/*#__PURE__*/_jsx(Input,{label:\"Phone Number\",type:\"tel\",name:\"emergencyContactPhone\",value:profileFormData.emergencyContactPhone,onChange:handleProfileFormChange}),/*#__PURE__*/_jsx(Input,{label:\"Relationship\",name:\"emergencyContactRelationship\",value:profileFormData.emergencyContactRelationship,onChange:handleProfileFormChange}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'10px',marginTop:'20px'},children:[/*#__PURE__*/_jsx(Button,{type:\"submit\",children:\"Save\"}),/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:()=>{setIsEditingProfile(false);setPreviewUrl(loggedInUser.photoURL||\"\");setSelectedFile(null);setIsRemovingImage(false);},children:\"Cancel\"})]})]})})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"view-container\",children:[/*#__PURE__*/_jsx(Header,{title:\"Personal Information\",style:{maxWidth:'1000px',margin:'0 auto'},actions:/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:()=>setCurrentView('hub'),style:{fontSize:'14px',padding:'5px 15px'},children:\"Back\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"view-content\",children:/*#__PURE__*/_jsxs(\"div\",{style:{maxWidth:'1000px',margin:'0 auto',textAlign:'left'},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info-table\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"info-label\",children:\"Name:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-value\",children:[loggedInUser.firstName,\" \",loggedInUser.lastName]}),/*#__PURE__*/_jsx(\"div\",{className:\"info-label\",children:\"Preferred Name:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"info-value\",children:loggedInUser.preferredName||\"N/A\"}),/*#__PURE__*/_jsx(\"div\",{className:\"info-label\",children:\"Email:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"info-value\",children:loggedInUser.email}),/*#__PURE__*/_jsx(\"div\",{className:\"info-label\",children:\"Phone:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"info-value\",children:loggedInUser.phone}),/*#__PURE__*/_jsx(\"div\",{className:\"info-label\",children:\"Notification Pref:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"info-value\",children:loggedInUser.notificationPreference}),/*#__PURE__*/_jsx(\"div\",{className:\"info-label\",style:{marginTop:'10px',fontWeight:'bold',color:COLORS.primary},children:\"Emergency Contact:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"info-value\"}),/*#__PURE__*/_jsx(\"div\",{className:\"info-label\",children:\"Name:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-value\",children:[(_loggedInUser$emergen5=loggedInUser.emergencyContact)===null||_loggedInUser$emergen5===void 0?void 0:_loggedInUser$emergen5.firstName,\" \",(_loggedInUser$emergen6=loggedInUser.emergencyContact)===null||_loggedInUser$emergen6===void 0?void 0:_loggedInUser$emergen6.lastName]}),/*#__PURE__*/_jsx(\"div\",{className:\"info-label\",children:\"Phone:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"info-value\",children:(_loggedInUser$emergen7=loggedInUser.emergencyContact)===null||_loggedInUser$emergen7===void 0?void 0:_loggedInUser$emergen7.phone}),/*#__PURE__*/_jsx(\"div\",{className:\"info-label\",children:\"Relationship:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"info-value\",children:(_loggedInUser$emergen8=loggedInUser.emergencyContact)===null||_loggedInUser$emergen8===void 0?void 0:_loggedInUser$emergen8.relationship})]}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:'30px'},children:/*#__PURE__*/_jsx(Button,{onClick:()=>{setProfileFormData(loggedInUser);setPreviewUrl(loggedInUser.photoURL||\"\");setIsEditingProfile(true);},children:\"Edit Info\"})})]})})]});}// --- VIEW 3: SPORTS DETAILS ---\nif(currentView==='sports'){return/*#__PURE__*/_jsxs(\"div\",{className:\"view-container\",children:[/*#__PURE__*/_jsx(Header,{title:\"Sports Details\",style:{maxWidth:'1000px',margin:'0 auto'},actions:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'10px'},children:[/*#__PURE__*/_jsx(Button,{onClick:()=>setShowAddSportModal(true),style:{fontSize:'14px',padding:'5px 15px'},children:\"+ Add Sport\"}),/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:()=>setCurrentView('hub'),style:{fontSize:'14px',padding:'5px 15px'},children:\"Back\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"view-content\",children:/*#__PURE__*/_jsx(\"div\",{style:{maxWidth:'1000px',margin:'0 auto',textAlign:'left'},children:/*#__PURE__*/_jsx(SportsInfo,{})})}),showAddSportModal&&/*#__PURE__*/_jsx(Modal,{title:\"Add Sport\",onClose:()=>setShowAddSportModal(false),actions:/*#__PURE__*/_jsx(Button,{onClick:handleAddSportSubmit,children:\"Save Sport\"}),children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleAddSportSubmit,style:{display:'flex',flexDirection:'column',gap:'10px',textAlign:'left'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'10px'},children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'5px',color:'#ccc',fontSize:'14px'},children:\"Select Sport\"}),/*#__PURE__*/_jsxs(\"select\",{value:newSportType,onChange:e=>setNewSportType(e.target.value),style:{width:'100%',padding:'10px',backgroundColor:'#3a3f4a',border:\"1px solid \".concat(COLORS.border),borderRadius:'4px',color:'white',fontSize:'16px'},children:[/*#__PURE__*/_jsx(\"option\",{value:\"Soccer\",children:\"Soccer\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Basketball\",disabled:true,children:\"Basketball (Coming Soon)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Baseball\",disabled:true,children:\"Baseball (Coming Soon)\"})]})]}),newSportType==='Soccer'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Input,{label:\"Favored Position\",name:\"favoredPosition\",value:newSportData.favoredPosition,onChange:handleSportChange}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'5px',color:'#ccc',fontSize:'14px'},children:\"Jersey Size\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"jerseySize\",value:newSportData.jerseySize,onChange:handleSportChange,style:{width:'100%',padding:'10px',backgroundColor:'#3a3f4a',border:\"1px solid \".concat(COLORS.border),borderRadius:'4px',color:'white',fontSize:'16px'},children:[/*#__PURE__*/_jsx(\"option\",{value:\"Small\",children:\"Small\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Medium\",children:\"Medium\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Large\",children:\"Large\"}),/*#__PURE__*/_jsx(\"option\",{value:\"X-Large\",children:\"X-Large\"})]})]}),/*#__PURE__*/_jsx(Input,{label:\"Player Number\",type:\"number\",name:\"playerNumber\",value:newSportData.playerNumber,onChange:handleSportChange}),/*#__PURE__*/_jsx(Input,{label:\"Current Roster(s) (comma-separated)\",name:\"currentRosters\",placeholder:\"e.g. The Gizmos, Team B\",value:newSportData.currentRosters,onChange:handleSportChange}),/*#__PURE__*/_jsx(Input,{label:\"Roster Jerseys Owned (comma-separated)\",name:\"rosterJerseysOwned\",placeholder:\"e.g. The Gizmos (Red)\",value:newSportData.rosterJerseysOwned,onChange:handleSportChange}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'5px',color:'#ccc',fontSize:'14px'},children:\"Comments\"}),/*#__PURE__*/_jsx(\"textarea\",{name:\"comments\",value:newSportData.comments,onChange:handleSportChange,style:{width:'100%',padding:'10px',backgroundColor:'#3a3f4a',border:\"1px solid \".concat(COLORS.border),borderRadius:'4px',color:'white',fontSize:'16px',minHeight:'80px'}})]})]})]})})]});}return null;}export default MyProfile;","map":{"version":3,"names":["React","useState","useEffect","useRef","useAuth","SportsInfo","LogOut","User","Activity","Header","Button","Card","Avatar","Modal","Input","COLORS","MOBILE_BREAKPOINT","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","MyProfile","loggedInUser","updateProfile","signOutUser","updateSoccerDetails","currentView","setCurrentView","isMobile","setIsMobile","window","innerWidth","isEditingProfile","setIsEditingProfile","profileFormData","setProfileFormData","selectedFile","setSelectedFile","previewUrl","setPreviewUrl","photoURL","isRemovingImage","setIsRemovingImage","showAddSportModal","setShowAddSportModal","newSportType","setNewSportType","newSportData","setNewSportData","favoredPosition","jerseySize","playerNumber","currentRosters","rosterJerseysOwned","comments","fileInputRef","handleResize","addEventListener","removeEventListener","_loggedInUser$emergen","_loggedInUser$emergen2","_loggedInUser$emergen3","_loggedInUser$emergen4","_objectSpread","emergencyContactFirstName","emergencyContact","firstName","emergencyContactLastName","lastName","emergencyContactPhone","phone","emergencyContactRelationship","relationship","handleFileChange","e","target","files","file","URL","createObjectURL","handleRemoveImage","handleProfileFormChange","name","value","prev","handleProfileSubmit","preventDefault","success","handleSignOut","confirm","handleSportChange","handleAddSportSubmit","alert","styles","profileHeader","display","flexDirection","alignItems","marginBottom","imageContainer","width","height","borderRadius","overflow","backgroundColor","justifyContent","border","profileImage","objectFit","placeholderText","color","fontSize","actionButtons","gap","marginTop","MenuCard","_ref","title","desc","icon","Icon","onClick","hoverable","style","textAlign","minHeight","padding","boxSizing","children","size","primary","marginRight","flexShrink","fontWeight","className","maxWidth","margin","actions","background","cursor","src","text","playerName","concat","email","gridTemplateColumns","gridAutoRows","_loggedInUser$emergen5","_loggedInUser$emergen6","_loggedInUser$emergen7","_loggedInUser$emergen8","onSubmit","alt","type","ref","onChange","accept","current","click","flex","label","required","preferredName","notificationPreference","variant","onClose","disabled","placeholder"],"sources":["/Users/dbroxton/Documents/Projects/soccer-management-app/src/components/MyProfile.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { useAuth } from '../context/AuthContext';\nimport SportsInfo from './SportsInfo';\nimport { LogOut, User, Activity } from 'lucide-react'; \nimport Header from './common/Header';\nimport Button from './common/Button';\nimport Card from './common/Card';\nimport Avatar from './common/Avatar';\nimport Modal from './common/Modal'; \nimport Input from './common/Input'; \nimport { COLORS, MOBILE_BREAKPOINT } from '../constants';\n\nfunction MyProfile() {\n  const { loggedInUser, updateProfile, signOutUser, updateSoccerDetails } = useAuth();\n\n  const [currentView, setCurrentView] = useState('hub'); \n  const [isMobile, setIsMobile] = useState(window.innerWidth < MOBILE_BREAKPOINT);\n\n  // --- Edit Profile State ---\n  const [isEditingProfile, setIsEditingProfile] = useState(false);\n  const [profileFormData, setProfileFormData] = useState({});\n  \n  // --- Image State ---\n  const [selectedFile, setSelectedFile] = useState(null);\n  const [previewUrl, setPreviewUrl] = useState(loggedInUser?.photoURL || \"\");\n  const [isRemovingImage, setIsRemovingImage] = useState(false);\n\n  // --- Add Sport State ---\n  const [showAddSportModal, setShowAddSportModal] = useState(false);\n  const [newSportType, setNewSportType] = useState(\"Soccer\");\n  const [newSportData, setNewSportData] = useState({\n      favoredPosition: \"\",\n      jerseySize: \"Large\",\n      playerNumber: 0,\n      currentRosters: \"\",\n      rosterJerseysOwned: \"\",\n      comments: \"\"\n  });\n  \n  const fileInputRef = useRef(null);\n\n  useEffect(() => {\n    const handleResize = () => setIsMobile(window.innerWidth < MOBILE_BREAKPOINT);\n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  }, []);\n\n  useEffect(() => {\n     if (loggedInUser) {\n         setProfileFormData({\n             ...loggedInUser,\n             emergencyContactFirstName: loggedInUser.emergencyContact?.firstName || \"\",\n             emergencyContactLastName: loggedInUser.emergencyContact?.lastName || \"\",\n             emergencyContactPhone: loggedInUser.emergencyContact?.phone || \"\",\n             emergencyContactRelationship: loggedInUser.emergencyContact?.relationship || \"\"\n         });\n         setPreviewUrl(loggedInUser.photoURL || \"\");\n     }\n  }, [loggedInUser]);\n\n  // --- Handlers ---\n  const handleFileChange = (e) => {\n    if (e.target.files[0]) {\n      const file = e.target.files[0];\n      setSelectedFile(file);\n      setPreviewUrl(URL.createObjectURL(file));\n      setIsRemovingImage(false);\n    }\n  };\n\n  const handleRemoveImage = () => {\n    setSelectedFile(null);\n    setPreviewUrl(\"\");\n    setIsRemovingImage(true);\n  };\n\n  const handleProfileFormChange = (e) => {\n    const { name, value } = e.target;\n    setProfileFormData(prev => ({ ...prev, [name]: value }));\n  };\n\n  const handleProfileSubmit = async (e) => {\n    e.preventDefault();\n    const success = await updateProfile(profileFormData, selectedFile, isRemovingImage);\n    if (success) {\n      setIsEditingProfile(false);\n      setSelectedFile(null);\n      setIsRemovingImage(false);\n    }\n  };\n\n  const handleSignOut = () => {\n    if (window.confirm(\"Are you sure you want to sign out?\")) {\n      signOutUser();\n    }\n  };\n\n  // --- Add Sport Handlers ---\n  const handleSportChange = (e) => {\n      const { name, value } = e.target;\n      setNewSportData(prev => ({ ...prev, [name]: value }));\n  };\n\n  const handleAddSportSubmit = async (e) => {\n      e.preventDefault();\n      if (newSportType === 'Soccer') {\n          const success = await updateSoccerDetails(newSportData);\n          if (success) {\n              setShowAddSportModal(false);\n              // Reset form\n              setNewSportData({\n                  favoredPosition: \"\", jerseySize: \"Large\", playerNumber: 0,\n                  currentRosters: \"\", rosterJerseysOwned: \"\", comments: \"\"\n              });\n          }\n      } else {\n          alert(\"Only Soccer is supported at this time.\");\n      }\n  };\n\n  const styles = {\n    profileHeader: { display: 'flex', flexDirection: 'column', alignItems: 'center', marginBottom: '30px' },\n    imageContainer: {\n      width: '150px', height: '150px', borderRadius: '50%', overflow: 'hidden',\n      backgroundColor: '#444', display: 'flex', justifyContent: 'center', alignItems: 'center',\n      marginBottom: '15px', border: '3px solid #61dafb'\n    },\n    profileImage: { width: '100%', height: '100%', objectFit: 'cover' },\n    placeholderText: { color: '#888', fontSize: '40px' },\n    actionButtons: { display: 'flex', gap: '10px', marginTop: '10px' }\n  };\n\n  const MenuCard = ({ title, desc, icon: Icon, onClick }) => (\n    <Card \n        onClick={onClick} hoverable \n        style={{ \n            display: 'flex', flexDirection: isMobile ? 'row' : 'column', alignItems: 'center', \n            justifyContent: isMobile ? 'flex-start' : 'center', textAlign: isMobile ? 'left' : 'center',\n            minHeight: isMobile ? 'auto' : '220px', marginBottom: 0, padding: '20px', boxSizing: 'border-box'\n        }}\n    >\n      <Icon size={isMobile ? 32 : 40} color={COLORS.primary} style={{ marginBottom: isMobile ? 0 : '15px', marginRight: isMobile ? '15px' : 0, flexShrink: 0 }} />\n      <div>\n        <div style={{ fontSize: '18px', fontWeight: 'bold', color: 'white', marginBottom: '8px' }}>{title}</div>\n        <div style={{ fontSize: '13px', color: '#aaa' }}>{desc}</div>\n      </div>\n    </Card>\n  );\n\n  // --- VIEW 1: HUB ---\n  if (currentView === 'hub') {\n      return (\n        <div className=\"view-container\">\n          <Header title=\"Profile\" style={{ maxWidth: '1000px', margin: '0 auto' }}\n            actions={\n                <button onClick={handleSignOut} style={{ background: 'none', border: 'none', color: '#ff6b6b', cursor: 'pointer', display: 'flex', flexDirection: 'column', alignItems: 'center', gap: '4px', fontSize: '10px', fontWeight: 'bold' }}>\n                  <LogOut size={20} /> Sign Out\n                </button>\n            }\n          />\n          <div className=\"view-content\">\n            <div style={{ maxWidth: '1000px', margin: '0 auto', width: '100%' }}>\n              <div style={{ display: 'flex', flexDirection: 'column', alignItems: 'center', marginBottom: '40px', marginTop: '20px' }}>\n                  <div style={{ marginBottom: '15px' }}>\n                      <Avatar src={loggedInUser.photoURL} text={loggedInUser.playerName} size={100} style={{ border: `3px solid ${COLORS.primary}`, fontSize: '40px' }} />\n                  </div>\n                  <h2 style={{ margin: 0, color: 'white' }}>{loggedInUser.playerName}</h2>\n                  <p style={{ margin: '5px 0', color: '#aaa' }}>{loggedInUser.email}</p>\n              </div>\n\n              <div style={{ display: 'grid', gridTemplateColumns: isMobile ? '1fr' : '1fr 1fr', gridAutoRows: isMobile ? 'auto' : 'minmax(220px, auto)', gap: '20px', minHeight: 0 }}>\n                 <MenuCard title=\"Personal Information\" desc=\"Contact information and preferences\" icon={User} onClick={() => setCurrentView('personal')} />\n                 <MenuCard title=\"Sports Details\" desc=\"Sport-specific profile information\" icon={Activity} onClick={() => setCurrentView('sports')} />\n              </div>\n            </div>\n          </div>\n        </div>\n      );\n  }\n\n  // --- VIEW 2: PERSONAL INFO ---\n  if (currentView === 'personal') {\n      if (isEditingProfile) {\n        return (\n          <div className=\"view-container\">\n            <Header title=\"Edit Personal Info\" style={{ maxWidth: '1000px', margin: '0 auto' }} />\n            <div className=\"view-content\">\n              <form onSubmit={handleProfileSubmit} style={{ display: 'flex', flexDirection: 'column', gap: '15px', textAlign: 'left', maxWidth: '1000px', margin: '0 auto' }}>\n                <div style={styles.profileHeader}>\n                  <div style={styles.imageContainer}>\n                    {previewUrl ? <img src={previewUrl} alt=\"Profile\" style={styles.profileImage} /> : <span style={styles.placeholderText}>?</span>}\n                  </div>\n                  <div style={styles.actionButtons}>\n                    <input type=\"file\" ref={fileInputRef} onChange={handleFileChange} accept=\"image/*\" style={{ display: 'none' }} />\n                    <button type=\"button\" onClick={() => fileInputRef.current.click()} style={{ padding: '8px 15px', backgroundColor: '#333', border: '1px solid #555', color: 'white', cursor: 'pointer', borderRadius: '5px' }}>{previewUrl ? \"Change Picture\" : \"Add Picture\"}</button>\n                    {previewUrl && <button type=\"button\" onClick={handleRemoveImage} style={{ padding: '8px 15px', backgroundColor: '#333', border: '1px solid #ff6b6b', color: '#ff6b6b', cursor: 'pointer', borderRadius: '5px' }}>Remove</button>}\n                  </div>\n                </div>\n\n                <div style={{ display: 'flex', gap: '10px' }}>\n                    <div style={{ flex: 1 }}><Input label=\"First Name\" name=\"firstName\" value={profileFormData.firstName} onChange={handleProfileFormChange} required /></div>\n                    <div style={{ flex: 1 }}><Input label=\"Last Name\" name=\"lastName\" value={profileFormData.lastName} onChange={handleProfileFormChange} required /></div>\n                </div>\n                <Input label=\"Preferred Name\" name=\"preferredName\" value={profileFormData.preferredName} onChange={handleProfileFormChange} />\n                <Input label=\"Email\" type=\"email\" name=\"email\" value={profileFormData.email} onChange={handleProfileFormChange} required />\n                <Input label=\"Phone\" type=\"tel\" name=\"phone\" value={profileFormData.phone} onChange={handleProfileFormChange} />\n                \n                <div style={{ marginBottom: '15px', textAlign: 'left' }}>\n                  <label style={{ display: 'block', marginBottom: '5px', color: '#ccc', fontSize: '14px' }}>System Notification Preference</label>\n                  <select name=\"notificationPreference\" value={profileFormData.notificationPreference} onChange={handleProfileFormChange} style={{ width: '100%', padding: '10px', backgroundColor: '#3a3f4a', border: `1px solid ${COLORS.border}`, borderRadius: '4px', color: 'white', fontSize: '16px' }}>\n                    <option value=\"Email\">Email</option>\n                    <option value=\"Text Message\">Text Message</option>\n                  </select>\n                </div>\n\n                <h4 style={{ margin: '15px 0 5px 0', color: COLORS.primary }}>Emergency Contact</h4>\n                <div style={{ display: 'flex', gap: '10px' }}>\n                    <div style={{ flex: 1 }}><Input label=\"First Name\" name=\"emergencyContactFirstName\" value={profileFormData.emergencyContactFirstName} onChange={handleProfileFormChange} /></div>\n                    <div style={{ flex: 1 }}><Input label=\"Last Name\" name=\"emergencyContactLastName\" value={profileFormData.emergencyContactLastName} onChange={handleProfileFormChange} /></div>\n                </div>\n                <Input label=\"Phone Number\" type=\"tel\" name=\"emergencyContactPhone\" value={profileFormData.emergencyContactPhone} onChange={handleProfileFormChange} />\n                <Input label=\"Relationship\" name=\"emergencyContactRelationship\" value={profileFormData.emergencyContactRelationship} onChange={handleProfileFormChange} />\n\n                <div style={{ display: 'flex', gap: '10px', marginTop: '20px' }}>\n                  <Button type=\"submit\">Save</Button>\n                  <Button variant=\"secondary\" onClick={() => { setIsEditingProfile(false); setPreviewUrl(loggedInUser.photoURL || \"\"); setSelectedFile(null); setIsRemovingImage(false); }}>Cancel</Button>\n                </div>\n              </form>\n            </div>\n          </div>\n        );\n      }\n\n      return (\n        <div className=\"view-container\">\n          <Header title=\"Personal Information\" style={{ maxWidth: '1000px', margin: '0 auto' }} actions={<Button variant=\"secondary\" onClick={() => setCurrentView('hub')} style={{ fontSize: '14px', padding: '5px 15px' }}>Back</Button>} />\n          <div className=\"view-content\">\n            <div style={{ maxWidth: '1000px', margin: '0 auto', textAlign: 'left' }}>\n              <div className=\"info-table\">\n                <div className=\"info-label\">Name:</div><div className=\"info-value\">{loggedInUser.firstName} {loggedInUser.lastName}</div>\n                <div className=\"info-label\">Preferred Name:</div><div className=\"info-value\">{loggedInUser.preferredName || \"N/A\"}</div>\n                <div className=\"info-label\">Email:</div><div className=\"info-value\">{loggedInUser.email}</div>\n                <div className=\"info-label\">Phone:</div><div className=\"info-value\">{loggedInUser.phone}</div>\n                <div className=\"info-label\">Notification Pref:</div><div className=\"info-value\">{loggedInUser.notificationPreference}</div>\n                \n                <div className=\"info-label\" style={{ marginTop: '10px', fontWeight: 'bold', color: COLORS.primary }}>Emergency Contact:</div><div className=\"info-value\"></div>\n                <div className=\"info-label\">Name:</div><div className=\"info-value\">{loggedInUser.emergencyContact?.firstName} {loggedInUser.emergencyContact?.lastName}</div>\n                <div className=\"info-label\">Phone:</div><div className=\"info-value\">{loggedInUser.emergencyContact?.phone}</div>\n                <div className=\"info-label\">Relationship:</div><div className=\"info-value\">{loggedInUser.emergencyContact?.relationship}</div>\n              </div>\n              <div style={{ marginTop: '30px' }}>\n                <Button onClick={() => { setProfileFormData(loggedInUser); setPreviewUrl(loggedInUser.photoURL || \"\"); setIsEditingProfile(true); }}>Edit Info</Button>\n              </div>\n            </div>\n          </div>\n        </div>\n      );\n  }\n\n  // --- VIEW 3: SPORTS DETAILS ---\n  if (currentView === 'sports') {\n      return (\n        <div className=\"view-container\">\n          <Header \n            title=\"Sports Details\" \n            style={{ maxWidth: '1000px', margin: '0 auto' }} \n            actions={\n                <div style={{ display: 'flex', gap: '10px' }}>\n                     {/* ADD SPORT BUTTON */}\n                     <Button onClick={() => setShowAddSportModal(true)} style={{ fontSize: '14px', padding: '5px 15px' }}>+ Add Sport</Button>\n                     <Button variant=\"secondary\" onClick={() => setCurrentView('hub')} style={{ fontSize: '14px', padding: '5px 15px' }}>Back</Button>\n                </div>\n            } \n          />\n          <div className=\"view-content\">\n             <div style={{ maxWidth: '1000px', margin: '0 auto', textAlign: 'left' }}>\n                <SportsInfo />\n             </div>\n          </div>\n\n          {/* ADD SPORT MODAL (Styled by Modal.js, Form Layout matches AuthPage) */}\n          {showAddSportModal && (\n              <Modal \n                  title=\"Add Sport\" \n                  onClose={() => setShowAddSportModal(false)}\n                  actions={<Button onClick={handleAddSportSubmit}>Save Sport</Button>}\n              >\n                  <form onSubmit={handleAddSportSubmit} style={{ display: 'flex', flexDirection: 'column', gap: '10px', textAlign: 'left' }}>\n                      \n                      {/* Sport Selection */}\n                      <div style={{ marginBottom: '10px' }}>\n                        <label style={{ display: 'block', marginBottom: '5px', color: '#ccc', fontSize: '14px' }}>Select Sport</label>\n                        <select\n                          value={newSportType}\n                          onChange={(e) => setNewSportType(e.target.value)}\n                          style={{ \n                            width: '100%', padding: '10px', backgroundColor: '#3a3f4a', \n                            border: `1px solid ${COLORS.border}`, borderRadius: '4px', color: 'white', fontSize: '16px' \n                          }}\n                        >\n                          <option value=\"Soccer\">Soccer</option>\n                          <option value=\"Basketball\" disabled>Basketball (Coming Soon)</option>\n                          <option value=\"Baseball\" disabled>Baseball (Coming Soon)</option>\n                        </select>\n                      </div>\n\n                      {newSportType === 'Soccer' && (\n                        <>\n                           <Input label=\"Favored Position\" name=\"favoredPosition\" value={newSportData.favoredPosition} onChange={handleSportChange} />\n                           \n                           <div>\n                             <label style={{ display: 'block', marginBottom: '5px', color: '#ccc', fontSize: '14px' }}>Jersey Size</label>\n                             <select \n                                name=\"jerseySize\" \n                                value={newSportData.jerseySize} \n                                onChange={handleSportChange} \n                                style={{ width: '100%', padding: '10px', backgroundColor: '#3a3f4a', border: `1px solid ${COLORS.border}`, borderRadius: '4px', color: 'white', fontSize: '16px' }}\n                             >\n                               <option value=\"Small\">Small</option>\n                               <option value=\"Medium\">Medium</option>\n                               <option value=\"Large\">Large</option>\n                               <option value=\"X-Large\">X-Large</option>\n                             </select>\n                           </div>\n\n                           <Input label=\"Player Number\" type=\"number\" name=\"playerNumber\" value={newSportData.playerNumber} onChange={handleSportChange} />\n                           <Input label=\"Current Roster(s) (comma-separated)\" name=\"currentRosters\" placeholder=\"e.g. The Gizmos, Team B\" value={newSportData.currentRosters} onChange={handleSportChange} />\n                           <Input label=\"Roster Jerseys Owned (comma-separated)\" name=\"rosterJerseysOwned\" placeholder=\"e.g. The Gizmos (Red)\" value={newSportData.rosterJerseysOwned} onChange={handleSportChange} />\n                           \n                           <div>\n                             <label style={{ display: 'block', marginBottom: '5px', color: '#ccc', fontSize: '14px' }}>Comments</label>\n                             <textarea \n                                name=\"comments\" \n                                value={newSportData.comments} \n                                onChange={handleSportChange} \n                                style={{ width: '100%', padding: '10px', backgroundColor: '#3a3f4a', border: `1px solid ${COLORS.border}`, borderRadius: '4px', color: 'white', fontSize: '16px', minHeight: '80px' }} \n                             />\n                           </div>\n                        </>\n                      )}\n                  </form>\n              </Modal>\n          )}\n        </div>\n      );\n  }\n  return null;\n}\nexport default MyProfile;"],"mappings":"6IAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,CAAEC,MAAM,KAAQ,OAAO,CAC1D,OAASC,OAAO,KAAQ,wBAAwB,CAChD,MAAO,CAAAC,UAAU,KAAM,cAAc,CACrC,OAASC,MAAM,CAAEC,IAAI,CAAEC,QAAQ,KAAQ,cAAc,CACrD,MAAO,CAAAC,MAAM,KAAM,iBAAiB,CACpC,MAAO,CAAAC,MAAM,KAAM,iBAAiB,CACpC,MAAO,CAAAC,IAAI,KAAM,eAAe,CAChC,MAAO,CAAAC,MAAM,KAAM,iBAAiB,CACpC,MAAO,CAAAC,KAAK,KAAM,gBAAgB,CAClC,MAAO,CAAAC,KAAK,KAAM,gBAAgB,CAClC,OAASC,MAAM,CAAEC,iBAAiB,KAAQ,cAAc,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAEzD,QAAS,CAAAC,SAASA,CAAA,CAAG,CACnB,KAAM,CAAEC,YAAY,CAAEC,aAAa,CAAEC,WAAW,CAAEC,mBAAoB,CAAC,CAAGvB,OAAO,CAAC,CAAC,CAEnF,KAAM,CAACwB,WAAW,CAAEC,cAAc,CAAC,CAAG5B,QAAQ,CAAC,KAAK,CAAC,CACrD,KAAM,CAAC6B,QAAQ,CAAEC,WAAW,CAAC,CAAG9B,QAAQ,CAAC+B,MAAM,CAACC,UAAU,CAAGjB,iBAAiB,CAAC,CAE/E;AACA,KAAM,CAACkB,gBAAgB,CAAEC,mBAAmB,CAAC,CAAGlC,QAAQ,CAAC,KAAK,CAAC,CAC/D,KAAM,CAACmC,eAAe,CAAEC,kBAAkB,CAAC,CAAGpC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAE1D;AACA,KAAM,CAACqC,YAAY,CAAEC,eAAe,CAAC,CAAGtC,QAAQ,CAAC,IAAI,CAAC,CACtD,KAAM,CAACuC,UAAU,CAAEC,aAAa,CAAC,CAAGxC,QAAQ,CAAC,CAAAuB,YAAY,SAAZA,YAAY,iBAAZA,YAAY,CAAEkB,QAAQ,GAAI,EAAE,CAAC,CAC1E,KAAM,CAACC,eAAe,CAAEC,kBAAkB,CAAC,CAAG3C,QAAQ,CAAC,KAAK,CAAC,CAE7D;AACA,KAAM,CAAC4C,iBAAiB,CAAEC,oBAAoB,CAAC,CAAG7C,QAAQ,CAAC,KAAK,CAAC,CACjE,KAAM,CAAC8C,YAAY,CAAEC,eAAe,CAAC,CAAG/C,QAAQ,CAAC,QAAQ,CAAC,CAC1D,KAAM,CAACgD,YAAY,CAAEC,eAAe,CAAC,CAAGjD,QAAQ,CAAC,CAC7CkD,eAAe,CAAE,EAAE,CACnBC,UAAU,CAAE,OAAO,CACnBC,YAAY,CAAE,CAAC,CACfC,cAAc,CAAE,EAAE,CAClBC,kBAAkB,CAAE,EAAE,CACtBC,QAAQ,CAAE,EACd,CAAC,CAAC,CAEF,KAAM,CAAAC,YAAY,CAAGtD,MAAM,CAAC,IAAI,CAAC,CAEjCD,SAAS,CAAC,IAAM,CACd,KAAM,CAAAwD,YAAY,CAAGA,CAAA,GAAM3B,WAAW,CAACC,MAAM,CAACC,UAAU,CAAGjB,iBAAiB,CAAC,CAC7EgB,MAAM,CAAC2B,gBAAgB,CAAC,QAAQ,CAAED,YAAY,CAAC,CAC/C,MAAO,IAAM1B,MAAM,CAAC4B,mBAAmB,CAAC,QAAQ,CAAEF,YAAY,CAAC,CACjE,CAAC,CAAE,EAAE,CAAC,CAENxD,SAAS,CAAC,IAAM,CACb,GAAIsB,YAAY,CAAE,KAAAqC,qBAAA,CAAAC,sBAAA,CAAAC,sBAAA,CAAAC,sBAAA,CACd3B,kBAAkB,CAAA4B,aAAA,CAAAA,aAAA,IACXzC,YAAY,MACf0C,yBAAyB,CAAE,EAAAL,qBAAA,CAAArC,YAAY,CAAC2C,gBAAgB,UAAAN,qBAAA,iBAA7BA,qBAAA,CAA+BO,SAAS,GAAI,EAAE,CACzEC,wBAAwB,CAAE,EAAAP,sBAAA,CAAAtC,YAAY,CAAC2C,gBAAgB,UAAAL,sBAAA,iBAA7BA,sBAAA,CAA+BQ,QAAQ,GAAI,EAAE,CACvEC,qBAAqB,CAAE,EAAAR,sBAAA,CAAAvC,YAAY,CAAC2C,gBAAgB,UAAAJ,sBAAA,iBAA7BA,sBAAA,CAA+BS,KAAK,GAAI,EAAE,CACjEC,4BAA4B,CAAE,EAAAT,sBAAA,CAAAxC,YAAY,CAAC2C,gBAAgB,UAAAH,sBAAA,iBAA7BA,sBAAA,CAA+BU,YAAY,GAAI,EAAE,EAClF,CAAC,CACFjC,aAAa,CAACjB,YAAY,CAACkB,QAAQ,EAAI,EAAE,CAAC,CAC9C,CACH,CAAC,CAAE,CAAClB,YAAY,CAAC,CAAC,CAElB;AACA,KAAM,CAAAmD,gBAAgB,CAAIC,CAAC,EAAK,CAC9B,GAAIA,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC,CAAE,CACrB,KAAM,CAAAC,IAAI,CAAGH,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC,CAC9BvC,eAAe,CAACwC,IAAI,CAAC,CACrBtC,aAAa,CAACuC,GAAG,CAACC,eAAe,CAACF,IAAI,CAAC,CAAC,CACxCnC,kBAAkB,CAAC,KAAK,CAAC,CAC3B,CACF,CAAC,CAED,KAAM,CAAAsC,iBAAiB,CAAGA,CAAA,GAAM,CAC9B3C,eAAe,CAAC,IAAI,CAAC,CACrBE,aAAa,CAAC,EAAE,CAAC,CACjBG,kBAAkB,CAAC,IAAI,CAAC,CAC1B,CAAC,CAED,KAAM,CAAAuC,uBAAuB,CAAIP,CAAC,EAAK,CACrC,KAAM,CAAEQ,IAAI,CAAEC,KAAM,CAAC,CAAGT,CAAC,CAACC,MAAM,CAChCxC,kBAAkB,CAACiD,IAAI,EAAArB,aAAA,CAAAA,aAAA,IAAUqB,IAAI,MAAE,CAACF,IAAI,EAAGC,KAAK,EAAG,CAAC,CAC1D,CAAC,CAED,KAAM,CAAAE,mBAAmB,CAAG,KAAO,CAAAX,CAAC,EAAK,CACvCA,CAAC,CAACY,cAAc,CAAC,CAAC,CAClB,KAAM,CAAAC,OAAO,CAAG,KAAM,CAAAhE,aAAa,CAACW,eAAe,CAAEE,YAAY,CAAEK,eAAe,CAAC,CACnF,GAAI8C,OAAO,CAAE,CACXtD,mBAAmB,CAAC,KAAK,CAAC,CAC1BI,eAAe,CAAC,IAAI,CAAC,CACrBK,kBAAkB,CAAC,KAAK,CAAC,CAC3B,CACF,CAAC,CAED,KAAM,CAAA8C,aAAa,CAAGA,CAAA,GAAM,CAC1B,GAAI1D,MAAM,CAAC2D,OAAO,CAAC,oCAAoC,CAAC,CAAE,CACxDjE,WAAW,CAAC,CAAC,CACf,CACF,CAAC,CAED;AACA,KAAM,CAAAkE,iBAAiB,CAAIhB,CAAC,EAAK,CAC7B,KAAM,CAAEQ,IAAI,CAAEC,KAAM,CAAC,CAAGT,CAAC,CAACC,MAAM,CAChC3B,eAAe,CAACoC,IAAI,EAAArB,aAAA,CAAAA,aAAA,IAAUqB,IAAI,MAAE,CAACF,IAAI,EAAGC,KAAK,EAAG,CAAC,CACzD,CAAC,CAED,KAAM,CAAAQ,oBAAoB,CAAG,KAAO,CAAAjB,CAAC,EAAK,CACtCA,CAAC,CAACY,cAAc,CAAC,CAAC,CAClB,GAAIzC,YAAY,GAAK,QAAQ,CAAE,CAC3B,KAAM,CAAA0C,OAAO,CAAG,KAAM,CAAA9D,mBAAmB,CAACsB,YAAY,CAAC,CACvD,GAAIwC,OAAO,CAAE,CACT3C,oBAAoB,CAAC,KAAK,CAAC,CAC3B;AACAI,eAAe,CAAC,CACZC,eAAe,CAAE,EAAE,CAAEC,UAAU,CAAE,OAAO,CAAEC,YAAY,CAAE,CAAC,CACzDC,cAAc,CAAE,EAAE,CAAEC,kBAAkB,CAAE,EAAE,CAAEC,QAAQ,CAAE,EAC1D,CAAC,CAAC,CACN,CACJ,CAAC,IAAM,CACHsC,KAAK,CAAC,wCAAwC,CAAC,CACnD,CACJ,CAAC,CAED,KAAM,CAAAC,MAAM,CAAG,CACbC,aAAa,CAAE,CAAEC,OAAO,CAAE,MAAM,CAAEC,aAAa,CAAE,QAAQ,CAAEC,UAAU,CAAE,QAAQ,CAAEC,YAAY,CAAE,MAAO,CAAC,CACvGC,cAAc,CAAE,CACdC,KAAK,CAAE,OAAO,CAAEC,MAAM,CAAE,OAAO,CAAEC,YAAY,CAAE,KAAK,CAAEC,QAAQ,CAAE,QAAQ,CACxEC,eAAe,CAAE,MAAM,CAAET,OAAO,CAAE,MAAM,CAAEU,cAAc,CAAE,QAAQ,CAAER,UAAU,CAAE,QAAQ,CACxFC,YAAY,CAAE,MAAM,CAAEQ,MAAM,CAAE,mBAChC,CAAC,CACDC,YAAY,CAAE,CAAEP,KAAK,CAAE,MAAM,CAAEC,MAAM,CAAE,MAAM,CAAEO,SAAS,CAAE,OAAQ,CAAC,CACnEC,eAAe,CAAE,CAAEC,KAAK,CAAE,MAAM,CAAEC,QAAQ,CAAE,MAAO,CAAC,CACpDC,aAAa,CAAE,CAAEjB,OAAO,CAAE,MAAM,CAAEkB,GAAG,CAAE,MAAM,CAAEC,SAAS,CAAE,MAAO,CACnE,CAAC,CAED,KAAM,CAAAC,QAAQ,CAAGC,IAAA,MAAC,CAAEC,KAAK,CAAEC,IAAI,CAAEC,IAAI,CAAEC,IAAI,CAAEC,OAAQ,CAAC,CAAAL,IAAA,oBACpDlG,KAAA,CAACT,IAAI,EACDgH,OAAO,CAAEA,OAAQ,CAACC,SAAS,MAC3BC,KAAK,CAAE,CACH5B,OAAO,CAAE,MAAM,CAAEC,aAAa,CAAEpE,QAAQ,CAAG,KAAK,CAAG,QAAQ,CAAEqE,UAAU,CAAE,QAAQ,CACjFQ,cAAc,CAAE7E,QAAQ,CAAG,YAAY,CAAG,QAAQ,CAAEgG,SAAS,CAAEhG,QAAQ,CAAG,MAAM,CAAG,QAAQ,CAC3FiG,SAAS,CAAEjG,QAAQ,CAAG,MAAM,CAAG,OAAO,CAAEsE,YAAY,CAAE,CAAC,CAAE4B,OAAO,CAAE,MAAM,CAAEC,SAAS,CAAE,YACzF,CAAE,CAAAC,QAAA,eAEJhH,IAAA,CAACwG,IAAI,EAACS,IAAI,CAAErG,QAAQ,CAAG,EAAE,CAAG,EAAG,CAACkF,KAAK,CAAEjG,MAAM,CAACqH,OAAQ,CAACP,KAAK,CAAE,CAAEzB,YAAY,CAAEtE,QAAQ,CAAG,CAAC,CAAG,MAAM,CAAEuG,WAAW,CAAEvG,QAAQ,CAAG,MAAM,CAAG,CAAC,CAAEwG,UAAU,CAAE,CAAE,CAAE,CAAE,CAAC,cAC5JlH,KAAA,QAAA8G,QAAA,eACEhH,IAAA,QAAK2G,KAAK,CAAE,CAAEZ,QAAQ,CAAE,MAAM,CAAEsB,UAAU,CAAE,MAAM,CAAEvB,KAAK,CAAE,OAAO,CAAEZ,YAAY,CAAE,KAAM,CAAE,CAAA8B,QAAA,CAAEX,KAAK,CAAM,CAAC,cACxGrG,IAAA,QAAK2G,KAAK,CAAE,CAAEZ,QAAQ,CAAE,MAAM,CAAED,KAAK,CAAE,MAAO,CAAE,CAAAkB,QAAA,CAAEV,IAAI,CAAM,CAAC,EAC1D,CAAC,EACF,CAAC,EACR,CAED;AACA,GAAI5F,WAAW,GAAK,KAAK,CAAE,CACvB,mBACER,KAAA,QAAKoH,SAAS,CAAC,gBAAgB,CAAAN,QAAA,eAC7BhH,IAAA,CAACT,MAAM,EAAC8G,KAAK,CAAC,SAAS,CAACM,KAAK,CAAE,CAAEY,QAAQ,CAAE,QAAQ,CAAEC,MAAM,CAAE,QAAS,CAAE,CACtEC,OAAO,cACHvH,KAAA,WAAQuG,OAAO,CAAEjC,aAAc,CAACmC,KAAK,CAAE,CAAEe,UAAU,CAAE,MAAM,CAAEhC,MAAM,CAAE,MAAM,CAAEI,KAAK,CAAE,SAAS,CAAE6B,MAAM,CAAE,SAAS,CAAE5C,OAAO,CAAE,MAAM,CAAEC,aAAa,CAAE,QAAQ,CAAEC,UAAU,CAAE,QAAQ,CAAEgB,GAAG,CAAE,KAAK,CAAEF,QAAQ,CAAE,MAAM,CAAEsB,UAAU,CAAE,MAAO,CAAE,CAAAL,QAAA,eACnOhH,IAAA,CAACZ,MAAM,EAAC6H,IAAI,CAAE,EAAG,CAAE,CAAC,YACtB,EAAQ,CACX,CACF,CAAC,cACFjH,IAAA,QAAKsH,SAAS,CAAC,cAAc,CAAAN,QAAA,cAC3B9G,KAAA,QAAKyG,KAAK,CAAE,CAAEY,QAAQ,CAAE,QAAQ,CAAEC,MAAM,CAAE,QAAQ,CAAEpC,KAAK,CAAE,MAAO,CAAE,CAAA4B,QAAA,eAClE9G,KAAA,QAAKyG,KAAK,CAAE,CAAE5B,OAAO,CAAE,MAAM,CAAEC,aAAa,CAAE,QAAQ,CAAEC,UAAU,CAAE,QAAQ,CAAEC,YAAY,CAAE,MAAM,CAAEgB,SAAS,CAAE,MAAO,CAAE,CAAAc,QAAA,eACpHhH,IAAA,QAAK2G,KAAK,CAAE,CAAEzB,YAAY,CAAE,MAAO,CAAE,CAAA8B,QAAA,cACjChH,IAAA,CAACN,MAAM,EAACkI,GAAG,CAAEtH,YAAY,CAACkB,QAAS,CAACqG,IAAI,CAAEvH,YAAY,CAACwH,UAAW,CAACb,IAAI,CAAE,GAAI,CAACN,KAAK,CAAE,CAAEjB,MAAM,cAAAqC,MAAA,CAAelI,MAAM,CAACqH,OAAO,CAAE,CAAEnB,QAAQ,CAAE,MAAO,CAAE,CAAE,CAAC,CACnJ,CAAC,cACN/F,IAAA,OAAI2G,KAAK,CAAE,CAAEa,MAAM,CAAE,CAAC,CAAE1B,KAAK,CAAE,OAAQ,CAAE,CAAAkB,QAAA,CAAE1G,YAAY,CAACwH,UAAU,CAAK,CAAC,cACxE9H,IAAA,MAAG2G,KAAK,CAAE,CAAEa,MAAM,CAAE,OAAO,CAAE1B,KAAK,CAAE,MAAO,CAAE,CAAAkB,QAAA,CAAE1G,YAAY,CAAC0H,KAAK,CAAI,CAAC,EACrE,CAAC,cAEN9H,KAAA,QAAKyG,KAAK,CAAE,CAAE5B,OAAO,CAAE,MAAM,CAAEkD,mBAAmB,CAAErH,QAAQ,CAAG,KAAK,CAAG,SAAS,CAAEsH,YAAY,CAAEtH,QAAQ,CAAG,MAAM,CAAG,qBAAqB,CAAEqF,GAAG,CAAE,MAAM,CAAEY,SAAS,CAAE,CAAE,CAAE,CAAAG,QAAA,eACpKhH,IAAA,CAACmG,QAAQ,EAACE,KAAK,CAAC,sBAAsB,CAACC,IAAI,CAAC,qCAAqC,CAACC,IAAI,CAAElH,IAAK,CAACoH,OAAO,CAAEA,CAAA,GAAM9F,cAAc,CAAC,UAAU,CAAE,CAAE,CAAC,cAC3IX,IAAA,CAACmG,QAAQ,EAACE,KAAK,CAAC,gBAAgB,CAACC,IAAI,CAAC,oCAAoC,CAACC,IAAI,CAAEjH,QAAS,CAACmH,OAAO,CAAEA,CAAA,GAAM9F,cAAc,CAAC,QAAQ,CAAE,CAAE,CAAC,EACpI,CAAC,EACH,CAAC,CACH,CAAC,EACH,CAAC,CAEZ,CAEA;AACA,GAAID,WAAW,GAAK,UAAU,CAAE,KAAAyH,sBAAA,CAAAC,sBAAA,CAAAC,sBAAA,CAAAC,sBAAA,CAC5B,GAAItH,gBAAgB,CAAE,CACpB,mBACEd,KAAA,QAAKoH,SAAS,CAAC,gBAAgB,CAAAN,QAAA,eAC7BhH,IAAA,CAACT,MAAM,EAAC8G,KAAK,CAAC,oBAAoB,CAACM,KAAK,CAAE,CAAEY,QAAQ,CAAE,QAAQ,CAAEC,MAAM,CAAE,QAAS,CAAE,CAAE,CAAC,cACtFxH,IAAA,QAAKsH,SAAS,CAAC,cAAc,CAAAN,QAAA,cAC3B9G,KAAA,SAAMqI,QAAQ,CAAElE,mBAAoB,CAACsC,KAAK,CAAE,CAAE5B,OAAO,CAAE,MAAM,CAAEC,aAAa,CAAE,QAAQ,CAAEiB,GAAG,CAAE,MAAM,CAAEW,SAAS,CAAE,MAAM,CAAEW,QAAQ,CAAE,QAAQ,CAAEC,MAAM,CAAE,QAAS,CAAE,CAAAR,QAAA,eAC7J9G,KAAA,QAAKyG,KAAK,CAAE9B,MAAM,CAACC,aAAc,CAAAkC,QAAA,eAC/BhH,IAAA,QAAK2G,KAAK,CAAE9B,MAAM,CAACM,cAAe,CAAA6B,QAAA,CAC/B1F,UAAU,cAAGtB,IAAA,QAAK4H,GAAG,CAAEtG,UAAW,CAACkH,GAAG,CAAC,SAAS,CAAC7B,KAAK,CAAE9B,MAAM,CAACc,YAAa,CAAE,CAAC,cAAG3F,IAAA,SAAM2G,KAAK,CAAE9B,MAAM,CAACgB,eAAgB,CAAAmB,QAAA,CAAC,GAAC,CAAM,CAAC,CAC7H,CAAC,cACN9G,KAAA,QAAKyG,KAAK,CAAE9B,MAAM,CAACmB,aAAc,CAAAgB,QAAA,eAC/BhH,IAAA,UAAOyI,IAAI,CAAC,MAAM,CAACC,GAAG,CAAEnG,YAAa,CAACoG,QAAQ,CAAElF,gBAAiB,CAACmF,MAAM,CAAC,SAAS,CAACjC,KAAK,CAAE,CAAE5B,OAAO,CAAE,MAAO,CAAE,CAAE,CAAC,cACjH/E,IAAA,WAAQyI,IAAI,CAAC,QAAQ,CAAChC,OAAO,CAAEA,CAAA,GAAMlE,YAAY,CAACsG,OAAO,CAACC,KAAK,CAAC,CAAE,CAACnC,KAAK,CAAE,CAAEG,OAAO,CAAE,UAAU,CAAEtB,eAAe,CAAE,MAAM,CAAEE,MAAM,CAAE,gBAAgB,CAAEI,KAAK,CAAE,OAAO,CAAE6B,MAAM,CAAE,SAAS,CAAErC,YAAY,CAAE,KAAM,CAAE,CAAA0B,QAAA,CAAE1F,UAAU,CAAG,gBAAgB,CAAG,aAAa,CAAS,CAAC,CACrQA,UAAU,eAAItB,IAAA,WAAQyI,IAAI,CAAC,QAAQ,CAAChC,OAAO,CAAEzC,iBAAkB,CAAC2C,KAAK,CAAE,CAAEG,OAAO,CAAE,UAAU,CAAEtB,eAAe,CAAE,MAAM,CAAEE,MAAM,CAAE,mBAAmB,CAAEI,KAAK,CAAE,SAAS,CAAE6B,MAAM,CAAE,SAAS,CAAErC,YAAY,CAAE,KAAM,CAAE,CAAA0B,QAAA,CAAC,QAAM,CAAQ,CAAC,EAC7N,CAAC,EACH,CAAC,cAEN9G,KAAA,QAAKyG,KAAK,CAAE,CAAE5B,OAAO,CAAE,MAAM,CAAEkB,GAAG,CAAE,MAAO,CAAE,CAAAe,QAAA,eACzChH,IAAA,QAAK2G,KAAK,CAAE,CAAEoC,IAAI,CAAE,CAAE,CAAE,CAAA/B,QAAA,cAAChH,IAAA,CAACJ,KAAK,EAACoJ,KAAK,CAAC,YAAY,CAAC9E,IAAI,CAAC,WAAW,CAACC,KAAK,CAAEjD,eAAe,CAACgC,SAAU,CAACyF,QAAQ,CAAE1E,uBAAwB,CAACgF,QAAQ,MAAE,CAAC,CAAK,CAAC,cAC1JjJ,IAAA,QAAK2G,KAAK,CAAE,CAAEoC,IAAI,CAAE,CAAE,CAAE,CAAA/B,QAAA,cAAChH,IAAA,CAACJ,KAAK,EAACoJ,KAAK,CAAC,WAAW,CAAC9E,IAAI,CAAC,UAAU,CAACC,KAAK,CAAEjD,eAAe,CAACkC,QAAS,CAACuF,QAAQ,CAAE1E,uBAAwB,CAACgF,QAAQ,MAAE,CAAC,CAAK,CAAC,EACtJ,CAAC,cACNjJ,IAAA,CAACJ,KAAK,EAACoJ,KAAK,CAAC,gBAAgB,CAAC9E,IAAI,CAAC,eAAe,CAACC,KAAK,CAAEjD,eAAe,CAACgI,aAAc,CAACP,QAAQ,CAAE1E,uBAAwB,CAAE,CAAC,cAC9HjE,IAAA,CAACJ,KAAK,EAACoJ,KAAK,CAAC,OAAO,CAACP,IAAI,CAAC,OAAO,CAACvE,IAAI,CAAC,OAAO,CAACC,KAAK,CAAEjD,eAAe,CAAC8G,KAAM,CAACW,QAAQ,CAAE1E,uBAAwB,CAACgF,QAAQ,MAAE,CAAC,cAC3HjJ,IAAA,CAACJ,KAAK,EAACoJ,KAAK,CAAC,OAAO,CAACP,IAAI,CAAC,KAAK,CAACvE,IAAI,CAAC,OAAO,CAACC,KAAK,CAAEjD,eAAe,CAACoC,KAAM,CAACqF,QAAQ,CAAE1E,uBAAwB,CAAE,CAAC,cAEhH/D,KAAA,QAAKyG,KAAK,CAAE,CAAEzB,YAAY,CAAE,MAAM,CAAE0B,SAAS,CAAE,MAAO,CAAE,CAAAI,QAAA,eACtDhH,IAAA,UAAO2G,KAAK,CAAE,CAAE5B,OAAO,CAAE,OAAO,CAAEG,YAAY,CAAE,KAAK,CAAEY,KAAK,CAAE,MAAM,CAAEC,QAAQ,CAAE,MAAO,CAAE,CAAAiB,QAAA,CAAC,gCAA8B,CAAO,CAAC,cAChI9G,KAAA,WAAQgE,IAAI,CAAC,wBAAwB,CAACC,KAAK,CAAEjD,eAAe,CAACiI,sBAAuB,CAACR,QAAQ,CAAE1E,uBAAwB,CAAC0C,KAAK,CAAE,CAAEvB,KAAK,CAAE,MAAM,CAAE0B,OAAO,CAAE,MAAM,CAAEtB,eAAe,CAAE,SAAS,CAAEE,MAAM,cAAAqC,MAAA,CAAelI,MAAM,CAAC6F,MAAM,CAAE,CAAEJ,YAAY,CAAE,KAAK,CAAEQ,KAAK,CAAE,OAAO,CAAEC,QAAQ,CAAE,MAAO,CAAE,CAAAiB,QAAA,eACzRhH,IAAA,WAAQmE,KAAK,CAAC,OAAO,CAAA6C,QAAA,CAAC,OAAK,CAAQ,CAAC,cACpChH,IAAA,WAAQmE,KAAK,CAAC,cAAc,CAAA6C,QAAA,CAAC,cAAY,CAAQ,CAAC,EAC5C,CAAC,EACN,CAAC,cAENhH,IAAA,OAAI2G,KAAK,CAAE,CAAEa,MAAM,CAAE,cAAc,CAAE1B,KAAK,CAAEjG,MAAM,CAACqH,OAAQ,CAAE,CAAAF,QAAA,CAAC,mBAAiB,CAAI,CAAC,cACpF9G,KAAA,QAAKyG,KAAK,CAAE,CAAE5B,OAAO,CAAE,MAAM,CAAEkB,GAAG,CAAE,MAAO,CAAE,CAAAe,QAAA,eACzChH,IAAA,QAAK2G,KAAK,CAAE,CAAEoC,IAAI,CAAE,CAAE,CAAE,CAAA/B,QAAA,cAAChH,IAAA,CAACJ,KAAK,EAACoJ,KAAK,CAAC,YAAY,CAAC9E,IAAI,CAAC,2BAA2B,CAACC,KAAK,CAAEjD,eAAe,CAAC8B,yBAA0B,CAAC2F,QAAQ,CAAE1E,uBAAwB,CAAE,CAAC,CAAK,CAAC,cACjLjE,IAAA,QAAK2G,KAAK,CAAE,CAAEoC,IAAI,CAAE,CAAE,CAAE,CAAA/B,QAAA,cAAChH,IAAA,CAACJ,KAAK,EAACoJ,KAAK,CAAC,WAAW,CAAC9E,IAAI,CAAC,0BAA0B,CAACC,KAAK,CAAEjD,eAAe,CAACiC,wBAAyB,CAACwF,QAAQ,CAAE1E,uBAAwB,CAAE,CAAC,CAAK,CAAC,EAC7K,CAAC,cACNjE,IAAA,CAACJ,KAAK,EAACoJ,KAAK,CAAC,cAAc,CAACP,IAAI,CAAC,KAAK,CAACvE,IAAI,CAAC,uBAAuB,CAACC,KAAK,CAAEjD,eAAe,CAACmC,qBAAsB,CAACsF,QAAQ,CAAE1E,uBAAwB,CAAE,CAAC,cACvJjE,IAAA,CAACJ,KAAK,EAACoJ,KAAK,CAAC,cAAc,CAAC9E,IAAI,CAAC,8BAA8B,CAACC,KAAK,CAAEjD,eAAe,CAACqC,4BAA6B,CAACoF,QAAQ,CAAE1E,uBAAwB,CAAE,CAAC,cAE1J/D,KAAA,QAAKyG,KAAK,CAAE,CAAE5B,OAAO,CAAE,MAAM,CAAEkB,GAAG,CAAE,MAAM,CAAEC,SAAS,CAAE,MAAO,CAAE,CAAAc,QAAA,eAC9DhH,IAAA,CAACR,MAAM,EAACiJ,IAAI,CAAC,QAAQ,CAAAzB,QAAA,CAAC,MAAI,CAAQ,CAAC,cACnChH,IAAA,CAACR,MAAM,EAAC4J,OAAO,CAAC,WAAW,CAAC3C,OAAO,CAAEA,CAAA,GAAM,CAAExF,mBAAmB,CAAC,KAAK,CAAC,CAAEM,aAAa,CAACjB,YAAY,CAACkB,QAAQ,EAAI,EAAE,CAAC,CAAEH,eAAe,CAAC,IAAI,CAAC,CAAEK,kBAAkB,CAAC,KAAK,CAAC,CAAE,CAAE,CAAAsF,QAAA,CAAC,QAAM,CAAQ,CAAC,EACtL,CAAC,EACF,CAAC,CACJ,CAAC,EACH,CAAC,CAEV,CAEA,mBACE9G,KAAA,QAAKoH,SAAS,CAAC,gBAAgB,CAAAN,QAAA,eAC7BhH,IAAA,CAACT,MAAM,EAAC8G,KAAK,CAAC,sBAAsB,CAACM,KAAK,CAAE,CAAEY,QAAQ,CAAE,QAAQ,CAAEC,MAAM,CAAE,QAAS,CAAE,CAACC,OAAO,cAAEzH,IAAA,CAACR,MAAM,EAAC4J,OAAO,CAAC,WAAW,CAAC3C,OAAO,CAAEA,CAAA,GAAM9F,cAAc,CAAC,KAAK,CAAE,CAACgG,KAAK,CAAE,CAAEZ,QAAQ,CAAE,MAAM,CAAEe,OAAO,CAAE,UAAW,CAAE,CAAAE,QAAA,CAAC,MAAI,CAAQ,CAAE,CAAE,CAAC,cACpOhH,IAAA,QAAKsH,SAAS,CAAC,cAAc,CAAAN,QAAA,cAC3B9G,KAAA,QAAKyG,KAAK,CAAE,CAAEY,QAAQ,CAAE,QAAQ,CAAEC,MAAM,CAAE,QAAQ,CAAEZ,SAAS,CAAE,MAAO,CAAE,CAAAI,QAAA,eACtE9G,KAAA,QAAKoH,SAAS,CAAC,YAAY,CAAAN,QAAA,eACzBhH,IAAA,QAAKsH,SAAS,CAAC,YAAY,CAAAN,QAAA,CAAC,OAAK,CAAK,CAAC,cAAA9G,KAAA,QAAKoH,SAAS,CAAC,YAAY,CAAAN,QAAA,EAAE1G,YAAY,CAAC4C,SAAS,CAAC,GAAC,CAAC5C,YAAY,CAAC8C,QAAQ,EAAM,CAAC,cACzHpD,IAAA,QAAKsH,SAAS,CAAC,YAAY,CAAAN,QAAA,CAAC,iBAAe,CAAK,CAAC,cAAAhH,IAAA,QAAKsH,SAAS,CAAC,YAAY,CAAAN,QAAA,CAAE1G,YAAY,CAAC4I,aAAa,EAAI,KAAK,CAAM,CAAC,cACxHlJ,IAAA,QAAKsH,SAAS,CAAC,YAAY,CAAAN,QAAA,CAAC,QAAM,CAAK,CAAC,cAAAhH,IAAA,QAAKsH,SAAS,CAAC,YAAY,CAAAN,QAAA,CAAE1G,YAAY,CAAC0H,KAAK,CAAM,CAAC,cAC9FhI,IAAA,QAAKsH,SAAS,CAAC,YAAY,CAAAN,QAAA,CAAC,QAAM,CAAK,CAAC,cAAAhH,IAAA,QAAKsH,SAAS,CAAC,YAAY,CAAAN,QAAA,CAAE1G,YAAY,CAACgD,KAAK,CAAM,CAAC,cAC9FtD,IAAA,QAAKsH,SAAS,CAAC,YAAY,CAAAN,QAAA,CAAC,oBAAkB,CAAK,CAAC,cAAAhH,IAAA,QAAKsH,SAAS,CAAC,YAAY,CAAAN,QAAA,CAAE1G,YAAY,CAAC6I,sBAAsB,CAAM,CAAC,cAE3HnJ,IAAA,QAAKsH,SAAS,CAAC,YAAY,CAACX,KAAK,CAAE,CAAET,SAAS,CAAE,MAAM,CAAEmB,UAAU,CAAE,MAAM,CAAEvB,KAAK,CAAEjG,MAAM,CAACqH,OAAQ,CAAE,CAAAF,QAAA,CAAC,oBAAkB,CAAK,CAAC,cAAAhH,IAAA,QAAKsH,SAAS,CAAC,YAAY,CAAM,CAAC,cAC/JtH,IAAA,QAAKsH,SAAS,CAAC,YAAY,CAAAN,QAAA,CAAC,OAAK,CAAK,CAAC,cAAA9G,KAAA,QAAKoH,SAAS,CAAC,YAAY,CAAAN,QAAA,GAAAmB,sBAAA,CAAE7H,YAAY,CAAC2C,gBAAgB,UAAAkF,sBAAA,iBAA7BA,sBAAA,CAA+BjF,SAAS,CAAC,GAAC,EAAAkF,sBAAA,CAAC9H,YAAY,CAAC2C,gBAAgB,UAAAmF,sBAAA,iBAA7BA,sBAAA,CAA+BhF,QAAQ,EAAM,CAAC,cAC7JpD,IAAA,QAAKsH,SAAS,CAAC,YAAY,CAAAN,QAAA,CAAC,QAAM,CAAK,CAAC,cAAAhH,IAAA,QAAKsH,SAAS,CAAC,YAAY,CAAAN,QAAA,EAAAqB,sBAAA,CAAE/H,YAAY,CAAC2C,gBAAgB,UAAAoF,sBAAA,iBAA7BA,sBAAA,CAA+B/E,KAAK,CAAM,CAAC,cAChHtD,IAAA,QAAKsH,SAAS,CAAC,YAAY,CAAAN,QAAA,CAAC,eAAa,CAAK,CAAC,cAAAhH,IAAA,QAAKsH,SAAS,CAAC,YAAY,CAAAN,QAAA,EAAAsB,sBAAA,CAAEhI,YAAY,CAAC2C,gBAAgB,UAAAqF,sBAAA,iBAA7BA,sBAAA,CAA+B9E,YAAY,CAAM,CAAC,EAC3H,CAAC,cACNxD,IAAA,QAAK2G,KAAK,CAAE,CAAET,SAAS,CAAE,MAAO,CAAE,CAAAc,QAAA,cAChChH,IAAA,CAACR,MAAM,EAACiH,OAAO,CAAEA,CAAA,GAAM,CAAEtF,kBAAkB,CAACb,YAAY,CAAC,CAAEiB,aAAa,CAACjB,YAAY,CAACkB,QAAQ,EAAI,EAAE,CAAC,CAAEP,mBAAmB,CAAC,IAAI,CAAC,CAAE,CAAE,CAAA+F,QAAA,CAAC,WAAS,CAAQ,CAAC,CACpJ,CAAC,EACH,CAAC,CACH,CAAC,EACH,CAAC,CAEZ,CAEA;AACA,GAAItG,WAAW,GAAK,QAAQ,CAAE,CAC1B,mBACER,KAAA,QAAKoH,SAAS,CAAC,gBAAgB,CAAAN,QAAA,eAC7BhH,IAAA,CAACT,MAAM,EACL8G,KAAK,CAAC,gBAAgB,CACtBM,KAAK,CAAE,CAAEY,QAAQ,CAAE,QAAQ,CAAEC,MAAM,CAAE,QAAS,CAAE,CAChDC,OAAO,cACHvH,KAAA,QAAKyG,KAAK,CAAE,CAAE5B,OAAO,CAAE,MAAM,CAAEkB,GAAG,CAAE,MAAO,CAAE,CAAAe,QAAA,eAExChH,IAAA,CAACR,MAAM,EAACiH,OAAO,CAAEA,CAAA,GAAM7E,oBAAoB,CAAC,IAAI,CAAE,CAAC+E,KAAK,CAAE,CAAEZ,QAAQ,CAAE,MAAM,CAAEe,OAAO,CAAE,UAAW,CAAE,CAAAE,QAAA,CAAC,aAAW,CAAQ,CAAC,cACzHhH,IAAA,CAACR,MAAM,EAAC4J,OAAO,CAAC,WAAW,CAAC3C,OAAO,CAAEA,CAAA,GAAM9F,cAAc,CAAC,KAAK,CAAE,CAACgG,KAAK,CAAE,CAAEZ,QAAQ,CAAE,MAAM,CAAEe,OAAO,CAAE,UAAW,CAAE,CAAAE,QAAA,CAAC,MAAI,CAAQ,CAAC,EACjI,CACR,CACF,CAAC,cACFhH,IAAA,QAAKsH,SAAS,CAAC,cAAc,CAAAN,QAAA,cAC1BhH,IAAA,QAAK2G,KAAK,CAAE,CAAEY,QAAQ,CAAE,QAAQ,CAAEC,MAAM,CAAE,QAAQ,CAAEZ,SAAS,CAAE,MAAO,CAAE,CAAAI,QAAA,cACrEhH,IAAA,CAACb,UAAU,GAAE,CAAC,CACZ,CAAC,CACJ,CAAC,CAGLwC,iBAAiB,eACd3B,IAAA,CAACL,KAAK,EACF0G,KAAK,CAAC,WAAW,CACjBgD,OAAO,CAAEA,CAAA,GAAMzH,oBAAoB,CAAC,KAAK,CAAE,CAC3C6F,OAAO,cAAEzH,IAAA,CAACR,MAAM,EAACiH,OAAO,CAAE9B,oBAAqB,CAAAqC,QAAA,CAAC,YAAU,CAAQ,CAAE,CAAAA,QAAA,cAEpE9G,KAAA,SAAMqI,QAAQ,CAAE5D,oBAAqB,CAACgC,KAAK,CAAE,CAAE5B,OAAO,CAAE,MAAM,CAAEC,aAAa,CAAE,QAAQ,CAAEiB,GAAG,CAAE,MAAM,CAAEW,SAAS,CAAE,MAAO,CAAE,CAAAI,QAAA,eAGtH9G,KAAA,QAAKyG,KAAK,CAAE,CAAEzB,YAAY,CAAE,MAAO,CAAE,CAAA8B,QAAA,eACnChH,IAAA,UAAO2G,KAAK,CAAE,CAAE5B,OAAO,CAAE,OAAO,CAAEG,YAAY,CAAE,KAAK,CAAEY,KAAK,CAAE,MAAM,CAAEC,QAAQ,CAAE,MAAO,CAAE,CAAAiB,QAAA,CAAC,cAAY,CAAO,CAAC,cAC9G9G,KAAA,WACEiE,KAAK,CAAEtC,YAAa,CACpB8G,QAAQ,CAAGjF,CAAC,EAAK5B,eAAe,CAAC4B,CAAC,CAACC,MAAM,CAACQ,KAAK,CAAE,CACjDwC,KAAK,CAAE,CACLvB,KAAK,CAAE,MAAM,CAAE0B,OAAO,CAAE,MAAM,CAAEtB,eAAe,CAAE,SAAS,CAC1DE,MAAM,cAAAqC,MAAA,CAAelI,MAAM,CAAC6F,MAAM,CAAE,CAAEJ,YAAY,CAAE,KAAK,CAAEQ,KAAK,CAAE,OAAO,CAAEC,QAAQ,CAAE,MACvF,CAAE,CAAAiB,QAAA,eAEFhH,IAAA,WAAQmE,KAAK,CAAC,QAAQ,CAAA6C,QAAA,CAAC,QAAM,CAAQ,CAAC,cACtChH,IAAA,WAAQmE,KAAK,CAAC,YAAY,CAACmF,QAAQ,MAAAtC,QAAA,CAAC,0BAAwB,CAAQ,CAAC,cACrEhH,IAAA,WAAQmE,KAAK,CAAC,UAAU,CAACmF,QAAQ,MAAAtC,QAAA,CAAC,wBAAsB,CAAQ,CAAC,EAC3D,CAAC,EACN,CAAC,CAELnF,YAAY,GAAK,QAAQ,eACxB3B,KAAA,CAAAE,SAAA,EAAA4G,QAAA,eACGhH,IAAA,CAACJ,KAAK,EAACoJ,KAAK,CAAC,kBAAkB,CAAC9E,IAAI,CAAC,iBAAiB,CAACC,KAAK,CAAEpC,YAAY,CAACE,eAAgB,CAAC0G,QAAQ,CAAEjE,iBAAkB,CAAE,CAAC,cAE3HxE,KAAA,QAAA8G,QAAA,eACEhH,IAAA,UAAO2G,KAAK,CAAE,CAAE5B,OAAO,CAAE,OAAO,CAAEG,YAAY,CAAE,KAAK,CAAEY,KAAK,CAAE,MAAM,CAAEC,QAAQ,CAAE,MAAO,CAAE,CAAAiB,QAAA,CAAC,aAAW,CAAO,CAAC,cAC7G9G,KAAA,WACGgE,IAAI,CAAC,YAAY,CACjBC,KAAK,CAAEpC,YAAY,CAACG,UAAW,CAC/ByG,QAAQ,CAAEjE,iBAAkB,CAC5BiC,KAAK,CAAE,CAAEvB,KAAK,CAAE,MAAM,CAAE0B,OAAO,CAAE,MAAM,CAAEtB,eAAe,CAAE,SAAS,CAAEE,MAAM,cAAAqC,MAAA,CAAelI,MAAM,CAAC6F,MAAM,CAAE,CAAEJ,YAAY,CAAE,KAAK,CAAEQ,KAAK,CAAE,OAAO,CAAEC,QAAQ,CAAE,MAAO,CAAE,CAAAiB,QAAA,eAEpKhH,IAAA,WAAQmE,KAAK,CAAC,OAAO,CAAA6C,QAAA,CAAC,OAAK,CAAQ,CAAC,cACpChH,IAAA,WAAQmE,KAAK,CAAC,QAAQ,CAAA6C,QAAA,CAAC,QAAM,CAAQ,CAAC,cACtChH,IAAA,WAAQmE,KAAK,CAAC,OAAO,CAAA6C,QAAA,CAAC,OAAK,CAAQ,CAAC,cACpChH,IAAA,WAAQmE,KAAK,CAAC,SAAS,CAAA6C,QAAA,CAAC,SAAO,CAAQ,CAAC,EAClC,CAAC,EACN,CAAC,cAENhH,IAAA,CAACJ,KAAK,EAACoJ,KAAK,CAAC,eAAe,CAACP,IAAI,CAAC,QAAQ,CAACvE,IAAI,CAAC,cAAc,CAACC,KAAK,CAAEpC,YAAY,CAACI,YAAa,CAACwG,QAAQ,CAAEjE,iBAAkB,CAAE,CAAC,cAChI1E,IAAA,CAACJ,KAAK,EAACoJ,KAAK,CAAC,qCAAqC,CAAC9E,IAAI,CAAC,gBAAgB,CAACqF,WAAW,CAAC,yBAAyB,CAACpF,KAAK,CAAEpC,YAAY,CAACK,cAAe,CAACuG,QAAQ,CAAEjE,iBAAkB,CAAE,CAAC,cAClL1E,IAAA,CAACJ,KAAK,EAACoJ,KAAK,CAAC,wCAAwC,CAAC9E,IAAI,CAAC,oBAAoB,CAACqF,WAAW,CAAC,uBAAuB,CAACpF,KAAK,CAAEpC,YAAY,CAACM,kBAAmB,CAACsG,QAAQ,CAAEjE,iBAAkB,CAAE,CAAC,cAE3LxE,KAAA,QAAA8G,QAAA,eACEhH,IAAA,UAAO2G,KAAK,CAAE,CAAE5B,OAAO,CAAE,OAAO,CAAEG,YAAY,CAAE,KAAK,CAAEY,KAAK,CAAE,MAAM,CAAEC,QAAQ,CAAE,MAAO,CAAE,CAAAiB,QAAA,CAAC,UAAQ,CAAO,CAAC,cAC1GhH,IAAA,aACGkE,IAAI,CAAC,UAAU,CACfC,KAAK,CAAEpC,YAAY,CAACO,QAAS,CAC7BqG,QAAQ,CAAEjE,iBAAkB,CAC5BiC,KAAK,CAAE,CAAEvB,KAAK,CAAE,MAAM,CAAE0B,OAAO,CAAE,MAAM,CAAEtB,eAAe,CAAE,SAAS,CAAEE,MAAM,cAAAqC,MAAA,CAAelI,MAAM,CAAC6F,MAAM,CAAE,CAAEJ,YAAY,CAAE,KAAK,CAAEQ,KAAK,CAAE,OAAO,CAAEC,QAAQ,CAAE,MAAM,CAAEc,SAAS,CAAE,MAAO,CAAE,CACxL,CAAC,EACC,CAAC,EACP,CACH,EACC,CAAC,CACJ,CACV,EACE,CAAC,CAEZ,CACA,MAAO,KAAI,CACb,CACA,cAAe,CAAAxG,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}