{"ast":null,"code":"import React,{useEffect}from'react';import'./App.css';// NEW: Import our custom hook\nimport{useAuth}from'./context/AuthContext';// NEW: Import our new components\nimport Layout from'./components/Layout';import AuthPage from'./components/AuthPage';import ReauthModal from'./components/ReauthModal';/**\n * This is our new App component.\n * It's now a simple \"router\" that only decides which\n * high-level page to show.\n */import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){// Get all the global state from our \"brain\" (AuthContext)\nconst{loggedInUser,isLoading,needsReauth}=useAuth();useEffect(()=>{const handleUnload=()=>{// This doesn't delete the app, but it can serve as a \n// placeholder to forcefully detach listeners if needed.\n// In modern Firebase SDKs, simply letting the page unload\n// is usually sufficient, despite the console error.\n};window.addEventListener('beforeunload',handleUnload);return()=>{window.removeEventListener('beforeunload',handleUnload);};},[]);// 1. Show a loading screen while we check for a user\nif(isLoading){return/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:/*#__PURE__*/_jsx(\"header\",{className:\"App-header\",children:/*#__PURE__*/_jsx(\"h2\",{children:\"Loading...\"})})});}// 2. Render the app\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[needsReauth&&/*#__PURE__*/_jsx(ReauthModal,{}),loggedInUser?/*#__PURE__*/_jsx(Layout,{}):/*#__PURE__*/_jsx(AuthPage,{})]});}export default App;","map":{"version":3,"names":["React","useEffect","useAuth","Layout","AuthPage","ReauthModal","jsx","_jsx","jsxs","_jsxs","App","loggedInUser","isLoading","needsReauth","handleUnload","window","addEventListener","removeEventListener","className","children"],"sources":["/Users/dbroxton/Documents/Projects/soccer-management-app/src/App.js"],"sourcesContent":["import React, { useEffect } from 'react';\nimport './App.css';\n// NEW: Import our custom hook\nimport { useAuth } from './context/AuthContext';\n\n// NEW: Import our new components\nimport Layout from './components/Layout';\nimport AuthPage from './components/AuthPage';\nimport ReauthModal from './components/ReauthModal';\n\n/**\n * This is our new App component.\n * It's now a simple \"router\" that only decides which\n * high-level page to show.\n */\nfunction App() {\n  // Get all the global state from our \"brain\" (AuthContext)\n  const { loggedInUser, isLoading, needsReauth } = useAuth();\n\nuseEffect(() => {\n  const handleUnload = () => {\n    // This doesn't delete the app, but it can serve as a \n    // placeholder to forcefully detach listeners if needed.\n    // In modern Firebase SDKs, simply letting the page unload\n    // is usually sufficient, despite the console error.\n  };\n  \n  window.addEventListener('beforeunload', handleUnload);\n  \n  return () => {\n    window.removeEventListener('beforeunload', handleUnload);\n  };\n}, []);\n\n  // 1. Show a loading screen while we check for a user\n  if (isLoading) {\n    return (\n      <div className=\"App\">\n        <header className=\"App-header\">\n          <h2>Loading...</h2>\n        </header>\n      </div>\n    );\n  }\n\n  // 2. Render the app\n  return (\n    <div className=\"App\">\n      {/* This is a global modal. If `needsReauth` ever\n        becomes true, this modal will appear on top of everything.\n      */}\n      {needsReauth && <ReauthModal />}\n\n      {/*\n        This is our main routing logic:\n        - If `loggedInUser` exists, show the main <Layout />.\n        - Otherwise, show the <AuthPage />.\n      */}\n      {loggedInUser ? <Layout /> : <AuthPage />}\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,KAAQ,OAAO,CACxC,MAAO,WAAW,CAClB;AACA,OAASC,OAAO,KAAQ,uBAAuB,CAE/C;AACA,MAAO,CAAAC,MAAM,KAAM,qBAAqB,CACxC,MAAO,CAAAC,QAAQ,KAAM,uBAAuB,CAC5C,MAAO,CAAAC,WAAW,KAAM,0BAA0B,CAElD;AACA;AACA;AACA;AACA,GAJA,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAKA,QAAS,CAAAC,GAAGA,CAAA,CAAG,CACb;AACA,KAAM,CAAEC,YAAY,CAAEC,SAAS,CAAEC,WAAY,CAAC,CAAGX,OAAO,CAAC,CAAC,CAE5DD,SAAS,CAAC,IAAM,CACd,KAAM,CAAAa,YAAY,CAAGA,CAAA,GAAM,CACzB;AACA;AACA;AACA;AAAA,CACD,CAEDC,MAAM,CAACC,gBAAgB,CAAC,cAAc,CAAEF,YAAY,CAAC,CAErD,MAAO,IAAM,CACXC,MAAM,CAACE,mBAAmB,CAAC,cAAc,CAAEH,YAAY,CAAC,CAC1D,CAAC,CACH,CAAC,CAAE,EAAE,CAAC,CAEJ;AACA,GAAIF,SAAS,CAAE,CACb,mBACEL,IAAA,QAAKW,SAAS,CAAC,KAAK,CAAAC,QAAA,cAClBZ,IAAA,WAAQW,SAAS,CAAC,YAAY,CAAAC,QAAA,cAC5BZ,IAAA,OAAAY,QAAA,CAAI,YAAU,CAAI,CAAC,CACb,CAAC,CACN,CAAC,CAEV,CAEA;AACA,mBACEV,KAAA,QAAKS,SAAS,CAAC,KAAK,CAAAC,QAAA,EAIjBN,WAAW,eAAIN,IAAA,CAACF,WAAW,GAAE,CAAC,CAO9BM,YAAY,cAAGJ,IAAA,CAACJ,MAAM,GAAE,CAAC,cAAGI,IAAA,CAACH,QAAQ,GAAE,CAAC,EACtC,CAAC,CAEV,CAEA,cAAe,CAAAM,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}