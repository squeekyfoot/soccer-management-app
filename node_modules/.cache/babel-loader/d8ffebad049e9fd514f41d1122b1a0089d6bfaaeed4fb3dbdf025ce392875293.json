{"ast":null,"code":"import _objectSpread from\"/Users/dbroxton/Documents/Projects/soccer-management-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useRef}from'react';import{useAuth}from'../context/AuthContext';import{collection,query,orderBy,onSnapshot,limit,where,getDocs}from\"firebase/firestore\";import{db}from\"../firebase\";// --- INTERNAL COMPONENT: User Search & Select (Unchanged) ---\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function UserSearch(_ref){let{onSelectionChange}=_ref;const[allUsers,setAllUsers]=useState([]);const[searchTerm,setSearchTerm]=useState(\"\");const[selectedUsers,setSelectedUsers]=useState([]);const[suggestions,setSuggestions]=useState([]);useEffect(()=>{const fetchAllUsers=async()=>{try{const querySnapshot=await getDocs(collection(db,\"users\"));const users=querySnapshot.docs.map(doc=>_objectSpread({uid:doc.id},doc.data()));setAllUsers(users);}catch(error){console.error(\"Error fetching users for search:\",error);}};fetchAllUsers();},[]);useEffect(()=>{if(searchTerm.trim()===\"\"){setSuggestions([]);return;}const lowerTerm=searchTerm.toLowerCase();const filtered=allUsers.filter(user=>user.playerName&&user.playerName.toLowerCase().includes(lowerTerm)||user.email&&user.email.toLowerCase().includes(lowerTerm)).filter(user=>!selectedUsers.find(s=>s.uid===user.uid));setSuggestions(filtered.slice(0,5));},[searchTerm,allUsers,selectedUsers]);const addUser=user=>{const newSelection=[...selectedUsers,user];setSelectedUsers(newSelection);onSelectionChange(newSelection.map(u=>u.email));setSearchTerm(\"\");setSuggestions([]);};const removeUser=userToRemove=>{const newSelection=selectedUsers.filter(u=>u.uid!==userToRemove.uid);setSelectedUsers(newSelection);onSelectionChange(newSelection.map(u=>u.email));};return/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'15px'},children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'5px',color:'white'},children:\"Add People:\"}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',flexWrap:'wrap',gap:'5px',marginBottom:'5px'},children:selectedUsers.map(user=>/*#__PURE__*/_jsxs(\"span\",{style:{backgroundColor:'#0078d4',color:'white',padding:'4px 8px',borderRadius:'15px',fontSize:'12px',display:'flex',alignItems:'center',gap:'5px'},children:[user.playerName||user.email,/*#__PURE__*/_jsx(\"button\",{onClick:()=>removeUser(user),style:{background:'none',border:'none',color:'white',cursor:'pointer',fontWeight:'bold'},children:\"\\u2715\"})]},user.uid))}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value),placeholder:\"Search by name or email...\",style:{width:'100%',padding:'8px',backgroundColor:'#3a3f4a',border:'none',color:'white'}}),suggestions.length>0&&/*#__PURE__*/_jsx(\"div\",{style:{backgroundColor:'#222',border:'1px solid #444',borderRadius:'4px',position:'absolute',width:'80%',zIndex:10,maxHeight:'150px',overflowY:'auto'},children:suggestions.map(user=>/*#__PURE__*/_jsxs(\"div\",{onClick:()=>addUser(user),style:{padding:'8px',borderBottom:'1px solid #333',cursor:'pointer',color:'white'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:'bold'},children:user.playerName}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'12px',color:'#aaa'},children:user.email})]},user.uid))})]});}function TeamChat(){var _selectedChat$partici;// NEW: Import uploadImage\nconst{sendMessage,createChat,hideChat,uploadImage,loggedInUser}=useAuth();const[myChats,setMyChats]=useState([]);const[selectedChat,setSelectedChat]=useState(null);const[messages,setMessages]=useState([]);const[newMessage,setNewMessage]=useState(\"\");// NEW: State for selected file\nconst[selectedFile,setSelectedFile]=useState(null);const fileInputRef=useRef(null);// Ref to trigger hidden file input\nconst[showNewChatModal,setShowNewChatModal]=useState(false);const[selectedEmails,setSelectedEmails]=useState([]);const[newChatName,setNewChatName]=useState(\"\");const messagesEndRef=useRef(null);// 1. REAL-TIME LISTENER FOR CHAT LIST\nuseEffect(()=>{if(!loggedInUser)return;const chatsRef=collection(db,\"chats\");const q=query(chatsRef,where(\"visibleTo\",\"array-contains\",loggedInUser.uid),orderBy(\"lastMessageTime\",\"desc\"));const unsubscribe=onSnapshot(q,snapshot=>{const chats=snapshot.docs.map(doc=>_objectSpread({id:doc.id},doc.data()));setMyChats(chats);if(selectedChat){const stillExists=chats.find(c=>c.id===selectedChat.id);if(!stillExists){setSelectedChat(null);}}},error=>{console.error(\"Error listening to chat list:\",error);});return()=>unsubscribe();},[loggedInUser,selectedChat]);// 2. LISTEN for messages\nuseEffect(()=>{if(!selectedChat)return;const messagesRef=collection(db,\"chats\",selectedChat.id,\"messages\");const q=query(messagesRef,orderBy(\"createdAt\",\"asc\"),limit(50));const unsubscribe=onSnapshot(q,snapshot=>{const msgs=snapshot.docs.map(doc=>_objectSpread({id:doc.id},doc.data()));setMessages(msgs);scrollToBottom();});return()=>unsubscribe();},[selectedChat]);const scrollToBottom=()=>{setTimeout(()=>{var _messagesEndRef$curre;(_messagesEndRef$curre=messagesEndRef.current)===null||_messagesEndRef$curre===void 0?void 0:_messagesEndRef$curre.scrollIntoView({behavior:\"smooth\"});},100);};// NEW: Handle file selection\nconst handleFileChange=e=>{if(e.target.files[0]){setSelectedFile(e.target.files[0]);}};// NEW: Updated Send Logic\nconst handleSend=async e=>{e.preventDefault();if(!newMessage.trim()&&!selectedFile||!selectedChat)return;const text=newMessage;const fileToUpload=selectedFile;// Clear inputs immediately for better UX\nsetNewMessage(\"\");setSelectedFile(null);let imageUrl=null;try{// 1. Upload image if exists\nif(fileToUpload){imageUrl=await uploadImage(fileToUpload,\"chat_images/\".concat(selectedChat.id));}// 2. Send message with text and/or image URL\nawait sendMessage(selectedChat.id,text,selectedChat.participants,imageUrl);}catch(error){console.error(\"Error sending message/image:\",error);alert(\"Failed to send message.\");}};const handleCreateChat=async e=>{e.preventDefault();if(selectedEmails.length===0){alert(\"Please select at least one person.\");return;}const success=await createChat(selectedEmails,newChatName);if(success){setShowNewChatModal(false);setSelectedEmails([]);setNewChatName(\"\");}};const handleDeleteChat=async(e,chat)=>{e.stopPropagation();if(chat.type==='roster'){alert(\"Team Roster chats cannot be deleted.\");return;}if(window.confirm(\"Are you sure you want to hide this conversation? It will reappear if someone sends a new message.\")){await hideChat(chat.id,chat.visibleTo,chat.type);if(selectedChat&&selectedChat.id===chat.id){setSelectedChat(null);}}};return/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',height:'calc(100vh - 100px)',maxWidth:'1000px',border:'1px solid #444',borderRadius:'8px',overflow:'hidden'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{width:'30%',backgroundColor:'#282c34',borderRight:'1px solid #444',display:'flex',flexDirection:'column'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{padding:'15px',borderBottom:'1px solid #444',display:'flex',justifyContent:'space-between',alignItems:'center'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{margin:0},children:\"Messages\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowNewChatModal(true),style:{background:'none',border:'none',color:'#61dafb',fontSize:'24px',cursor:'pointer'},children:\"+\"})]}),/*#__PURE__*/_jsx(\"div\",{style:{overflowY:'auto',flex:1},children:myChats.length===0?/*#__PURE__*/_jsx(\"p\",{style:{padding:'20px',color:'#888',fontSize:'14px',textAlign:'center'},children:\"No conversations yet.\"}):myChats.map(chat=>/*#__PURE__*/_jsxs(\"div\",{onClick:()=>setSelectedChat(chat),style:{padding:'15px',cursor:'pointer',backgroundColor:(selectedChat===null||selectedChat===void 0?void 0:selectedChat.id)===chat.id?'#3a3f4a':'transparent',borderBottom:'1px solid #333',display:'flex',justifyContent:'space-between',alignItems:'center'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{overflow:'hidden',flex:1,marginRight:'10px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:'bold',color:'white'},children:chat.type==='roster'?\"\\u26BD \".concat(chat.name):chat.name||\"Chat\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'12px',color:'#aaa',whiteSpace:'nowrap',overflow:'hidden',textOverflow:'ellipsis'},children:chat.lastMessage})]}),chat.type!=='roster'&&/*#__PURE__*/_jsx(\"button\",{onClick:e=>handleDeleteChat(e,chat),style:{background:'none',border:'none',color:'#666',cursor:'pointer',fontSize:'16px',padding:'5px'},title:\"Hide conversation\",children:\"\\u2715\"})]},chat.id))})]}),/*#__PURE__*/_jsx(\"div\",{style:{flex:1,display:'flex',flexDirection:'column',backgroundColor:'#1c1e22'},children:selectedChat?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{style:{padding:'15px',borderBottom:'1px solid #444',backgroundColor:'#282c34'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{margin:0},children:selectedChat.name}),/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'12px',color:'#888'},children:(_selectedChat$partici=selectedChat.participantDetails)===null||_selectedChat$partici===void 0?void 0:_selectedChat$partici.map(p=>p.name).join(', ')})]}),/*#__PURE__*/_jsxs(\"div\",{style:{flex:1,padding:'20px',overflowY:'auto',display:'flex',flexDirection:'column',gap:'10px'},children:[messages.map(msg=>{const isMe=msg.senderId===loggedInUser.uid;return/*#__PURE__*/_jsxs(\"div\",{style:{alignSelf:isMe?'flex-end':'flex-start',maxWidth:'70%'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'10px',color:'#888',marginBottom:'2px',textAlign:isMe?'right':'left'},children:isMe?'Me':msg.senderName}),/*#__PURE__*/_jsxs(\"div\",{style:{backgroundColor:isMe?'#0078d4':'#3a3f4a',color:'white',padding:'10px 15px',borderRadius:'15px',borderTopRightRadius:isMe?'2px':'15px',borderTopLeftRadius:isMe?'15px':'2px'},children:[msg.imageUrl&&/*#__PURE__*/_jsx(\"img\",{src:msg.imageUrl,alt:\"Attachment\",style:{maxWidth:'100%',maxHeight:'200px',borderRadius:'10px',marginBottom:msg.text?'10px':'0'}}),msg.text&&/*#__PURE__*/_jsx(\"span\",{children:msg.text})]})]},msg.id);}),/*#__PURE__*/_jsx(\"div\",{ref:messagesEndRef})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSend,style:{padding:'15px',backgroundColor:'#282c34',borderTop:'1px solid #444',display:'flex',flexDirection:'column',gap:'10px'},children:[selectedFile&&/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'10px',color:'white',fontSize:'12px',paddingLeft:'10px'},children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"\\uD83D\\uDCCE \",selectedFile.name]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>setSelectedFile(null),style:{background:'none',border:'none',color:'#ff6b6b',cursor:'pointer'},children:\"\\u2715\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'10px'},children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\"image/*\",ref:fileInputRef,onChange:handleFileChange,style:{display:'none'}}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>fileInputRef.current.click(),style:{padding:'0 15px',borderRadius:'20px',border:'1px solid #555',backgroundColor:'#3a3f4a',color:'white',fontSize:'20px',cursor:'pointer'},children:\"\\uD83D\\uDCCE\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Type a message...\",value:newMessage,onChange:e=>setNewMessage(e.target.value),style:{flex:1,padding:'12px',borderRadius:'20px',border:'none',backgroundColor:'#3a3f4a',color:'white'}}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",style:{padding:'10px 20px',borderRadius:'20px',border:'none',backgroundColor:'#61dafb',color:'#000',fontWeight:'bold',cursor:'pointer'},children:\"Send\"})]})]})]}):/*#__PURE__*/_jsx(\"div\",{style:{flex:1,display:'flex',justifyContent:'center',alignItems:'center',color:'#888'},children:\"Select a conversation to start chatting.\"})}),showNewChatModal&&/*#__PURE__*/_jsx(\"div\",{style:{position:'fixed',top:0,left:0,width:'100%',height:'100%',backgroundColor:'rgba(0, 0, 0, 0.7)',display:'flex',justifyContent:'center',alignItems:'center',zIndex:1000},children:/*#__PURE__*/_jsxs(\"div\",{style:{backgroundColor:'#282c34',padding:'30px',borderRadius:'8px',width:'400px',border:'1px solid #61dafb',position:'relative'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{marginTop:0,color:'white'},children:\"Start New Chat\"}),/*#__PURE__*/_jsxs(\"label\",{style:{display:'block',marginBottom:'10px',color:'white'},children:[\"Chat Name (Optional):\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newChatName,onChange:e=>setNewChatName(e.target.value),placeholder:\"e.g. Defenders Group\",style:{width:'100%',padding:'8px',marginTop:'5px',backgroundColor:'#3a3f4a',border:'none',color:'white'}})]}),/*#__PURE__*/_jsx(UserSearch,{onSelectionChange:setSelectedEmails}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'10px',marginTop:'20px'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleCreateChat,style:{flex:1,padding:'10px',backgroundColor:'#61dafb',border:'none',cursor:'pointer',fontWeight:'bold'},children:\"Start Chat\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowNewChatModal(false),style:{flex:1,padding:'10px',backgroundColor:'#555',border:'none',color:'white',cursor:'pointer'},children:\"Cancel\"})]})]})})]});}export default TeamChat;","map":{"version":3,"names":["React","useState","useEffect","useRef","useAuth","collection","query","orderBy","onSnapshot","limit","where","getDocs","db","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","UserSearch","_ref","onSelectionChange","allUsers","setAllUsers","searchTerm","setSearchTerm","selectedUsers","setSelectedUsers","suggestions","setSuggestions","fetchAllUsers","querySnapshot","users","docs","map","doc","_objectSpread","uid","id","data","error","console","trim","lowerTerm","toLowerCase","filtered","filter","user","playerName","includes","email","find","s","slice","addUser","newSelection","u","removeUser","userToRemove","style","marginBottom","children","display","color","flexWrap","gap","backgroundColor","padding","borderRadius","fontSize","alignItems","onClick","background","border","cursor","fontWeight","type","value","onChange","e","target","placeholder","width","length","position","zIndex","maxHeight","overflowY","borderBottom","TeamChat","_selectedChat$partici","sendMessage","createChat","hideChat","uploadImage","loggedInUser","myChats","setMyChats","selectedChat","setSelectedChat","messages","setMessages","newMessage","setNewMessage","selectedFile","setSelectedFile","fileInputRef","showNewChatModal","setShowNewChatModal","selectedEmails","setSelectedEmails","newChatName","setNewChatName","messagesEndRef","chatsRef","q","unsubscribe","snapshot","chats","stillExists","c","messagesRef","msgs","scrollToBottom","setTimeout","_messagesEndRef$curre","current","scrollIntoView","behavior","handleFileChange","files","handleSend","preventDefault","text","fileToUpload","imageUrl","concat","participants","alert","handleCreateChat","success","handleDeleteChat","chat","stopPropagation","window","confirm","visibleTo","height","maxWidth","overflow","borderRight","flexDirection","justifyContent","margin","flex","textAlign","marginRight","name","whiteSpace","textOverflow","lastMessage","title","participantDetails","p","join","msg","isMe","senderId","alignSelf","senderName","borderTopRightRadius","borderTopLeftRadius","src","alt","ref","onSubmit","borderTop","paddingLeft","accept","click","top","left","marginTop"],"sources":["/Users/dbroxton/Documents/Projects/soccer-management-app/src/components/TeamChat.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { useAuth } from '../context/AuthContext';\nimport { collection, query, orderBy, onSnapshot, limit, where, getDocs } from \"firebase/firestore\";\nimport { db } from \"../firebase\";\n\n// --- INTERNAL COMPONENT: User Search & Select (Unchanged) ---\nfunction UserSearch({ onSelectionChange }) {\n  const [allUsers, setAllUsers] = useState([]);\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [selectedUsers, setSelectedUsers] = useState([]);\n  const [suggestions, setSuggestions] = useState([]);\n\n  useEffect(() => {\n    const fetchAllUsers = async () => {\n      try {\n        const querySnapshot = await getDocs(collection(db, \"users\"));\n        const users = querySnapshot.docs.map(doc => ({\n          uid: doc.id,\n          ...doc.data()\n        }));\n        setAllUsers(users);\n      } catch (error) {\n        console.error(\"Error fetching users for search:\", error);\n      }\n    };\n    fetchAllUsers();\n  }, []);\n\n  useEffect(() => {\n    if (searchTerm.trim() === \"\") {\n      setSuggestions([]);\n      return;\n    }\n    const lowerTerm = searchTerm.toLowerCase();\n    const filtered = allUsers.filter(user => \n      (user.playerName && user.playerName.toLowerCase().includes(lowerTerm)) ||\n      (user.email && user.email.toLowerCase().includes(lowerTerm))\n    ).filter(user => \n      !selectedUsers.find(s => s.uid === user.uid)\n    );\n    setSuggestions(filtered.slice(0, 5));\n  }, [searchTerm, allUsers, selectedUsers]);\n\n  const addUser = (user) => {\n    const newSelection = [...selectedUsers, user];\n    setSelectedUsers(newSelection);\n    onSelectionChange(newSelection.map(u => u.email));\n    setSearchTerm(\"\");\n    setSuggestions([]);\n  };\n\n  const removeUser = (userToRemove) => {\n    const newSelection = selectedUsers.filter(u => u.uid !== userToRemove.uid);\n    setSelectedUsers(newSelection);\n    onSelectionChange(newSelection.map(u => u.email));\n  };\n\n  return (\n    <div style={{ marginBottom: '15px' }}>\n      <label style={{ display: 'block', marginBottom: '5px', color: 'white' }}>Add People:</label>\n      <div style={{ display: 'flex', flexWrap: 'wrap', gap: '5px', marginBottom: '5px' }}>\n        {selectedUsers.map(user => (\n          <span key={user.uid} style={{\n            backgroundColor: '#0078d4', color: 'white', padding: '4px 8px',\n            borderRadius: '15px', fontSize: '12px', display: 'flex', alignItems: 'center', gap: '5px'\n          }}>\n            {user.playerName || user.email}\n            <button onClick={() => removeUser(user)} style={{ background: 'none', border: 'none', color: 'white', cursor: 'pointer', fontWeight: 'bold' }}>âœ•</button>\n          </span>\n        ))}\n      </div>\n      <input \n        type=\"text\" \n        value={searchTerm}\n        onChange={(e) => setSearchTerm(e.target.value)}\n        placeholder=\"Search by name or email...\"\n        style={{ width: '100%', padding: '8px', backgroundColor: '#3a3f4a', border: 'none', color: 'white' }}\n      />\n      {suggestions.length > 0 && (\n        <div style={{\n          backgroundColor: '#222', border: '1px solid #444', borderRadius: '4px',\n          position: 'absolute', width: '80%', zIndex: 10, maxHeight: '150px', overflowY: 'auto'\n        }}>\n          {suggestions.map(user => (\n            <div key={user.uid} onClick={() => addUser(user)} style={{ padding: '8px', borderBottom: '1px solid #333', cursor: 'pointer', color: 'white' }}>\n              <div style={{ fontWeight: 'bold' }}>{user.playerName}</div>\n              <div style={{ fontSize: '12px', color: '#aaa' }}>{user.email}</div>\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n}\n\n\nfunction TeamChat() {\n  // NEW: Import uploadImage\n  const { sendMessage, createChat, hideChat, uploadImage, loggedInUser } = useAuth();\n  \n  const [myChats, setMyChats] = useState([]);\n  const [selectedChat, setSelectedChat] = useState(null);\n  const [messages, setMessages] = useState([]);\n  const [newMessage, setNewMessage] = useState(\"\");\n  \n  // NEW: State for selected file\n  const [selectedFile, setSelectedFile] = useState(null);\n  const fileInputRef = useRef(null); // Ref to trigger hidden file input\n  \n  const [showNewChatModal, setShowNewChatModal] = useState(false);\n  const [selectedEmails, setSelectedEmails] = useState([]); \n  const [newChatName, setNewChatName] = useState(\"\");\n\n  const messagesEndRef = useRef(null);\n\n  // 1. REAL-TIME LISTENER FOR CHAT LIST\n  useEffect(() => {\n    if (!loggedInUser) return;\n\n    const chatsRef = collection(db, \"chats\");\n    const q = query(\n      chatsRef, \n      where(\"visibleTo\", \"array-contains\", loggedInUser.uid), \n      orderBy(\"lastMessageTime\", \"desc\")\n    );\n\n    const unsubscribe = onSnapshot(q, (snapshot) => {\n      const chats = snapshot.docs.map(doc => ({\n        id: doc.id,\n        ...doc.data()\n      }));\n      setMyChats(chats);\n      \n      if (selectedChat) {\n        const stillExists = chats.find(c => c.id === selectedChat.id);\n        if (!stillExists) {\n          setSelectedChat(null);\n        }\n      }\n    }, (error) => {\n      console.error(\"Error listening to chat list:\", error);\n    });\n\n    return () => unsubscribe();\n  }, [loggedInUser, selectedChat]);\n\n\n  // 2. LISTEN for messages\n  useEffect(() => {\n    if (!selectedChat) return;\n\n    const messagesRef = collection(db, \"chats\", selectedChat.id, \"messages\");\n    const q = query(messagesRef, orderBy(\"createdAt\", \"asc\"), limit(50));\n\n    const unsubscribe = onSnapshot(q, (snapshot) => {\n      const msgs = snapshot.docs.map(doc => ({\n        id: doc.id,\n        ...doc.data()\n      }));\n      setMessages(msgs);\n      scrollToBottom();\n    });\n\n    return () => unsubscribe();\n  }, [selectedChat]);\n\n  const scrollToBottom = () => {\n    setTimeout(() => {\n      messagesEndRef.current?.scrollIntoView({ behavior: \"smooth\" });\n    }, 100);\n  };\n\n  // NEW: Handle file selection\n  const handleFileChange = (e) => {\n    if (e.target.files[0]) {\n      setSelectedFile(e.target.files[0]);\n    }\n  };\n\n  // NEW: Updated Send Logic\n  const handleSend = async (e) => {\n    e.preventDefault();\n    if ((!newMessage.trim() && !selectedFile) || !selectedChat) return;\n\n    const text = newMessage;\n    const fileToUpload = selectedFile;\n\n    // Clear inputs immediately for better UX\n    setNewMessage(\"\"); \n    setSelectedFile(null); \n    \n    let imageUrl = null;\n\n    try {\n      // 1. Upload image if exists\n      if (fileToUpload) {\n        imageUrl = await uploadImage(fileToUpload, `chat_images/${selectedChat.id}`);\n      }\n\n      // 2. Send message with text and/or image URL\n      await sendMessage(selectedChat.id, text, selectedChat.participants, imageUrl);\n\n    } catch (error) {\n      console.error(\"Error sending message/image:\", error);\n      alert(\"Failed to send message.\");\n    }\n  };\n\n  const handleCreateChat = async (e) => {\n    e.preventDefault();\n    if (selectedEmails.length === 0) {\n      alert(\"Please select at least one person.\");\n      return;\n    }\n    const success = await createChat(selectedEmails, newChatName);\n    if (success) {\n      setShowNewChatModal(false);\n      setSelectedEmails([]);\n      setNewChatName(\"\");\n    }\n  };\n\n  const handleDeleteChat = async (e, chat) => {\n    e.stopPropagation(); \n    if (chat.type === 'roster') {\n      alert(\"Team Roster chats cannot be deleted.\");\n      return;\n    }\n    if (window.confirm(\"Are you sure you want to hide this conversation? It will reappear if someone sends a new message.\")) {\n      await hideChat(chat.id, chat.visibleTo, chat.type);\n      if (selectedChat && selectedChat.id === chat.id) {\n        setSelectedChat(null);\n      }\n    }\n  };\n\n  return (\n    <div style={{ display: 'flex', height: 'calc(100vh - 100px)', maxWidth: '1000px', border: '1px solid #444', borderRadius: '8px', overflow: 'hidden' }}>\n      \n      {/* --- LEFT SIDE: Chat List --- */}\n      <div style={{ width: '30%', backgroundColor: '#282c34', borderRight: '1px solid #444', display: 'flex', flexDirection: 'column' }}>\n        <div style={{ padding: '15px', borderBottom: '1px solid #444', display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n          <h3 style={{ margin: 0 }}>Messages</h3>\n          <button \n            onClick={() => setShowNewChatModal(true)}\n            style={{ background: 'none', border: 'none', color: '#61dafb', fontSize: '24px', cursor: 'pointer' }}\n          >\n            +\n          </button>\n        </div>\n        \n        <div style={{ overflowY: 'auto', flex: 1 }}>\n          {myChats.length === 0 ? (\n            <p style={{ padding: '20px', color: '#888', fontSize: '14px', textAlign: 'center' }}>No conversations yet.</p>\n          ) : (\n            myChats.map(chat => (\n              <div \n                key={chat.id} \n                onClick={() => setSelectedChat(chat)}\n                style={{ \n                  padding: '15px', \n                  cursor: 'pointer', \n                  backgroundColor: selectedChat?.id === chat.id ? '#3a3f4a' : 'transparent',\n                  borderBottom: '1px solid #333',\n                  display: 'flex', justifyContent: 'space-between', alignItems: 'center'\n                }}\n              >\n                <div style={{ overflow: 'hidden', flex: 1, marginRight: '10px' }}>\n                  <div style={{ fontWeight: 'bold', color: 'white' }}>\n                    {chat.type === 'roster' ? `âš½ ${chat.name}` : chat.name || \"Chat\"}\n                  </div>\n                  <div style={{ fontSize: '12px', color: '#aaa', whiteSpace: 'nowrap', overflow: 'hidden', textOverflow: 'ellipsis' }}>\n                    {chat.lastMessage}\n                  </div>\n                </div>\n                \n                {chat.type !== 'roster' && (\n                  <button \n                    onClick={(e) => handleDeleteChat(e, chat)}\n                    style={{ background: 'none', border: 'none', color: '#666', cursor: 'pointer', fontSize: '16px', padding: '5px' }}\n                    title=\"Hide conversation\"\n                  >\n                    âœ•\n                  </button>\n                )}\n              </div>\n            ))\n          )}\n        </div>\n      </div>\n\n      {/* --- RIGHT SIDE: Chat Window --- */}\n      <div style={{ flex: 1, display: 'flex', flexDirection: 'column', backgroundColor: '#1c1e22' }}>\n        {selectedChat ? (\n          <>\n            <div style={{ padding: '15px', borderBottom: '1px solid #444', backgroundColor: '#282c34' }}>\n              <h3 style={{ margin: 0 }}>{selectedChat.name}</h3>\n              <span style={{ fontSize: '12px', color: '#888' }}>\n                {selectedChat.participantDetails?.map(p => p.name).join(', ')}\n              </span>\n            </div>\n\n            <div style={{ flex: 1, padding: '20px', overflowY: 'auto', display: 'flex', flexDirection: 'column', gap: '10px' }}>\n              {messages.map(msg => {\n                const isMe = msg.senderId === loggedInUser.uid;\n                return (\n                  <div key={msg.id} style={{\n                    alignSelf: isMe ? 'flex-end' : 'flex-start',\n                    maxWidth: '70%',\n                  }}>\n                    <div style={{ fontSize: '10px', color: '#888', marginBottom: '2px', textAlign: isMe ? 'right' : 'left' }}>\n                      {isMe ? 'Me' : msg.senderName}\n                    </div>\n                    <div style={{\n                      backgroundColor: isMe ? '#0078d4' : '#3a3f4a',\n                      color: 'white',\n                      padding: '10px 15px',\n                      borderRadius: '15px',\n                      borderTopRightRadius: isMe ? '2px' : '15px',\n                      borderTopLeftRadius: isMe ? '15px' : '2px'\n                    }}>\n                      {/* NEW: Display Image if available */}\n                      {msg.imageUrl && (\n                        <img \n                          src={msg.imageUrl} \n                          alt=\"Attachment\" \n                          style={{ maxWidth: '100%', maxHeight: '200px', borderRadius: '10px', marginBottom: msg.text ? '10px' : '0' }}\n                        />\n                      )}\n                      {msg.text && <span>{msg.text}</span>}\n                    </div>\n                  </div>\n                );\n              })}\n              <div ref={messagesEndRef} />\n            </div>\n\n            {/* NEW: Updated Input Area with File Picker */}\n            <form onSubmit={handleSend} style={{ padding: '15px', backgroundColor: '#282c34', borderTop: '1px solid #444', display: 'flex', flexDirection: 'column', gap: '10px' }}>\n              \n              {/* File Preview */}\n              {selectedFile && (\n                <div style={{ display: 'flex', alignItems: 'center', gap: '10px', color: 'white', fontSize: '12px', paddingLeft: '10px' }}>\n                  <span>ðŸ“Ž {selectedFile.name}</span>\n                  <button type=\"button\" onClick={() => setSelectedFile(null)} style={{ background: 'none', border: 'none', color: '#ff6b6b', cursor: 'pointer' }}>âœ•</button>\n                </div>\n              )}\n\n              <div style={{ display: 'flex', gap: '10px' }}>\n                {/* Hidden Input */}\n                <input \n                  type=\"file\" \n                  accept=\"image/*\"\n                  ref={fileInputRef}\n                  onChange={handleFileChange}\n                  style={{ display: 'none' }}\n                />\n                \n                {/* Paperclip Button */}\n                <button \n                  type=\"button\"\n                  onClick={() => fileInputRef.current.click()}\n                  style={{ \n                    padding: '0 15px', borderRadius: '20px', border: '1px solid #555', \n                    backgroundColor: '#3a3f4a', color: 'white', fontSize: '20px', cursor: 'pointer'\n                  }}\n                >\n                  ðŸ“Ž\n                </button>\n\n                <input \n                  type=\"text\" \n                  placeholder=\"Type a message...\" \n                  value={newMessage}\n                  onChange={(e) => setNewMessage(e.target.value)}\n                  style={{ flex: 1, padding: '12px', borderRadius: '20px', border: 'none', backgroundColor: '#3a3f4a', color: 'white' }}\n                />\n                <button type=\"submit\" style={{ \n                  padding: '10px 20px', borderRadius: '20px', border: 'none', \n                  backgroundColor: '#61dafb', color: '#000', fontWeight: 'bold', cursor: 'pointer'\n                }}>\n                  Send\n                </button>\n              </div>\n            </form>\n          </>\n        ) : (\n          <div style={{ flex: 1, display: 'flex', justifyContent: 'center', alignItems: 'center', color: '#888' }}>\n            Select a conversation to start chatting.\n          </div>\n        )}\n      </div>\n\n      {/* --- NEW CHAT MODAL (Unchanged) --- */}\n      {showNewChatModal && (\n        <div style={{\n          position: 'fixed', top: 0, left: 0, width: '100%', height: '100%',\n          backgroundColor: 'rgba(0, 0, 0, 0.7)',\n          display: 'flex', justifyContent: 'center', alignItems: 'center', zIndex: 1000\n        }}>\n          <div style={{ backgroundColor: '#282c34', padding: '30px', borderRadius: '8px', width: '400px', border: '1px solid #61dafb', position: 'relative' }}>\n            <h3 style={{ marginTop: 0, color: 'white' }}>Start New Chat</h3>\n            <label style={{ display: 'block', marginBottom: '10px', color: 'white' }}>\n              Chat Name (Optional):\n              <input \n                type=\"text\" \n                value={newChatName}\n                onChange={(e) => setNewChatName(e.target.value)}\n                placeholder=\"e.g. Defenders Group\"\n                style={{ width: '100%', padding: '8px', marginTop: '5px', backgroundColor: '#3a3f4a', border: 'none', color: 'white' }}\n              />\n            </label>\n            <UserSearch onSelectionChange={setSelectedEmails} />\n            <div style={{ display: 'flex', gap: '10px', marginTop: '20px' }}>\n              <button onClick={handleCreateChat} style={{ flex: 1, padding: '10px', backgroundColor: '#61dafb', border: 'none', cursor: 'pointer', fontWeight: 'bold' }}>\n                Start Chat\n              </button>\n              <button onClick={() => setShowNewChatModal(false)} style={{ flex: 1, padding: '10px', backgroundColor: '#555', border: 'none', color: 'white', cursor: 'pointer' }}>\n                Cancel\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default TeamChat;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}