{"ast":null,"code":"import _objectSpread from\"/Users/dbroxton/Documents/Projects/soccer-management-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useRef,useCallback,useMemo}from'react';import{useAuth}from'../../../context/AuthContext';import{useChat}from'../../../context/ChatContext';import{collection,query,orderBy,onSnapshot,limitToLast,where}from\"firebase/firestore\";import{db}from\"../../../lib/firebase\";import{COLORS,MOBILE_BREAKPOINT}from'../../../lib/constants';import{compressImage}from'../../../utils/imageUtils';import{SquarePen}from'lucide-react';// UPDATED IMPORTS\nimport UserSearch from'../../shared/UserSearch';import Header from'../../common/Header';import Button from'../../common/Button';// Sub-components are now in the local ./components folder\nimport ChatList from'./components/ChatList';import ImageViewer from'./components/ImageViewer';import ChatHeader from'./components/ChatHeader';import MessageList from'./components/MessageList';import MessageInput from'./components/MessageInput';import ChatDetailsModal from'./components/ChatDetailsModal';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function TeamChat(){const{uploadImage,loggedInUser}=useAuth();const{sendMessage,createChat,hideChat,leaveChat,renameChat,updateGroupPhoto,addParticipant,myChats,markChatAsRead}=useChat();const[selectedChat,setSelectedChat]=useState(null);const[messages,setMessages]=useState([]);const[newMessage,setNewMessage]=useState(\"\");const[selectedFile,setSelectedFile]=useState(null);const fileInputRef=useRef(null);const[isCreatingChat,setIsCreatingChat]=useState(false);const[selectedEmails,setSelectedEmails]=useState([]);const[newChatName,setNewChatName]=useState(\"\");const[viewingImage,setViewingImage]=useState(null);const[showChatDetails,setShowChatDetails]=useState(false);const[userProfiles,setUserProfiles]=useState({});const[isMobile,setIsMobile]=useState(window.innerWidth<MOBILE_BREAKPOINT);useEffect(()=>{const handleResize=()=>{setIsMobile(window.innerWidth<MOBILE_BREAKPOINT);};window.addEventListener('resize',handleResize);return()=>window.removeEventListener('resize',handleResize);},[]);useEffect(()=>{if(selectedChat){const freshChatData=myChats.find(c=>c.id===selectedChat.id);if(freshChatData&&JSON.stringify(freshChatData)!==JSON.stringify(selectedChat)){setSelectedChat(freshChatData);}}},[myChats,selectedChat]);// OPTIMIZATION: Memoize this calculation so it doesn't run on every render (e.g. typing)\nconst totalUnread=useMemo(()=>{return myChats.reduce((acc,chat)=>{const count=chat.unreadCounts&&chat.unreadCounts[loggedInUser.uid]||0;return acc+count;},0);},[myChats,loggedInUser.uid]);useEffect(()=>{const usersRef=collection(db,\"users\");const unsubscribe=onSnapshot(usersRef,snapshot=>{const profiles={};snapshot.docs.forEach(doc=>profiles[doc.id]=doc.data());setUserProfiles(profiles);});return()=>unsubscribe();},[]);useEffect(()=>{if(!selectedChat||isCreatingChat){setMessages(prev=>prev.length>0?[]:prev);return;}markChatAsRead(selectedChat.id);const messagesRef=collection(db,\"chats\",selectedChat.id,\"messages\");let qConstraints=[orderBy(\"createdAt\",\"asc\"),limitToLast(50)];if(selectedChat.hiddenHistory&&selectedChat.hiddenHistory[loggedInUser.uid]){const cutoffTimestamp=selectedChat.hiddenHistory[loggedInUser.uid];qConstraints.push(where(\"createdAt\",\">=\",cutoffTimestamp));}const q=query(messagesRef,...qConstraints);const unsubscribe=onSnapshot(q,snapshot=>{const msgs=snapshot.docs.map(doc=>_objectSpread({id:doc.id},doc.data()));setMessages(msgs);markChatAsRead(selectedChat.id);});return()=>unsubscribe();},[selectedChat,isCreatingChat,loggedInUser.uid,markChatAsRead]);const handleFileChange=e=>{if(e.target.files[0])setSelectedFile(e.target.files[0]);if(fileInputRef.current)fileInputRef.current.value=\"\";};const startNewChat=useCallback(()=>{setIsCreatingChat(true);setSelectedChat(null);setMessages([]);setNewChatName(\"\");setSelectedEmails([]);setNewMessage(\"\");setSelectedFile(null);},[]);const handleSelectChat=useCallback(chat=>{setMessages([]);setSelectedChat(chat);setIsCreatingChat(false);},[]);const handleBackToList=()=>{setSelectedChat(null);setIsCreatingChat(false);};const handleRenameGroup=async()=>{if(!selectedChat)return;const newName=window.prompt(\"Enter new group name:\",selectedChat.name);if(newName&&newName.trim()!==\"\")await renameChat(selectedChat.id,newName.trim());};const handleAddMember=async(email,includeHistory)=>{if(!selectedChat)return;await addParticipant(selectedChat.id,email,includeHistory);};const handleGroupPhotoChange=async file=>{if(!selectedChat||!file)return;const isGroup=selectedChat.type==='group'||selectedChat.participants.length>2&&selectedChat.type!=='roster';if(isGroup){try{const compressedFile=await compressImage(file,300,0.8);const imageUrl=await uploadImage(compressedFile,\"chat_avatars/\".concat(selectedChat.id,\"/\").concat(Date.now()));if(imageUrl)await updateGroupPhoto(selectedChat.id,imageUrl);}catch(error){console.error(\"Failed to compress or upload group photo\",error);alert(\"Failed to update photo. Please try again.\");}}};const handleDeleteChat=useCallback(async chat=>{if(chat.type==='roster'){alert(\"Team Roster chats cannot be deleted.\");return;}const isGroup=chat.type==='group'||chat.participants.length>2&&chat.type!=='roster';if(isGroup){if(window.confirm(\"Are you sure you want to leave this group?\")){await leaveChat(chat.id);setSelectedChat(null);setShowChatDetails(false);}}else{if(window.confirm(\"Are you sure you want to delete this chat history?\")){await hideChat(chat.id,chat.visibleTo);setSelectedChat(null);setShowChatDetails(false);}}},[leaveChat,hideChat]);const handleSend=async e=>{e.preventDefault();if(isCreatingChat){if(selectedEmails.length===0){alert(\"Please add at least one person to the chat.\");return;}const chatResult=await createChat(selectedEmails,newChatName);if(chatResult&&chatResult.id){const newChatId=chatResult.id;const participants=chatResult.participants;const text=newMessage;let fileToUpload=selectedFile;setNewMessage(\"\");setSelectedFile(null);let imageUrl=null;if(fileToUpload)imageUrl=await uploadImage(fileToUpload,\"chat_images/\".concat(newChatId));if(text||imageUrl)await sendMessage(newChatId,text,participants,imageUrl);const optimisticChat={id:newChatId,name:chatResult.name||newChatName||\"New Chat\",type:selectedEmails.length>0?'group':'dm',participants:participants,participantDetails:chatResult.participantDetails||[]};setSelectedChat(optimisticChat);setIsCreatingChat(false);setNewChatName(\"\");setSelectedEmails([]);}}else{if(!newMessage.trim()&&!selectedFile||!selectedChat)return;const text=newMessage;let fileToUpload=selectedFile;setNewMessage(\"\");setSelectedFile(null);let imageUrl=null;try{if(fileToUpload)imageUrl=await uploadImage(fileToUpload,\"chat_images/\".concat(selectedChat.id));await sendMessage(selectedChat.id,text,selectedChat.participants,imageUrl);}catch(error){console.error(\"Error sending message/image:\",error);alert(\"Failed to send message.\");}}};const canSend=isCreatingChat?selectedEmails.length>0:true;const showList=!isMobile||!selectedChat&&!isCreatingChat;const showChat=!isMobile||selectedChat||isCreatingChat;const showHeader=!isMobile||showList;return/*#__PURE__*/_jsxs(\"div\",{className:\"view-container\",children:[showHeader&&/*#__PURE__*/_jsx(Header,{title:\"Messaging\",actions:/*#__PURE__*/_jsx(Button,{onClick:startNewChat,style:{padding:0,width:'32px',height:'32px',display:'flex',alignItems:'center',justifyContent:'center',borderRadius:'50%'},children:/*#__PURE__*/_jsx(SquarePen,{size:18})}),style:{maxWidth:'1000px',margin:'0 auto'}}),/*#__PURE__*/_jsx(\"div\",{style:{flex:1,overflow:'hidden',// Hide main scrollbar\npadding:isMobile?'15px 20px 20px 20px':'20px 40px 40px 40px',display:'flex',flexDirection:'column',maxWidth:'1000px',margin:'0 auto',width:'100%',boxSizing:'border-box'},children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flex:1,width:'100%',backgroundColor:COLORS.background,borderRadius:isMobile?'0':'8px',overflow:'hidden',border:isMobile?'none':\"1px solid \".concat(COLORS.border),minHeight:0},children:[showList&&/*#__PURE__*/_jsx(ChatList,{myChats:myChats,selectedChat:selectedChat,onSelectChat:handleSelectChat,onDeleteChat:handleDeleteChat,userProfiles:userProfiles,isMobile:isMobile}),showChat&&/*#__PURE__*/_jsxs(\"div\",{style:{flex:1,display:'flex',flexDirection:'column',backgroundColor:COLORS.sidebar,minWidth:0,height:'100%'},children:[isCreatingChat?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{style:{padding:'15px',borderBottom:\"1px solid \".concat(COLORS.border),backgroundColor:COLORS.background,display:'flex',alignItems:'center'},children:[isMobile&&/*#__PURE__*/_jsx(\"button\",{onClick:handleBackToList,style:{background:'none',border:'none',color:COLORS.primary,fontSize:'24px',marginRight:'10px',cursor:'pointer'},children:\"\\u2039\"}),/*#__PURE__*/_jsx(\"h3\",{style:{margin:0,color:'white'},children:\"New Message\"})]}),/*#__PURE__*/_jsx(\"div\",{style:{padding:'20px'},children:/*#__PURE__*/_jsx(UserSearch,{onSelectionChange:setSelectedEmails})}),/*#__PURE__*/_jsx(\"div\",{style:{flex:1}})]}):selectedChat?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(ChatHeader,{selectedChat:selectedChat,userProfiles:userProfiles,loggedInUser:loggedInUser,onShowDetails:()=>setShowChatDetails(true),onBack:isMobile?handleBackToList:null,totalUnreadCount:totalUnread}),/*#__PURE__*/_jsx(MessageList,{messages:messages,loggedInUser:loggedInUser,onImageClick:setViewingImage,selectedChatId:selectedChat.id})]}):/*#__PURE__*/_jsx(\"div\",{style:{flex:1,display:'flex',justifyContent:'center',alignItems:'center',color:'#888'},children:\"Select a conversation or start a new one.\"}),(isCreatingChat||selectedChat)&&/*#__PURE__*/_jsx(MessageInput,{messageText:newMessage,onMessageChange:setNewMessage,onSend:handleSend,selectedFile:selectedFile,onFileChange:handleFileChange,onRemoveFile:()=>setSelectedFile(null),fileInputRef:fileInputRef,canSend:canSend})]}),/*#__PURE__*/_jsx(ImageViewer,{imageUrl:viewingImage,onClose:()=>setViewingImage(null)}),showChatDetails&&/*#__PURE__*/_jsx(ChatDetailsModal,{chat:selectedChat,onClose:()=>setShowChatDetails(false),onRename:handleRenameGroup,onDelete:handleDeleteChat,onUpdatePhoto:handleGroupPhotoChange,onAddMember:handleAddMember,userProfiles:userProfiles,loggedInUser:loggedInUser})]})})]});}export default TeamChat;","map":{"version":3,"names":["React","useState","useEffect","useRef","useCallback","useMemo","useAuth","useChat","collection","query","orderBy","onSnapshot","limitToLast","where","db","COLORS","MOBILE_BREAKPOINT","compressImage","SquarePen","UserSearch","Header","Button","ChatList","ImageViewer","ChatHeader","MessageList","MessageInput","ChatDetailsModal","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","TeamChat","uploadImage","loggedInUser","sendMessage","createChat","hideChat","leaveChat","renameChat","updateGroupPhoto","addParticipant","myChats","markChatAsRead","selectedChat","setSelectedChat","messages","setMessages","newMessage","setNewMessage","selectedFile","setSelectedFile","fileInputRef","isCreatingChat","setIsCreatingChat","selectedEmails","setSelectedEmails","newChatName","setNewChatName","viewingImage","setViewingImage","showChatDetails","setShowChatDetails","userProfiles","setUserProfiles","isMobile","setIsMobile","window","innerWidth","handleResize","addEventListener","removeEventListener","freshChatData","find","c","id","JSON","stringify","totalUnread","reduce","acc","chat","count","unreadCounts","uid","usersRef","unsubscribe","snapshot","profiles","docs","forEach","doc","data","prev","length","messagesRef","qConstraints","hiddenHistory","cutoffTimestamp","push","q","msgs","map","_objectSpread","handleFileChange","e","target","files","current","value","startNewChat","handleSelectChat","handleBackToList","handleRenameGroup","newName","prompt","name","trim","handleAddMember","email","includeHistory","handleGroupPhotoChange","file","isGroup","type","participants","compressedFile","imageUrl","concat","Date","now","error","console","alert","handleDeleteChat","confirm","visibleTo","handleSend","preventDefault","chatResult","newChatId","text","fileToUpload","optimisticChat","participantDetails","canSend","showList","showChat","showHeader","className","children","title","actions","onClick","style","padding","width","height","display","alignItems","justifyContent","borderRadius","size","maxWidth","margin","flex","overflow","flexDirection","boxSizing","backgroundColor","background","border","minHeight","onSelectChat","onDeleteChat","sidebar","minWidth","borderBottom","color","primary","fontSize","marginRight","cursor","onSelectionChange","onShowDetails","onBack","totalUnreadCount","onImageClick","selectedChatId","messageText","onMessageChange","onSend","onFileChange","onRemoveFile","onClose","onRename","onDelete","onUpdatePhoto","onAddMember"],"sources":["/Users/dbroxton/Documents/Projects/soccer-management-app/src/components/views/Messaging/TeamChat.js"],"sourcesContent":["import React, { useState, useEffect, useRef, useCallback, useMemo } from 'react';\nimport { useAuth } from '../../../context/AuthContext';\nimport { useChat } from '../../../context/ChatContext'; \nimport { collection, query, orderBy, onSnapshot, limitToLast, where } from \"firebase/firestore\"; \nimport { db } from \"../../../lib/firebase\";\nimport { COLORS, MOBILE_BREAKPOINT } from '../../../lib/constants';\nimport { compressImage } from '../../../utils/imageUtils'; \nimport { SquarePen } from 'lucide-react';\n\n// UPDATED IMPORTS\nimport UserSearch from '../../shared/UserSearch';\nimport Header from '../../common/Header'; \nimport Button from '../../common/Button';\n\n// Sub-components are now in the local ./components folder\nimport ChatList from './components/ChatList';\nimport ImageViewer from './components/ImageViewer';\nimport ChatHeader from './components/ChatHeader';\nimport MessageList from './components/MessageList';\nimport MessageInput from './components/MessageInput';\nimport ChatDetailsModal from './components/ChatDetailsModal'; \n\nfunction TeamChat() {\n  const { uploadImage, loggedInUser } = useAuth();\n  const { \n    sendMessage, createChat, hideChat, leaveChat, renameChat, \n    updateGroupPhoto, addParticipant, myChats, markChatAsRead \n  } = useChat();\n  \n  const [selectedChat, setSelectedChat] = useState(null);\n  const [messages, setMessages] = useState([]);\n  const [newMessage, setNewMessage] = useState(\"\");\n  \n  const [selectedFile, setSelectedFile] = useState(null);\n  const fileInputRef = useRef(null); \n  \n  const [isCreatingChat, setIsCreatingChat] = useState(false);\n  const [selectedEmails, setSelectedEmails] = useState([]); \n  const [newChatName, setNewChatName] = useState(\"\");\n\n  const [viewingImage, setViewingImage] = useState(null);\n  const [showChatDetails, setShowChatDetails] = useState(false); \n  \n  const [userProfiles, setUserProfiles] = useState({});\n  const [isMobile, setIsMobile] = useState(window.innerWidth < MOBILE_BREAKPOINT);\n\n  useEffect(() => {\n    const handleResize = () => {\n      setIsMobile(window.innerWidth < MOBILE_BREAKPOINT);\n    };\n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  }, []);\n\n  useEffect(() => {\n    if (selectedChat) {\n      const freshChatData = myChats.find(c => c.id === selectedChat.id);\n      if (freshChatData && JSON.stringify(freshChatData) !== JSON.stringify(selectedChat)) {\n        setSelectedChat(freshChatData);\n      }\n    }\n  }, [myChats, selectedChat]);\n\n  // OPTIMIZATION: Memoize this calculation so it doesn't run on every render (e.g. typing)\n  const totalUnread = useMemo(() => {\n    return myChats.reduce((acc, chat) => {\n      const count = (chat.unreadCounts && chat.unreadCounts[loggedInUser.uid]) || 0;\n      return acc + count;\n    }, 0);\n  }, [myChats, loggedInUser.uid]);\n\n  useEffect(() => {\n    const usersRef = collection(db, \"users\");\n    const unsubscribe = onSnapshot(usersRef, (snapshot) => {\n      const profiles = {};\n      snapshot.docs.forEach(doc => profiles[doc.id] = doc.data());\n      setUserProfiles(profiles);\n    });\n    return () => unsubscribe();\n  }, []);\n\n  useEffect(() => {\n    if (!selectedChat || isCreatingChat) {\n        setMessages(prev => prev.length > 0 ? [] : prev); \n        return;\n    }\n    \n    markChatAsRead(selectedChat.id);\n    \n    const messagesRef = collection(db, \"chats\", selectedChat.id, \"messages\");\n    let qConstraints = [orderBy(\"createdAt\", \"asc\"), limitToLast(50)];\n    if (selectedChat.hiddenHistory && selectedChat.hiddenHistory[loggedInUser.uid]) {\n         const cutoffTimestamp = selectedChat.hiddenHistory[loggedInUser.uid];\n         qConstraints.push(where(\"createdAt\", \">=\", cutoffTimestamp));\n    }\n    const q = query(messagesRef, ...qConstraints);\n    const unsubscribe = onSnapshot(q, (snapshot) => {\n      const msgs = snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));\n      setMessages(msgs);\n      markChatAsRead(selectedChat.id);\n    });\n    return () => unsubscribe();\n  }, [selectedChat, isCreatingChat, loggedInUser.uid, markChatAsRead]);\n\n  const handleFileChange = (e) => {\n    if (e.target.files[0]) setSelectedFile(e.target.files[0]);\n    if (fileInputRef.current) fileInputRef.current.value = \"\";\n  };\n\n  const startNewChat = useCallback(() => {\n      setIsCreatingChat(true); setSelectedChat(null); setMessages([]); \n      setNewChatName(\"\"); setSelectedEmails([]); setNewMessage(\"\"); setSelectedFile(null);\n  }, []);\n\n  const handleSelectChat = useCallback((chat) => {\n    setMessages([]); setSelectedChat(chat); setIsCreatingChat(false);\n  }, []);\n\n  const handleBackToList = () => {\n    setSelectedChat(null); setIsCreatingChat(false);\n  };\n\n  const handleRenameGroup = async () => {\n    if (!selectedChat) return;\n    const newName = window.prompt(\"Enter new group name:\", selectedChat.name);\n    if (newName && newName.trim() !== \"\") await renameChat(selectedChat.id, newName.trim());\n  };\n\n  const handleAddMember = async (email, includeHistory) => {\n      if(!selectedChat) return;\n      await addParticipant(selectedChat.id, email, includeHistory);\n  };\n\n  const handleGroupPhotoChange = async (file) => {\n    if (!selectedChat || !file) return;\n    const isGroup = selectedChat.type === 'group' || (selectedChat.participants.length > 2 && selectedChat.type !== 'roster');\n    if (isGroup) {\n       try {\n           const compressedFile = await compressImage(file, 300, 0.8);\n           const imageUrl = await uploadImage(compressedFile, `chat_avatars/${selectedChat.id}/${Date.now()}`);\n           if (imageUrl) await updateGroupPhoto(selectedChat.id, imageUrl);\n       } catch (error) {\n           console.error(\"Failed to compress or upload group photo\", error);\n           alert(\"Failed to update photo. Please try again.\");\n       }\n    }\n  };\n\n  const handleDeleteChat = useCallback(async (chat) => {\n    if (chat.type === 'roster') { alert(\"Team Roster chats cannot be deleted.\"); return; }\n    const isGroup = chat.type === 'group' || (chat.participants.length > 2 && chat.type !== 'roster');\n    if (isGroup) {\n       if (window.confirm(\"Are you sure you want to leave this group?\")) {\n          await leaveChat(chat.id); setSelectedChat(null); setShowChatDetails(false);\n       }\n    } else {\n       if (window.confirm(\"Are you sure you want to delete this chat history?\")) {\n           await hideChat(chat.id, chat.visibleTo); setSelectedChat(null); setShowChatDetails(false);\n       }\n    }\n  }, [leaveChat, hideChat]);\n\n  const handleSend = async (e) => {\n    e.preventDefault();\n    if (isCreatingChat) {\n        if (selectedEmails.length === 0) { alert(\"Please add at least one person to the chat.\"); return; }\n        const chatResult = await createChat(selectedEmails, newChatName);\n        if (chatResult && chatResult.id) {\n             const newChatId = chatResult.id;\n             const participants = chatResult.participants;\n             const text = newMessage;\n             let fileToUpload = selectedFile;\n             setNewMessage(\"\"); setSelectedFile(null); \n             let imageUrl = null;\n             if (fileToUpload) imageUrl = await uploadImage(fileToUpload, `chat_images/${newChatId}`);\n             if (text || imageUrl) await sendMessage(newChatId, text, participants, imageUrl);\n\n             const optimisticChat = {\n                 id: newChatId, name: chatResult.name || newChatName || \"New Chat\",\n                 type: selectedEmails.length > 0 ? 'group' : 'dm',\n                 participants: participants, participantDetails: chatResult.participantDetails || [] \n             };\n             setSelectedChat(optimisticChat); setIsCreatingChat(false); setNewChatName(\"\"); setSelectedEmails([]);\n        }\n    } else {\n        if ((!newMessage.trim() && !selectedFile) || !selectedChat) return;\n        const text = newMessage; let fileToUpload = selectedFile;\n        setNewMessage(\"\"); setSelectedFile(null); \n        let imageUrl = null;\n        try {\n            if (fileToUpload) imageUrl = await uploadImage(fileToUpload, `chat_images/${selectedChat.id}`);\n            await sendMessage(selectedChat.id, text, selectedChat.participants, imageUrl);\n        } catch (error) {\n            console.error(\"Error sending message/image:\", error);\n            alert(\"Failed to send message.\");\n        }\n    }\n  };\n\n  const canSend = isCreatingChat ? (selectedEmails.length > 0) : true; \n  const showList = !isMobile || (!selectedChat && !isCreatingChat);\n  const showChat = !isMobile || (selectedChat || isCreatingChat);\n  const showHeader = !isMobile || showList; \n\n  return (\n    <div className=\"view-container\">\n        \n        {showHeader && (\n          <Header \n            title=\"Messaging\" \n            actions={\n              <Button \n                onClick={startNewChat} \n                style={{ \n                    padding: 0, \n                    width: '32px', height: '32px', \n                    display: 'flex', alignItems: 'center', justifyContent: 'center', \n                    borderRadius: '50%' \n                }}\n              >\n                 <SquarePen size={18} />\n              </Button>\n            }\n            style={{ maxWidth: '1000px', margin: '0 auto' }} \n          />\n        )}\n        \n        <div style={{ \n            flex: 1, \n            overflow: 'hidden', // Hide main scrollbar\n            padding: isMobile ? '15px 20px 20px 20px' : '20px 40px 40px 40px',\n            display: 'flex',\n            flexDirection: 'column',\n            maxWidth: '1000px',\n            margin: '0 auto',\n            width: '100%',\n            boxSizing: 'border-box'\n        }}>\n            <div style={{ \n                display: 'flex', flex: 1, width: '100%', \n                backgroundColor: COLORS.background, \n                borderRadius: isMobile ? '0' : '8px', overflow: 'hidden',\n                border: isMobile ? 'none' : `1px solid ${COLORS.border}`,\n                minHeight: 0 \n            }}>\n            \n            {showList && (\n                <ChatList \n                myChats={myChats}\n                selectedChat={selectedChat}\n                onSelectChat={handleSelectChat}\n                onDeleteChat={handleDeleteChat}\n                userProfiles={userProfiles}\n                isMobile={isMobile}\n                />\n            )}\n\n            {showChat && (\n                <div style={{ flex: 1, display: 'flex', flexDirection: 'column', backgroundColor: COLORS.sidebar, minWidth: 0, height: '100%' }}>\n                \n                {isCreatingChat ? (\n                    <>\n                        <div style={{ padding: '15px', borderBottom: `1px solid ${COLORS.border}`, backgroundColor: COLORS.background, display: 'flex', alignItems: 'center' }}>\n                            {isMobile && (\n                                <button onClick={handleBackToList} style={{ background: 'none', border: 'none', color: COLORS.primary, fontSize: '24px', marginRight: '10px', cursor: 'pointer' }}>\n                                â€¹\n                                </button>\n                            )}\n                            <h3 style={{ margin: 0, color: 'white' }}>New Message</h3>\n                        </div>\n                        <div style={{ padding: '20px' }}>\n                            <UserSearch onSelectionChange={setSelectedEmails} />\n                        </div>\n                        <div style={{ flex: 1 }} />\n                    </>\n                ) : selectedChat ? (\n                    <>\n                    <ChatHeader \n                        selectedChat={selectedChat}\n                        userProfiles={userProfiles}\n                        loggedInUser={loggedInUser}\n                        onShowDetails={() => setShowChatDetails(true)}\n                        onBack={isMobile ? handleBackToList : null}\n                        totalUnreadCount={totalUnread}\n                    />\n\n                    <MessageList \n                        messages={messages}\n                        loggedInUser={loggedInUser}\n                        onImageClick={setViewingImage}\n                        selectedChatId={selectedChat.id}\n                    />\n                    </>\n                ) : (\n                    <div style={{ flex: 1, display: 'flex', justifyContent: 'center', alignItems: 'center', color: '#888' }}>\n                        Select a conversation or start a new one.\n                    </div>\n                )}\n\n                {(isCreatingChat || selectedChat) && (\n                    <MessageInput \n                        messageText={newMessage}\n                        onMessageChange={setNewMessage}\n                        onSend={handleSend}\n                        selectedFile={selectedFile}\n                        onFileChange={handleFileChange}\n                        onRemoveFile={() => setSelectedFile(null)}\n                        fileInputRef={fileInputRef}\n                        canSend={canSend}\n                    />\n                )}\n                </div>\n            )}\n\n            <ImageViewer imageUrl={viewingImage} onClose={() => setViewingImage(null)} />\n            \n            {showChatDetails && (\n                <ChatDetailsModal \n                chat={selectedChat} \n                onClose={() => setShowChatDetails(false)}\n                onRename={handleRenameGroup}\n                onDelete={handleDeleteChat}\n                onUpdatePhoto={handleGroupPhotoChange}\n                onAddMember={handleAddMember}\n                userProfiles={userProfiles}\n                loggedInUser={loggedInUser}\n                />\n            )}\n            </div>\n        </div>\n    </div>\n  );\n}\n\nexport default TeamChat;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}