{"ast":null,"code":"import React,{useState,useEffect,useRef}from'react';import{MoreVertical}from'lucide-react';// FIX: Up 4 levels to src\nimport{COLORS}from'../../../../lib/constants';import{useAuth}from'../../../../context/AuthContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ChatListItem=/*#__PURE__*/React.memo(_ref=>{let{chat,isSelected,loggedInUser,userProfiles,onSelect,onMenuOpen}=_ref;const isDM=chat.type==='dm'||chat.participants&&chat.participants.length===2&&chat.type!=='roster';let displayTitle=chat.name||\"Chat\";let iconImage=null;if(chat.type==='roster'){displayTitle=\"\\u26BD \".concat(chat.name);}else if(isDM){var _chat$participantDeta;const otherUser=(_chat$participantDeta=chat.participantDetails)===null||_chat$participantDeta===void 0?void 0:_chat$participantDeta.find(p=>p.uid!==loggedInUser.uid);if(otherUser){const freshUser=userProfiles[otherUser.uid];const otherUserName=otherUser.name||otherUser.playerName||\"Unknown User\";const freshUserName=(freshUser===null||freshUser===void 0?void 0:freshUser.playerName)||(freshUser===null||freshUser===void 0?void 0:freshUser.name);displayTitle=freshUserName||otherUserName;iconImage=freshUser?freshUser.photoURL:otherUser.photoURL;}}else{iconImage=chat.photoURL;}if(!displayTitle)displayTitle=\"Chat\";const firstLetter=displayTitle.replace(/[^a-zA-Z0-9]/g,'').charAt(0).toUpperCase()||\"?\";const unreadCount=chat.unreadCounts&&chat.unreadCounts[loggedInUser.uid]||0;const hasUnread=unreadCount>0;let messagePreview=chat.lastMessage||\"No messages yet\";let timeDisplay=\"\";if(chat.lastMessageTime){const date=chat.lastMessageTime.toDate?chat.lastMessageTime.toDate():new Date(chat.lastMessageTime);const now=new Date();const isToday=date.toDateString()===now.toDateString();timeDisplay=isToday?date.toLocaleTimeString([],{hour:'2-digit',minute:'2-digit'}):date.toLocaleDateString([],{month:'numeric',day:'numeric'});if(chat.hiddenHistory&&chat.hiddenHistory[loggedInUser.uid]){const hiddenTs=chat.hiddenHistory[loggedInUser.uid];const hiddenDate=hiddenTs.toDate?hiddenTs.toDate():new Date(hiddenTs);if(date<hiddenDate){messagePreview=\"No messages yet\";}}}return/*#__PURE__*/_jsxs(\"div\",{onClick:()=>onSelect(chat),style:{width:'100%',height:'90px',cursor:'pointer',backgroundColor:isSelected?'#3a3f4a':'transparent',borderBottom:\"1px solid \".concat(COLORS.border),display:'flex',boxSizing:'border-box',position:'relative'},children:[/*#__PURE__*/_jsx(\"div\",{style:{width:'20%',height:'100%',display:'flex',justifyContent:'center',alignItems:'center'},children:/*#__PURE__*/_jsx(\"div\",{style:{width:'50px',height:'50px',borderRadius:'50%',backgroundColor:'#444',display:'flex',justifyContent:'center',alignItems:'center',border:'1px solid #555',color:'#eee',fontWeight:'bold',fontSize:'20px',overflow:'hidden'},children:iconImage?/*#__PURE__*/_jsx(\"img\",{src:iconImage,alt:\"Chat\",style:{width:'100%',height:'100%',objectFit:'cover'}}):/*#__PURE__*/_jsx(\"span\",{children:firstLetter})})}),/*#__PURE__*/_jsxs(\"div\",{style:{width:'60%',height:'100%',display:'flex',flexDirection:'column'},children:[/*#__PURE__*/_jsx(\"div\",{style:{height:'5%',width:'100%'}}),/*#__PURE__*/_jsxs(\"div\",{style:{height:'40%',display:'flex',alignItems:'center',justifyContent:'center',position:'relative',width:'100%'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:hasUnread?'bold':'600',color:'white',fontSize:'16px',whiteSpace:'nowrap',overflow:'hidden',textOverflow:'ellipsis',textAlign:'center',maxWidth:hasUnread?'calc(100% - 40px)':'100%'},children:displayTitle}),hasUnread&&/*#__PURE__*/_jsx(\"div\",{style:{position:'absolute',right:'0',top:'50%',transform:'translateY(-50%)',backgroundColor:COLORS.primary,color:'#000',borderRadius:'10px',padding:'2px 6px',fontSize:'10px',fontWeight:'bold',whiteSpace:'nowrap'},children:unreadCount>99?'99+':unreadCount})]}),/*#__PURE__*/_jsx(\"div\",{style:{height:'50%',display:'flex',alignItems:'center',justifyContent:'center'},children:/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'13px',color:hasUnread?'#ddd':'#aaa',lineHeight:'1.2em',maxHeight:'2.4em',overflow:'hidden',textAlign:'center',display:'-webkit-box',WebkitLineClamp:2,WebkitBoxOrient:'vertical',wordBreak:'break-word'},children:messagePreview})}),/*#__PURE__*/_jsx(\"div\",{style:{height:'5%',width:'100%'}})]}),/*#__PURE__*/_jsxs(\"div\",{style:{width:'20%',height:'100%',display:'flex',flexDirection:'column'},children:[/*#__PURE__*/_jsx(\"div\",{style:{height:'5%',width:'100%'}}),/*#__PURE__*/_jsx(\"div\",{style:{height:'40%',display:'flex',alignItems:'center',justifyContent:'center'},children:/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'11px',color:hasUnread?COLORS.primary:'#888',whiteSpace:'nowrap'},children:timeDisplay})}),/*#__PURE__*/_jsx(\"div\",{style:{height:'50%',display:'flex',alignItems:'center',justifyContent:'center'},children:/*#__PURE__*/_jsx(\"button\",{onClick:e=>{e.stopPropagation();onMenuOpen(chat.id);},style:{background:'none',border:'none',color:'#666',cursor:'pointer',padding:'5px'},children:/*#__PURE__*/_jsx(MoreVertical,{size:18})})}),/*#__PURE__*/_jsx(\"div\",{style:{height:'5%',width:'100%'}})]})]});});const ChatList=_ref2=>{let{myChats,selectedChat,onSelectChat,onDeleteChat,userProfiles,isMobile}=_ref2;const{loggedInUser}=useAuth();const[activeChatMenu,setActiveChatMenu]=useState(null);const menuRef=useRef(null);useEffect(()=>{const handleClickOutside=event=>{if(menuRef.current&&!menuRef.current.contains(event.target)){setActiveChatMenu(null);}};document.addEventListener(\"mousedown\",handleClickOutside);return()=>document.removeEventListener(\"mousedown\",handleClickOutside);},[]);const handleMenuOpen=chatId=>{setActiveChatMenu(prev=>prev===chatId?null:chatId);};return/*#__PURE__*/_jsx(\"div\",{style:{width:isMobile?'100%':'30%',minWidth:isMobile?'100%':'300px',backgroundColor:COLORS.background,borderRight:isMobile?'none':\"1px solid \".concat(COLORS.border),display:'flex',flexDirection:'column',height:'100%',position:'relative',zIndex:1},children:/*#__PURE__*/_jsx(\"div\",{style:{overflowY:'auto',flex:1},children:myChats.length===0?/*#__PURE__*/_jsx(\"p\",{style:{padding:'20px',color:'#888',textAlign:'center'},children:\"No conversations yet.\"}):myChats.map(chat=>/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(ChatListItem,{chat:chat,isSelected:(selectedChat===null||selectedChat===void 0?void 0:selectedChat.id)===chat.id,loggedInUser:loggedInUser,userProfiles:userProfiles,onSelect:onSelectChat,onMenuOpen:handleMenuOpen}),activeChatMenu===chat.id&&/*#__PURE__*/_jsxs(\"div\",{ref:menuRef,onClick:e=>e.stopPropagation(),style:{position:'absolute',top:'60px',right:'10px',backgroundColor:'#222',border:'1px solid #555',borderRadius:'5px',zIndex:9999,minWidth:'140px',boxShadow:'0 4px 15px rgba(0,0,0,0.8)',marginTop:'30px'},children:[chat.type!=='roster'&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>{onDeleteChat(chat);setActiveChatMenu(null);},style:{display:'block',width:'100%',padding:'12px',textAlign:'left',background:'none',border:'none',color:COLORS.danger,cursor:'pointer',borderBottom:'1px solid #333'},children:\"Delete Chat\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveChatMenu(null),style:{display:'block',width:'100%',padding:'12px',textAlign:'left',background:'none',border:'none',color:'#aaa',cursor:'pointer'},children:\"Cancel\"})]})]},chat.id))})});};export default ChatList;","map":{"version":3,"names":["React","useState","useEffect","useRef","MoreVertical","COLORS","useAuth","jsx","_jsx","jsxs","_jsxs","ChatListItem","memo","_ref","chat","isSelected","loggedInUser","userProfiles","onSelect","onMenuOpen","isDM","type","participants","length","displayTitle","name","iconImage","concat","_chat$participantDeta","otherUser","participantDetails","find","p","uid","freshUser","otherUserName","playerName","freshUserName","photoURL","firstLetter","replace","charAt","toUpperCase","unreadCount","unreadCounts","hasUnread","messagePreview","lastMessage","timeDisplay","lastMessageTime","date","toDate","Date","now","isToday","toDateString","toLocaleTimeString","hour","minute","toLocaleDateString","month","day","hiddenHistory","hiddenTs","hiddenDate","onClick","style","width","height","cursor","backgroundColor","borderBottom","border","display","boxSizing","position","children","justifyContent","alignItems","borderRadius","color","fontWeight","fontSize","overflow","src","alt","objectFit","flexDirection","whiteSpace","textOverflow","textAlign","maxWidth","right","top","transform","primary","padding","lineHeight","maxHeight","WebkitLineClamp","WebkitBoxOrient","wordBreak","e","stopPropagation","id","background","size","ChatList","_ref2","myChats","selectedChat","onSelectChat","onDeleteChat","isMobile","activeChatMenu","setActiveChatMenu","menuRef","handleClickOutside","event","current","contains","target","document","addEventListener","removeEventListener","handleMenuOpen","chatId","prev","minWidth","borderRight","zIndex","overflowY","flex","map","Fragment","ref","boxShadow","marginTop","danger"],"sources":["/Users/dbroxton/Documents/Projects/soccer-management-app/src/components/views/Messaging/components/ChatList.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { MoreVertical } from 'lucide-react'; \n// FIX: Up 4 levels to src\nimport { COLORS } from '../../../../lib/constants';\nimport { useAuth } from '../../../../context/AuthContext';\n\nconst ChatListItem = React.memo(({ \n  chat, \n  isSelected, \n  loggedInUser, \n  userProfiles, \n  onSelect, \n  onMenuOpen \n}) => {\n    const isDM = chat.type === 'dm' || (chat.participants && chat.participants.length === 2 && chat.type !== 'roster');\n    let displayTitle = chat.name || \"Chat\";\n    let iconImage = null;\n\n    if (chat.type === 'roster') {\n        displayTitle = `âš½ ${chat.name}`;\n    } else if (isDM) {\n        const otherUser = chat.participantDetails?.find(p => p.uid !== loggedInUser.uid);\n        if (otherUser) {\n            const freshUser = userProfiles[otherUser.uid];\n            const otherUserName = otherUser.name || otherUser.playerName || \"Unknown User\";\n            const freshUserName = freshUser?.playerName || freshUser?.name;\n            displayTitle = freshUserName || otherUserName;\n            iconImage = freshUser ? freshUser.photoURL : otherUser.photoURL;\n        }\n    } else {\n        iconImage = chat.photoURL;\n    }\n\n    if (!displayTitle) displayTitle = \"Chat\";\n\n    const firstLetter = displayTitle.replace(/[^a-zA-Z0-9]/g, '').charAt(0).toUpperCase() || \"?\";\n    const unreadCount = (chat.unreadCounts && chat.unreadCounts[loggedInUser.uid]) || 0;\n    const hasUnread = unreadCount > 0;\n    \n    let messagePreview = chat.lastMessage || \"No messages yet\";\n    let timeDisplay = \"\";\n\n    if (chat.lastMessageTime) {\n        const date = chat.lastMessageTime.toDate ? chat.lastMessageTime.toDate() : new Date(chat.lastMessageTime);\n        const now = new Date();\n        const isToday = date.toDateString() === now.toDateString();\n        timeDisplay = isToday \n            ? date.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' }) \n            : date.toLocaleDateString([], { month: 'numeric', day: 'numeric' });\n\n        if (chat.hiddenHistory && chat.hiddenHistory[loggedInUser.uid]) {\n            const hiddenTs = chat.hiddenHistory[loggedInUser.uid];\n            const hiddenDate = hiddenTs.toDate ? hiddenTs.toDate() : new Date(hiddenTs);\n            if (date < hiddenDate) {\n                messagePreview = \"No messages yet\";\n            }\n        }\n    }\n\n    return (\n        <div \n            onClick={() => onSelect(chat)}\n            style={{ \n                width: '100%', height: '90px', cursor: 'pointer', \n                backgroundColor: isSelected ? '#3a3f4a' : 'transparent',\n                borderBottom: `1px solid ${COLORS.border}`, display: 'flex', \n                boxSizing: 'border-box', position: 'relative'\n            }}\n        >\n            <div style={{ width: '20%', height: '100%', display: 'flex', justifyContent: 'center', alignItems: 'center' }}>\n                <div style={{ \n                     width: '50px', height: '50px', borderRadius: '50%', backgroundColor: '#444',\n                     display: 'flex', justifyContent: 'center', alignItems: 'center',\n                     border: '1px solid #555', color: '#eee', fontWeight: 'bold', fontSize: '20px', overflow: 'hidden'\n                }}>\n                     {iconImage ? (\n                         <img src={iconImage} alt=\"Chat\" style={{ width: '100%', height: '100%', objectFit: 'cover' }} />\n                     ) : (\n                         <span>{firstLetter}</span>\n                     )}\n                </div>\n            </div>\n\n            <div style={{ width: '60%', height: '100%', display: 'flex', flexDirection: 'column' }}>\n                <div style={{ height: '5%', width: '100%' }} />\n                <div style={{ \n                    height: '40%', display: 'flex', alignItems: 'center', justifyContent: 'center', position: 'relative', width: '100%'\n                }}>\n                    <div style={{\n                        fontWeight: hasUnread ? 'bold' : '600', color: 'white', fontSize: '16px',\n                        whiteSpace: 'nowrap', overflow: 'hidden', textOverflow: 'ellipsis', textAlign: 'center',\n                        maxWidth: hasUnread ? 'calc(100% - 40px)' : '100%'\n                    }}>\n                        {displayTitle}\n                    </div>\n                    {hasUnread && (\n                        <div style={{ \n                            position: 'absolute', right: '0', top: '50%', transform: 'translateY(-50%)', \n                            backgroundColor: COLORS.primary, color: '#000', borderRadius: '10px', padding: '2px 6px', \n                            fontSize: '10px', fontWeight: 'bold', whiteSpace: 'nowrap'\n                        }}>\n                            {unreadCount > 99 ? '99+' : unreadCount}\n                        </div>\n                    )}\n                </div>\n                <div style={{ height: '50%', display: 'flex', alignItems: 'center', justifyContent: 'center' }}>\n                    <div style={{\n                        fontSize: '13px', color: hasUnread ? '#ddd' : '#aaa', lineHeight: '1.2em',\n                        maxHeight: '2.4em', overflow: 'hidden', textAlign: 'center',\n                        display: '-webkit-box', WebkitLineClamp: 2, WebkitBoxOrient: 'vertical', wordBreak: 'break-word'\n                    }}>\n                        {messagePreview}\n                    </div>\n                </div>\n                <div style={{ height: '5%', width: '100%' }} />\n            </div>\n\n            <div style={{ width: '20%', height: '100%', display: 'flex', flexDirection: 'column' }}>\n                <div style={{ height: '5%', width: '100%' }} />\n                <div style={{ height: '40%', display: 'flex', alignItems: 'center', justifyContent: 'center' }}>\n                    <span style={{ fontSize: '11px', color: hasUnread ? COLORS.primary : '#888', whiteSpace: 'nowrap' }}>\n                        {timeDisplay}\n                    </span>\n                </div>\n                <div style={{ height: '50%', display: 'flex', alignItems: 'center', justifyContent: 'center' }}>\n                    <button \n                        onClick={(e) => { e.stopPropagation(); onMenuOpen(chat.id); }}\n                        style={{ background: 'none', border: 'none', color: '#666', cursor: 'pointer', padding: '5px' }}\n                    >\n                        <MoreVertical size={18} />\n                    </button>\n                </div>\n                <div style={{ height: '5%', width: '100%' }} />\n            </div>\n        </div>\n    );\n});\n\nconst ChatList = ({ \n  myChats, \n  selectedChat, \n  onSelectChat, \n  onDeleteChat,\n  userProfiles,\n  isMobile\n}) => {\n  const { loggedInUser } = useAuth();\n  const [activeChatMenu, setActiveChatMenu] = useState(null);\n  const menuRef = useRef(null);\n\n  useEffect(() => {\n    const handleClickOutside = (event) => {\n      if (menuRef.current && !menuRef.current.contains(event.target)) {\n        setActiveChatMenu(null);\n      }\n    };\n    document.addEventListener(\"mousedown\", handleClickOutside);\n    return () => document.removeEventListener(\"mousedown\", handleClickOutside);\n  }, []);\n\n  const handleMenuOpen = (chatId) => {\n      setActiveChatMenu(prev => prev === chatId ? null : chatId);\n  };\n\n  return (\n    <div style={{ \n      width: isMobile ? '100%' : '30%', \n      minWidth: isMobile ? '100%' : '300px',\n      backgroundColor: COLORS.background, \n      borderRight: isMobile ? 'none' : `1px solid ${COLORS.border}`, \n      display: 'flex', \n      flexDirection: 'column',\n      height: '100%',\n      position: 'relative',\n      zIndex: 1\n    }}>\n      \n      <div style={{ overflowY: 'auto', flex: 1 }}>\n        {myChats.length === 0 ? (\n          <p style={{ padding: '20px', color: '#888', textAlign: 'center' }}>No conversations yet.</p>\n        ) : (\n          myChats.map(chat => (\n             <React.Fragment key={chat.id}>\n                <ChatListItem \n                    chat={chat} \n                    isSelected={selectedChat?.id === chat.id}\n                    loggedInUser={loggedInUser}\n                    userProfiles={userProfiles}\n                    onSelect={onSelectChat}\n                    onMenuOpen={handleMenuOpen}\n                />\n                \n                {activeChatMenu === chat.id && (\n                  <div ref={menuRef} onClick={(e) => e.stopPropagation()} style={{ \n                      position: 'absolute', \n                      top: '60px', \n                      right: '10px', \n                      backgroundColor: '#222', border: '1px solid #555', \n                      borderRadius: '5px', zIndex: 9999, minWidth: '140px', boxShadow: '0 4px 15px rgba(0,0,0,0.8)',\n                      marginTop: '30px' \n                  }}>\n                    {chat.type !== 'roster' && (\n                      <button \n                        onClick={() => { onDeleteChat(chat); setActiveChatMenu(null); }}\n                        style={{ display: 'block', width: '100%', padding: '12px', textAlign: 'left', background: 'none', border: 'none', color: COLORS.danger, cursor: 'pointer', borderBottom: '1px solid #333' }}\n                      >\n                        Delete Chat\n                      </button>\n                    )}\n                    <button \n                      onClick={() => setActiveChatMenu(null)}\n                      style={{ display: 'block', width: '100%', padding: '12px', textAlign: 'left', background: 'none', border: 'none', color: '#aaa', cursor: 'pointer' }}\n                    >\n                      Cancel\n                    </button>\n                  </div>\n                )}\n             </React.Fragment>\n          ))\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default ChatList;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}