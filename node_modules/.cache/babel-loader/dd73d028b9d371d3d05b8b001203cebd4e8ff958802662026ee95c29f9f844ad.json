{"ast":null,"code":"var _jsxFileName = \"/Users/dbroxton/Documents/Projects/soccer-management-app/src/context/AuthContext.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { createContext, useContext, useState, useEffect } from 'react';\nimport { onAuthStateChanged, signInWithEmailAndPassword, createUserWithEmailAndPassword, signOut, updateEmail, EmailAuthProvider, reauthenticateWithCredential } from \"firebase/auth\";\nimport { doc, getDoc, setDoc, updateDoc } from \"firebase/firestore\";\nimport { auth, db } from \"../firebase\"; // Your firebase.js file\n\n// 1. Create the Context\n// This is the \"channel\" components will listen to.\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AuthContext = /*#__PURE__*/createContext();\n\n// 2. Create a \"hook\"\n// This is a simple shortcut so components can just call `useAuth()`\n// instead of the more complex `useContext(AuthContext)`.\nexport const useAuth = () => {\n  _s();\n  return useContext(AuthContext);\n};\n\n// 3. Create the \"Provider\"\n// This is the component that does all the work.\n// It will hold all the state and logic.\n_s(useAuth, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nexport const AuthProvider = ({\n  children\n}) => {\n  _s2();\n  // --- All our global state lives here ---\n  const [loggedInUser, setLoggedInUser] = useState(null);\n  const [soccerDetails, setSoccerDetails] = useState(null);\n  const [isLoading, setIsLoading] = useState(true);\n  const [needsReauth, setNeedsReauth] = useState(false);\n\n  // --- Core Auth Logic (runs on app start) ---\n  useEffect(() => {\n    // onAuthStateChanged is the listener that checks login status\n    const unsubscribe = onAuthStateChanged(auth, async user => {\n      if (user) {\n        // User is logged in. Fetch their data.\n        const userDocRef = doc(db, \"users\", user.uid);\n        const userDoc = await getDoc(userDocRef);\n        const soccerDocRef = doc(db, \"users\", user.uid, \"sportsDetails\", \"soccer\");\n        const soccerDoc = await getDoc(soccerDocRef);\n        if (userDoc.exists()) {\n          setLoggedInUser(userDoc.data());\n        } else {\n          console.error(\"No user profile found!\");\n          setLoggedInUser(null);\n        }\n        if (soccerDoc.exists()) {\n          setSoccerDetails(soccerDoc.data());\n        } else {\n          setSoccerDetails(null);\n        }\n      } else {\n        // User is logged out.\n        setLoggedInUser(null);\n        setSoccerDetails(null);\n      }\n      setIsLoading(false);\n    });\n\n    // Cleanup the listener when the app closes\n    return () => unsubscribe();\n  }, []); // Empty array = runs once on mount\n\n  // --- All our functions now live here ---\n\n  // Note: These functions now take arguments (email, password, etc.)\n  // that are passed up from the component forms.\n\n  const signIn = async (email, password) => {\n    setIsLoading(true);\n    try {\n      const userCredential = await signInWithEmailAndPassword(auth, email, password);\n      const user = userCredential.user;\n      const userDocRef = doc(db, \"users\", user.uid);\n      const userDoc = await getDoc(userDocRef);\n      const soccerDocRef = doc(db, \"users\", user.uid, \"sportsDetails\", \"soccer\");\n      const soccerDoc = await getDoc(soccerDocRef);\n      if (soccerDoc.exists()) {\n        setSoccerDetails(soccerDoc.data());\n      } else {\n        setSoccerDetails(null);\n      }\n      if (userDoc.exists()) {\n        setLoggedInUser(userDoc.data());\n      } else {\n        alert(\"Authentication successful, but no profile was found.\");\n        setLoggedInUser(null);\n      }\n    } catch (error) {\n      console.error(\"Error signing in:\", error);\n      alert(\"Error: \" + error.message);\n    }\n    setIsLoading(false);\n  };\n  const signUp = async formData => {\n    if (formData.password.length < 6) {\n      alert(\"Password must be at least 6 characters long.\");\n      return;\n    }\n    try {\n      const userCredential = await createUserWithEmailAndPassword(auth, formData.email, formData.password);\n      const user = userCredential.user;\n      const userProfileData = {\n        uid: user.uid,\n        playerName: formData.playerName,\n        email: formData.email,\n        phone: formData.phone,\n        address: formData.address,\n        notificationPreference: formData.notificationPreference,\n        comments: formData.comments,\n        role: 'player' // <--- NEW WAY: Default role\n      };\n      await setDoc(doc(db, \"users\", user.uid), userProfileData);\n      setLoggedInUser(userProfileData);\n      // No need to clear forms here, the component will do that.\n    } catch (error) {\n      console.error(\"Error signing up:\", error);\n      alert(\"Error: \" + error.message);\n    }\n  };\n  const signOutUser = async () => {\n    try {\n      await signOut(auth);\n      setLoggedInUser(null);\n      setSoccerDetails(null);\n    } catch (error) {\n      console.error(\"Error signing out:\", error);\n      alert(\"Error: \" + error.message);\n    }\n  };\n  const updateProfile = async profileData => {\n    if (!loggedInUser) return;\n\n    // 1. Handle Email Update (if necessary)\n    if (profileData.email !== loggedInUser.email) {\n      try {\n        await updateEmail(auth.currentUser, profileData.email);\n      } catch (error) {\n        if (error.code === 'auth/requires-recent-login') {\n          setNeedsReauth(true); // Open the modal\n        } else {\n          alert(\"Error: \" + error.message);\n        }\n        return; // Stop the function\n      }\n    }\n\n    // 2. Handle Firestore Document Update\n    try {\n      const dataToUpdate = {\n        playerName: profileData.playerName,\n        phone: profileData.phone,\n        address: profileData.address,\n        notificationPreference: profileData.notificationPreference,\n        comments: profileData.comments,\n        email: profileData.email\n      };\n      const userDocRef = doc(db, \"users\", loggedInUser.uid);\n      await updateDoc(userDocRef, dataToUpdate);\n\n      // 3. Update local state\n      setLoggedInUser(prevUser => ({\n        ...prevUser,\n        ...dataToUpdate\n      }));\n      alert(\"Profile successfully updated!\");\n      return true; // Signal to the component that it can close the form\n    } catch (error) {\n      alert(\"Error saving profile: \" + error.message);\n      return false;\n    }\n  };\n  const reauthenticate = async (password, newEmail) => {\n    if (!auth.currentUser || !password) return;\n    try {\n      const credential = EmailAuthProvider.credential(auth.currentUser.email, password);\n      await reauthenticateWithCredential(auth.currentUser, credential);\n\n      // Retry the email update\n      await updateEmail(auth.currentUser, newEmail);\n\n      // Update Firestore\n      const userDocRef = doc(db, \"users\", loggedInUser.uid);\n      await updateDoc(userDocRef, {\n        email: newEmail\n      });\n\n      // Update local state\n      setLoggedInUser(prevUser => ({\n        ...prevUser,\n        email: newEmail\n      }));\n      alert(\"Email successfully updated!\");\n      setNeedsReauth(false); // Close the modal\n      return true; // Signal success\n    } catch (error) {\n      alert(\"Error: Incorrect password or another error occurred. \" + error.message);\n      return false;\n    }\n  };\n  const updateSoccerDetails = async soccerData => {\n    if (!loggedInUser) return;\n    try {\n      const soccerDataToSave = {\n        ...soccerData,\n        currentRosters: soccerData.currentRosters.split(',').map(item => item.trim()),\n        rosterJerseysOwned: soccerData.rosterJerseysOwned.split(',').map(item => item.trim()),\n        playerNumber: Number(soccerData.playerNumber) || 0\n      };\n      const soccerDocRef = doc(db, \"users\", loggedInUser.uid, \"sportsDetails\", \"soccer\");\n      await setDoc(soccerDocRef, soccerDataToSave);\n      setSoccerDetails(soccerDataToSave); // Update global state\n      alert(\"Soccer info saved!\");\n      return true; // Signal success\n    } catch (error) {\n      alert(\"Error: \" + error.message);\n      return false;\n    }\n  };\n\n  // --- NEW: Helper function to check roles ---\n  const isManager = () => {\n    return loggedInUser && loggedInUser.role === 'manager';\n  };\n\n  // 4. \"Provide\" the state and functions to the app\n  // Any component inside <AuthProvider> can now access these values.\n  const value = {\n    loggedInUser,\n    soccerDetails,\n    isLoading,\n    needsReauth,\n    setNeedsReauth,\n    signIn,\n    signUp,\n    signOutUser,\n    updateProfile,\n    reauthenticate,\n    updateSoccerDetails,\n    isManager\n  };\n  return /*#__PURE__*/_jsxDEV(AuthContext.Provider, {\n    value: value,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 266,\n    columnNumber: 5\n  }, this);\n};\n_s2(AuthProvider, \"5MPytths2y1fFmqpbAcpPs27WVo=\");\n_c = AuthProvider;\nvar _c;\n$RefreshReg$(_c, \"AuthProvider\");","map":{"version":3,"names":["React","createContext","useContext","useState","useEffect","onAuthStateChanged","signInWithEmailAndPassword","createUserWithEmailAndPassword","signOut","updateEmail","EmailAuthProvider","reauthenticateWithCredential","doc","getDoc","setDoc","updateDoc","auth","db","jsxDEV","_jsxDEV","AuthContext","useAuth","_s","AuthProvider","children","_s2","loggedInUser","setLoggedInUser","soccerDetails","setSoccerDetails","isLoading","setIsLoading","needsReauth","setNeedsReauth","unsubscribe","user","userDocRef","uid","userDoc","soccerDocRef","soccerDoc","exists","data","console","error","signIn","email","password","userCredential","alert","message","signUp","formData","length","userProfileData","playerName","phone","address","notificationPreference","comments","role","signOutUser","updateProfile","profileData","currentUser","code","dataToUpdate","prevUser","reauthenticate","newEmail","credential","updateSoccerDetails","soccerData","soccerDataToSave","currentRosters","split","map","item","trim","rosterJerseysOwned","playerNumber","Number","isManager","value","Provider","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/dbroxton/Documents/Projects/soccer-management-app/src/context/AuthContext.js"],"sourcesContent":["import React, { createContext, useContext, useState, useEffect } from 'react';\nimport {\n  onAuthStateChanged,\n  signInWithEmailAndPassword,\n  createUserWithEmailAndPassword,\n  signOut,\n  updateEmail,\n  EmailAuthProvider,\n  reauthenticateWithCredential\n} from \"firebase/auth\";\nimport { doc, getDoc, setDoc, updateDoc } from \"firebase/firestore\";\nimport { auth, db } from \"../firebase\"; // Your firebase.js file\n\n// 1. Create the Context\n// This is the \"channel\" components will listen to.\nconst AuthContext = createContext();\n\n// 2. Create a \"hook\"\n// This is a simple shortcut so components can just call `useAuth()`\n// instead of the more complex `useContext(AuthContext)`.\nexport const useAuth = () => {\n  return useContext(AuthContext);\n};\n\n// 3. Create the \"Provider\"\n// This is the component that does all the work.\n// It will hold all the state and logic.\nexport const AuthProvider = ({ children }) => {\n  // --- All our global state lives here ---\n  const [loggedInUser, setLoggedInUser] = useState(null);\n  const [soccerDetails, setSoccerDetails] = useState(null);\n  const [isLoading, setIsLoading] = useState(true);\n  const [needsReauth, setNeedsReauth] = useState(false);\n\n  // --- Core Auth Logic (runs on app start) ---\n  useEffect(() => {\n    // onAuthStateChanged is the listener that checks login status\n    const unsubscribe = onAuthStateChanged(auth, async (user) => {\n      if (user) {\n        // User is logged in. Fetch their data.\n        const userDocRef = doc(db, \"users\", user.uid);\n        const userDoc = await getDoc(userDocRef);\n        const soccerDocRef = doc(db, \"users\", user.uid, \"sportsDetails\", \"soccer\");\n        const soccerDoc = await getDoc(soccerDocRef);\n\n        if (userDoc.exists()) {\n          setLoggedInUser(userDoc.data());\n        } else {\n          console.error(\"No user profile found!\");\n          setLoggedInUser(null);\n        }\n\n        if (soccerDoc.exists()) {\n          setSoccerDetails(soccerDoc.data());\n        } else {\n          setSoccerDetails(null);\n        }\n      } else {\n        // User is logged out.\n        setLoggedInUser(null);\n        setSoccerDetails(null);\n      }\n      setIsLoading(false);\n    });\n\n    // Cleanup the listener when the app closes\n    return () => unsubscribe();\n  }, []); // Empty array = runs once on mount\n\n  // --- All our functions now live here ---\n  \n  // Note: These functions now take arguments (email, password, etc.)\n  // that are passed up from the component forms.\n\n  const signIn = async (email, password) => {\n    setIsLoading(true);\n    try {\n      const userCredential = await signInWithEmailAndPassword(auth, email, password);\n      const user = userCredential.user;\n      \n      const userDocRef = doc(db, \"users\", user.uid);\n      const userDoc = await getDoc(userDocRef);\n      const soccerDocRef = doc(db, \"users\", user.uid, \"sportsDetails\", \"soccer\");\n      const soccerDoc = await getDoc(soccerDocRef);\n\n      if (soccerDoc.exists()) {\n        setSoccerDetails(soccerDoc.data());\n      } else {\n        setSoccerDetails(null);\n      }\n\n      if (userDoc.exists()) {\n        setLoggedInUser(userDoc.data());\n      } else {\n        alert(\"Authentication successful, but no profile was found.\");\n        setLoggedInUser(null);\n      }\n    } catch (error) {\n      console.error(\"Error signing in:\", error);\n      alert(\"Error: \" + error.message);\n    }\n    setIsLoading(false);\n  };\n\n  const signUp = async (formData) => {\n    if (formData.password.length < 6) {\n      alert(\"Password must be at least 6 characters long.\");\n      return;\n    }\n    try {\n      const userCredential = await createUserWithEmailAndPassword(auth, formData.email, formData.password);\n      const user = userCredential.user;\n      \n      const userProfileData = {\n        uid: user.uid,\n        playerName: formData.playerName,\n        email: formData.email,\n        phone: formData.phone,\n        address: formData.address,\n        notificationPreference: formData.notificationPreference,\n        comments: formData.comments,\n        role: 'player' // <--- NEW WAY: Default role\n      };\n      \n      await setDoc(doc(db, \"users\", user.uid), userProfileData);\n      setLoggedInUser(userProfileData);\n      // No need to clear forms here, the component will do that.\n    } catch (error) {\n      console.error(\"Error signing up:\", error);\n      alert(\"Error: \" + error.message);\n    }\n  };\n\n  const signOutUser = async () => {\n    try {\n      await signOut(auth);\n      setLoggedInUser(null);\n      setSoccerDetails(null);\n    } catch (error) {\n      console.error(\"Error signing out:\", error);\n      alert(\"Error: \" + error.message);\n    }\n  };\n\n  const updateProfile = async (profileData) => {\n    if (!loggedInUser) return;\n\n    // 1. Handle Email Update (if necessary)\n    if (profileData.email !== loggedInUser.email) {\n      try {\n        await updateEmail(auth.currentUser, profileData.email);\n      } catch (error) {\n        if (error.code === 'auth/requires-recent-login') {\n          setNeedsReauth(true); // Open the modal\n        } else {\n          alert(\"Error: \" + error.message);\n        }\n        return; // Stop the function\n      }\n    }\n\n    // 2. Handle Firestore Document Update\n    try {\n      const dataToUpdate = {\n        playerName: profileData.playerName,\n        phone: profileData.phone,\n        address: profileData.address,\n        notificationPreference: profileData.notificationPreference,\n        comments: profileData.comments,\n        email: profileData.email\n      };\n      \n      const userDocRef = doc(db, \"users\", loggedInUser.uid);\n      await updateDoc(userDocRef, dataToUpdate);\n      \n      // 3. Update local state\n      setLoggedInUser(prevUser => ({\n        ...prevUser,\n        ...dataToUpdate\n      }));\n      \n      alert(\"Profile successfully updated!\");\n      return true; // Signal to the component that it can close the form\n      \n    } catch (error) {\n      alert(\"Error saving profile: \" + error.message);\n      return false;\n    }\n  };\n\n  const reauthenticate = async (password, newEmail) => {\n    if (!auth.currentUser || !password) return;\n    try {\n      const credential = EmailAuthProvider.credential(auth.currentUser.email, password);\n      await reauthenticateWithCredential(auth.currentUser, credential);\n      \n      // Retry the email update\n      await updateEmail(auth.currentUser, newEmail);\n      \n      // Update Firestore\n      const userDocRef = doc(db, \"users\", loggedInUser.uid);\n      await updateDoc(userDocRef, { email: newEmail });\n\n      // Update local state\n      setLoggedInUser(prevUser => ({\n        ...prevUser,\n        email: newEmail\n      }));\n\n      alert(\"Email successfully updated!\");\n      setNeedsReauth(false); // Close the modal\n      return true; // Signal success\n\n    } catch (error) {\n      alert(\"Error: Incorrect password or another error occurred. \" + error.message);\n      return false;\n    }\n  };\n\n  const updateSoccerDetails = async (soccerData) => {\n    if (!loggedInUser) return;\n    try {\n      const soccerDataToSave = {\n        ...soccerData,\n        currentRosters: soccerData.currentRosters.split(',').map(item => item.trim()),\n        rosterJerseysOwned: soccerData.rosterJerseysOwned.split(',').map(item => item.trim()),\n        playerNumber: Number(soccerData.playerNumber) || 0,\n      };\n      \n      const soccerDocRef = doc(db, \"users\", loggedInUser.uid, \"sportsDetails\", \"soccer\");\n      await setDoc(soccerDocRef, soccerDataToSave);\n      \n      setSoccerDetails(soccerDataToSave); // Update global state\n      alert(\"Soccer info saved!\");\n      return true; // Signal success\n\n    } catch (error) {\n      alert(\"Error: \" + error.message);\n      return false;\n    }\n  };\n\n    // --- NEW: Helper function to check roles ---\n  const isManager = () => {\n    return loggedInUser && loggedInUser.role === 'manager';\n  };\n\n  // 4. \"Provide\" the state and functions to the app\n  // Any component inside <AuthProvider> can now access these values.\n  const value = {\n    loggedInUser,\n    soccerDetails,\n    isLoading,\n    needsReauth,\n    setNeedsReauth,\n    signIn,\n    signUp,\n    signOutUser,\n    updateProfile,\n    reauthenticate,\n    updateSoccerDetails,\n    isManager\n  };\n\n  return (\n    <AuthContext.Provider value={value}>\n      {/* We render children so the rest of the app appears */}\n      {children}\n    </AuthContext.Provider>\n  );\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}