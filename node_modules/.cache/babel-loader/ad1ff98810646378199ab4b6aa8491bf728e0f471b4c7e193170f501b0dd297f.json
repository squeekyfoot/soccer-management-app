{"ast":null,"code":"import React,{useState,useEffect,useCallback}from'react';import{useAuth}from'../context/AuthContext';import Button from'./common/Button';import Input from'./common/Input';import{COLORS}from'../constants';import UserSearch from'./UserSearch';import Header from'./common/Header';import Avatar from'./common/Avatar';import Card from'./common/Card';import Modal from'./common/Modal';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function ManagerDashboard(){const{fetchRosters,createRoster,deleteRoster,addPlayerToRoster,removePlayerFromRoster,subscribeToIncomingRequests,respondToRequest,fetchPlayerDetails,fetchUserGroups,addGroupMembers,loggedInUser}=useAuth();// --- Data State ---\nconst[rosters,setRosters]=useState([]);const[incomingRequests,setIncomingRequests]=useState([]);const[isLoading,setIsLoading]=useState(true);const[selectedRoster,setSelectedRoster]=useState(null);// --- Create Roster Form State ---\nconst[showCreateForm,setShowCreateForm]=useState(false);const[newRosterName,setNewRosterName]=useState(\"\");const[newRosterSeason,setNewRosterSeason]=useState(\"\");const[newRosterCapacity,setNewRosterCapacity]=useState(\"20\");const[isDiscoverable,setIsDiscoverable]=useState(false);const[addManagerToRoster,setAddManagerToRoster]=useState(false);const[createAssociatedGroup,setCreateAssociatedGroup]=useState(false);const[associatedGroupName,setAssociatedGroupName]=useState(\"\");const[groupNameDirty,setGroupNameDirty]=useState(false);// --- Player Search State ---\nconst[selectedPlayerEmails,setSelectedPlayerEmails]=useState([]);const[userSearchKey,setUserSearchKey]=useState(0);// --- Request UI State ---\nconst[expandedRequestId,setExpandedRequestId]=useState(null);const[expandedPlayerDetails,setExpandedPlayerDetails]=useState(null);const[loadingDetails,setLoadingDetails]=useState(false);const[requestToApprove,setRequestToApprove]=useState(null);const[targetGroupId,setTargetGroupId]=useState(\"\");// --- Group/Modal State ---\nconst[myGroups,setMyGroups]=useState([]);const[showAddToGroupModal,setShowAddToGroupModal]=useState(false);const[playerToAdd,setPlayerToAdd]=useState(null);const[showConfirmAddModal,setShowConfirmAddModal]=useState(false);const[manualAddTargetGroupId,setManualAddTargetGroupId]=useState(\"\");// NEW: State for the Add Player Modal\nconst[showAddPlayerModal,setShowAddPlayerModal]=useState(false);// --- Data Loading ---\nconst loadRosters=useCallback(async()=>{setIsLoading(true);const data=await fetchRosters();setRosters(data);setIsLoading(false);},[fetchRosters]);const loadMyGroups=useCallback(async()=>{if(loggedInUser){const groups=await fetchUserGroups(loggedInUser.uid);setMyGroups(groups);}},[fetchUserGroups,loggedInUser]);useEffect(()=>{loadRosters();loadMyGroups();const unsubscribe=subscribeToIncomingRequests(requests=>{setIncomingRequests(requests);});return()=>{if(unsubscribe)unsubscribe();};// eslint-disable-next-line react-hooks/exhaustive-deps\n},[]);// Keep selected roster updated if underlying data changes\nuseEffect(()=>{if(selectedRoster){const updated=rosters.find(r=>r.id===selectedRoster.id);if(updated&&updated!==selectedRoster)setSelectedRoster(updated);}},[rosters,selectedRoster]);// --- Handlers: Form Inputs ---\nconst handleRosterNameChange=e=>{const val=e.target.value;setNewRosterName(val);if(!groupNameDirty){setAssociatedGroupName(val);}};const handleGroupNameChange=e=>{setAssociatedGroupName(e.target.value);setGroupNameDirty(true);};// --- Handlers: Roster Actions ---\nconst handleCreateSubmit=async e=>{e.preventDefault();if(!newRosterName||!newRosterSeason){alert(\"Please fill in all fields\");return;}const success=await createRoster(newRosterName,newRosterSeason,newRosterCapacity,isDiscoverable,{createGroup:createAssociatedGroup,groupName:associatedGroupName},addManagerToRoster);if(success){alert(\"Roster created!\");setShowCreateForm(false);// Reset Form\nsetNewRosterName(\"\");setNewRosterSeason(\"\");setNewRosterCapacity(\"20\");setIsDiscoverable(false);setAddManagerToRoster(false);setCreateAssociatedGroup(false);setAssociatedGroupName(\"\");setGroupNameDirty(false);loadRosters();loadMyGroups();}};const handleDeleteRoster=async rosterId=>{if(window.confirm(\"Delete this roster? This cannot be undone.\")){const success=await deleteRoster(rosterId);if(success)loadRosters();}};// --- Handlers: Player Actions ---\nconst handleRemovePlayer=async playerSummary=>{if(window.confirm(\"Remove \".concat(playerSummary.playerName,\" from this roster?\"))){const success=await removePlayerFromRoster(selectedRoster.id,playerSummary);if(success)loadRosters();}};const initiateManualAdd=e=>{e.preventDefault();if(selectedPlayerEmails.length===0)return;// Default to associated group if exists\nconst associated=myGroups.find(g=>g.associatedRosterId===selectedRoster.id);setManualAddTargetGroupId(associated?associated.id:\"\");// Close the selection modal and open the confirm modal\nsetShowAddPlayerModal(false);setShowConfirmAddModal(true);};const executeManualAdd=async()=>{for(const email of selectedPlayerEmails){await addPlayerToRoster(selectedRoster.id,email);}if(manualAddTargetGroupId){await addGroupMembers(manualAddTargetGroupId,selectedPlayerEmails);}alert(\"Players added successfully!\");setSelectedPlayerEmails([]);setUserSearchKey(prev=>prev+1);// Force clear UserSearch component\nsetShowConfirmAddModal(false);setManualAddTargetGroupId(\"\");loadRosters();};const openAddToGroupModal=player=>{setPlayerToAdd(player);setShowAddToGroupModal(true);};const confirmAddToGroup=async groupId=>{if(!playerToAdd)return;const success=await addGroupMembers(groupId,[playerToAdd.email]);if(success){alert(\"\".concat(playerToAdd.playerName,\" added to group!\"));setShowAddToGroupModal(false);setPlayerToAdd(null);}};// --- Handlers: Requests ---\nconst initiateApproval=req=>{setRequestToApprove(req);const associated=myGroups.find(g=>g.associatedRosterId===req.rosterId);setTargetGroupId(associated?associated.id:\"\");};const confirmApproval=async()=>{if(!requestToApprove)return;await respondToRequest(requestToApprove,'approve',targetGroupId||null);loadRosters();setRequestToApprove(null);setTargetGroupId(\"\");};const handleDenyRequest=async request=>{if(window.confirm(\"Deny request from \".concat(request.userName,\"?\"))){await respondToRequest(request,'deny');}};const toggleRequestDetails=async req=>{if(expandedRequestId===req.id){setExpandedRequestId(null);setExpandedPlayerDetails(null);return;}setExpandedRequestId(req.id);setLoadingDetails(true);const details=await fetchPlayerDetails(req.userId);setExpandedPlayerDetails(details);setLoadingDetails(false);};// --- RENDER: Selected Roster Detail View ---\nif(selectedRoster){var _selectedRoster$playe;return/*#__PURE__*/_jsxs(\"div\",{className:\"view-container\",children:[/*#__PURE__*/_jsx(Header,{title:selectedRoster.name,style:{maxWidth:'1000px',margin:'0 auto'}// NEW: Actions now include Add Player + Back\n,actions:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'10px'},children:[/*#__PURE__*/_jsx(Button,{onClick:()=>setShowAddPlayerModal(true),style:{padding:'6px 12px',fontSize:'14px'},children:\"+ Add Player\"}),/*#__PURE__*/_jsx(Button,{onClick:()=>setSelectedRoster(null),OX:true,variant:\"secondary\",style:{padding:'6px 12px',fontSize:'14px'},children:\"Back\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"view-content\",children:/*#__PURE__*/_jsxs(\"div\",{style:{maxWidth:'1000px',margin:'0 auto',textAlign:'left'},children:[/*#__PURE__*/_jsxs(\"p\",{style:{color:'#ccc',marginTop:0},children:[selectedRoster.season,\" \\u2022 \",((_selectedRoster$playe=selectedRoster.players)===null||_selectedRoster$playe===void 0?void 0:_selectedRoster$playe.length)||0,\" / \",selectedRoster.maxCapacity,\" Players\",selectedRoster.isDiscoverable&&/*#__PURE__*/_jsx(\"span\",{style:{marginLeft:'10px',fontSize:'12px',backgroundColor:COLORS.success,padding:'2px 6px',borderRadius:'4px',color:'white'},children:\"Discoverable\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'30px'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{borderBottom:\"1px solid \".concat(COLORS.border),paddingBottom:'10px'},children:\"Roster\"}),!selectedRoster.players||selectedRoster.players.length===0?/*#__PURE__*/_jsx(\"p\",{style:{fontStyle:'italic',color:'#888'},children:\"No players yet.\"}):/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',flexDirection:'column',gap:'10px'},children:selectedRoster.players.map(player=>/*#__PURE__*/_jsxs(Card,{style:{display:'flex',justifyContent:'space-between',alignItems:'center',padding:'10px',marginBottom:0},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{style:{fontWeight:'bold',display:'block'},children:player.playerName}),/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'12px',color:'#aaa'},children:player.email})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'5px'},children:[/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:()=>openAddToGroupModal(player),style:{padding:'5px 10px',fontSize:'10px'},children:\"+ Group\"}),/*#__PURE__*/_jsx(Button,{variant:\"danger\",onClick:()=>handleRemovePlayer(player),style:{padding:'5px 10px',fontSize:'12px'},children:\"Remove\"})]})]},player.uid||player.email))})]}),showAddPlayerModal&&/*#__PURE__*/_jsx(Modal,{title:\"Add Players\",onClose:()=>setShowAddPlayerModal(false),actions:null// Actions are handled inside the form\n,children:/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'left'},children:[/*#__PURE__*/_jsxs(\"p\",{style:{marginTop:0,fontSize:'14px',marginBottom:'15px',color:'#ccc'},children:[\"Search for users by name or email to add them to \",/*#__PURE__*/_jsx(\"strong\",{children:selectedRoster.name}),\".\"]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:initiateManualAdd,children:[/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:'20px'},children:/*#__PURE__*/_jsx(UserSearch,{onSelectionChange:setSelectedPlayerEmails},userSearchKey)}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'10px',justifyContent:'flex-end'},children:[/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:()=>setShowAddPlayerModal(false),children:\"Cancel\"}),/*#__PURE__*/_jsx(Button,{type:\"submit\",disabled:selectedPlayerEmails.length===0,children:\"Continue\"})]})]})]})}),showConfirmAddModal&&/*#__PURE__*/_jsxs(Modal,{title:\"Confirm Add\",onClose:()=>setShowConfirmAddModal(false),actions:/*#__PURE__*/_jsx(Button,{onClick:executeManualAdd,children:\"Add Players\"}),children:[/*#__PURE__*/_jsxs(\"p\",{style:{color:'#ccc'},children:[\"You are adding \",/*#__PURE__*/_jsx(\"strong\",{children:selectedPlayerEmails.length}),\" player(s) to \",/*#__PURE__*/_jsx(\"strong\",{children:selectedRoster.name}),\".\"]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'20px'},children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'10px',fontWeight:'bold'},children:\"Add to Community Group (Optional):\"}),/*#__PURE__*/_jsxs(\"select\",{value:manualAddTargetGroupId,onChange:e=>setManualAddTargetGroupId(e.target.value),style:{width:'100%',padding:'10px',borderRadius:'5px'},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"-- No Group --\"}),myGroups.map(g=>/*#__PURE__*/_jsx(\"option\",{value:g.id,children:g.name},g.id))]}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'11px',color:'#aaa',marginTop:'5px'},children:manualAddTargetGroupId?\"Players will also be added to this group.\":\"Players will only be added to the roster.\"})]})]}),showAddToGroupModal&&/*#__PURE__*/_jsxs(Modal,{title:\"Add \".concat(playerToAdd===null||playerToAdd===void 0?void 0:playerToAdd.playerName,\" to Group\"),onClose:()=>{setShowAddToGroupModal(false);setPlayerToAdd(null);},actions:null,children:[/*#__PURE__*/_jsx(\"p\",{style:{color:'#ccc'},children:\"Select a group to add this player to:\"}),/*#__PURE__*/_jsx(\"div\",{style:{maxHeight:'200px',overflowY:'auto',marginBottom:'20px',display:'grid',gap:'10px'},children:myGroups.length===0?/*#__PURE__*/_jsx(\"p\",{style:{fontStyle:'italic',color:'#aaa'},children:\"You don't manage any groups.\"}):myGroups.map(group=>{var _group$memberDetails;return/*#__PURE__*/_jsxs(Card,{onClick:()=>confirmAddToGroup(group.id),hoverable:true,children:[/*#__PURE__*/_jsx(\"strong\",{children:group.name}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"span\",{style:{fontSize:'11px',color:'#aaa'},children:[((_group$memberDetails=group.memberDetails)===null||_group$memberDetails===void 0?void 0:_group$memberDetails.length)||0,\" Members\"]})]},group.id);})})]})]})})]});}// --- RENDER: Main Dashboard List View ---\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"view-container\",children:[/*#__PURE__*/_jsx(Header,{title:\"Manager Dashboard\",style:{maxWidth:'1000px',margin:'0 auto'},actions:/*#__PURE__*/_jsx(Button,{onClick:()=>setShowCreateForm(!showCreateForm),style:{fontSize:'14px',padding:'5px 15px'},children:showCreateForm?\"Cancel\":\"+ Create Roster\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"view-content\",children:/*#__PURE__*/_jsxs(\"div\",{style:{maxWidth:'1000px',margin:'0 auto',textAlign:'left'},children:[incomingRequests.length>0&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'10px',marginBottom:'40px'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{color:COLORS.primary},children:\"Incoming Join Requests\"}),/*#__PURE__*/_jsx(\"div\",{style:{display:'grid',gap:'10px'},children:incomingRequests.map(req=>/*#__PURE__*/_jsxs(Card,{style:{border:\"1px solid \".concat(COLORS.primary)},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{style:{fontWeight:'bold'},children:req.userName}),/*#__PURE__*/_jsx(\"span\",{style:{color:'#aaa',margin:'0 10px'},children:\"wants to join\"}),/*#__PURE__*/_jsx(\"span\",{style:{fontWeight:'bold',color:'white'},children:req.rosterName})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'10px'},children:[/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:()=>toggleRequestDetails(req),style:{padding:'5px 15px',fontSize:'12px'},children:expandedRequestId===req.id?\"Hide Details\":\"View Profile\"}),/*#__PURE__*/_jsx(Button,{onClick:()=>initiateApproval(req),style:{padding:'5px 15px',fontSize:'12px'},children:\"Approve\"}),/*#__PURE__*/_jsx(Button,{variant:\"danger\",onClick:()=>handleDenyRequest(req),style:{padding:'5px 15px',fontSize:'12px'},children:\"Deny\"})]})]}),expandedRequestId===req.id&&/*#__PURE__*/_jsx(\"div\",{style:{marginTop:'15px',padding:'15px',backgroundColor:'#333',borderRadius:'5px',border:'1px solid #555'},children:loadingDetails?/*#__PURE__*/_jsx(\"p\",{style:{fontStyle:'italic',margin:0},children:\"Loading player details...\"}):expandedPlayerDetails?/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'14px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'15px',marginBottom:'10px'},children:[/*#__PURE__*/_jsx(Avatar,{src:expandedPlayerDetails.photoURL,text:expandedPlayerDetails.playerName,size:50}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:expandedPlayerDetails.playerName}),/*#__PURE__*/_jsx(\"div\",{style:{color:'#aaa'},children:expandedPlayerDetails.email}),/*#__PURE__*/_jsx(\"div\",{style:{color:'#aaa'},children:expandedPlayerDetails.phone})]})]}),expandedPlayerDetails.soccerDetails?/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'1fr 1fr',gap:'10px'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Positions:\"}),\" \",expandedPlayerDetails.soccerDetails.positions]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Skill Level:\"}),\" \",expandedPlayerDetails.soccerDetails.skillLevel]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Experience:\"}),\" \",expandedPlayerDetails.soccerDetails.yearsExperience]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Number:\"}),\" \",expandedPlayerDetails.soccerDetails.playerNumber]})]}):/*#__PURE__*/_jsx(\"p\",{style:{color:'#aaa',fontStyle:'italic'},children:\"No soccer details available.\"}),expandedPlayerDetails.comments&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'10px',borderTop:'1px solid #444',paddingTop:'10px'},children:[/*#__PURE__*/_jsx(\"strong\",{children:\"About:\"}),\" \",expandedPlayerDetails.comments]})]}):/*#__PURE__*/_jsx(\"p\",{style:{color:COLORS.danger},children:\"Failed to load details.\"})})]},req.id))})]}),requestToApprove&&/*#__PURE__*/_jsxs(Modal,{title:\"Confirm Approval\",onClose:()=>setRequestToApprove(null),actions:/*#__PURE__*/_jsx(Button,{onClick:confirmApproval,children:\"Confirm\"}),children:[/*#__PURE__*/_jsxs(\"p\",{style:{color:'#ccc'},children:[\"You are approving \",/*#__PURE__*/_jsx(\"strong\",{children:requestToApprove.userName}),\" for \",/*#__PURE__*/_jsx(\"strong\",{children:requestToApprove.rosterName}),\".\"]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'20px'},children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'10px',fontWeight:'bold'},children:\"Add to Community Group (Optional):\"}),/*#__PURE__*/_jsxs(\"select\",{value:targetGroupId,onChange:e=>setTargetGroupId(e.target.value),style:{width:'100%',padding:'10px',borderRadius:'5px'},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"-- No Group --\"}),myGroups.map(g=>/*#__PURE__*/_jsx(\"option\",{value:g.id,children:g.name},g.id))]}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'11px',color:'#aaa',marginTop:'5px'},children:targetGroupId?\"User will be added to this group automatically.\":\"User will only be added to the roster.\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'30px'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{marginTop:0,marginBottom:'15px'},children:\"Current Rosters\"}),showCreateForm&&/*#__PURE__*/_jsxs(Card,{style:{marginBottom:'20px',border:\"1px solid \".concat(COLORS.primary)},children:[/*#__PURE__*/_jsx(\"h4\",{style:{marginTop:0,color:'white'},children:\"New Roster Details\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleCreateSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'15px',flexWrap:'wrap'},children:[/*#__PURE__*/_jsx(\"div\",{style:{flex:1,minWidth:'200px'},children:/*#__PURE__*/_jsx(Input,{label:\"Roster Name\",placeholder:\"e.g. The Gizmos\",value:newRosterName,onChange:handleRosterNameChange})}),/*#__PURE__*/_jsx(\"div\",{style:{flex:1,minWidth:'150px'},children:/*#__PURE__*/_jsx(Input,{label:\"Season\",placeholder:\"e.g. Fall 2025\",value:newRosterSeason,onChange:e=>setNewRosterSeason(e.target.value)})}),/*#__PURE__*/_jsx(\"div\",{style:{width:'100px'},children:/*#__PURE__*/_jsx(Input,{label:\"Capacity\",type:\"number\",value:newRosterCapacity,onChange:e=>setNewRosterCapacity(e.target.value)})})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'20px',display:'flex',flexDirection:'column',gap:'15px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'10px'},children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",id:\"discoverableCheck\",checked:isDiscoverable,onChange:e=>setIsDiscoverable(e.target.checked)}),/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"discoverableCheck\",children:[\"Make this team \",/*#__PURE__*/_jsx(\"strong\",{children:\"Discoverable\"}),\" in \\\"Find Teams\\\"\"]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'10px'},children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",id:\"createGroupCheck\",checked:createAssociatedGroup,onChange:e=>setCreateAssociatedGroup(e.target.checked)}),/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"createGroupCheck\",children:[\"Create a new \",/*#__PURE__*/_jsx(\"strong\",{children:\"Community Group\"}),\" for this team\"]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'10px'},children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",id:\"addManagerCheck\",checked:addManagerToRoster,onChange:e=>setAddManagerToRoster(e.target.checked)}),/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"addManagerCheck\",children:[\"Add \",/*#__PURE__*/_jsx(\"strong\",{children:\"Myself\"}),\" to this roster\"]})]})]}),createAssociatedGroup&&/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:'20px'},children:/*#__PURE__*/_jsx(Input,{label:\"Group Name\",placeholder:\"e.g. The Gizmos Community\",value:associatedGroupName,onChange:handleGroupNameChange})}),/*#__PURE__*/_jsx(Button,{type:\"submit\",children:\"Save Roster\"})]})]}),isLoading?/*#__PURE__*/_jsx(\"p\",{children:\"Loading rosters...\"}):rosters.length===0?/*#__PURE__*/_jsx(\"p\",{style:{color:'#aaa',fontStyle:'italic'},children:\"No rosters found.\"}):/*#__PURE__*/_jsx(\"div\",{style:{display:'grid',gap:'15px'},children:rosters.map(roster=>{var _roster$players;return/*#__PURE__*/_jsxs(Card,{style:{display:'flex',justifyContent:'space-between',alignItems:'center'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{style:{margin:0,color:COLORS.primary},children:roster.name}),/*#__PURE__*/_jsxs(\"p\",{style:{margin:'5px 0 0 0',fontSize:'14px',color:'#ccc'},children:[roster.season,\" \\u2022 \",((_roster$players=roster.players)===null||_roster$players===void 0?void 0:_roster$players.length)||0,\" / \",roster.maxCapacity,\" players\",roster.isDiscoverable&&/*#__PURE__*/_jsx(\"span\",{style:{marginLeft:'10px',fontSize:'10px',border:'1px solid #555',padding:'2px 4px',borderRadius:'3px'},children:\"Public\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'10px'},children:[/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:()=>setSelectedRoster(roster),style:{padding:'5px 15px',fontSize:'12px'},children:\"Manage\"}),/*#__PURE__*/_jsx(Button,{variant:\"danger\",onClick:()=>handleDeleteRoster(roster.id),style:{padding:'5px 10px',fontSize:'12px'},children:\"Delete\"})]})]},roster.id);})})]})]})})]});}export default ManagerDashboard;","map":{"version":3,"names":["React","useState","useEffect","useCallback","useAuth","Button","Input","COLORS","UserSearch","Header","Avatar","Card","Modal","jsx","_jsx","jsxs","_jsxs","ManagerDashboard","fetchRosters","createRoster","deleteRoster","addPlayerToRoster","removePlayerFromRoster","subscribeToIncomingRequests","respondToRequest","fetchPlayerDetails","fetchUserGroups","addGroupMembers","loggedInUser","rosters","setRosters","incomingRequests","setIncomingRequests","isLoading","setIsLoading","selectedRoster","setSelectedRoster","showCreateForm","setShowCreateForm","newRosterName","setNewRosterName","newRosterSeason","setNewRosterSeason","newRosterCapacity","setNewRosterCapacity","isDiscoverable","setIsDiscoverable","addManagerToRoster","setAddManagerToRoster","createAssociatedGroup","setCreateAssociatedGroup","associatedGroupName","setAssociatedGroupName","groupNameDirty","setGroupNameDirty","selectedPlayerEmails","setSelectedPlayerEmails","userSearchKey","setUserSearchKey","expandedRequestId","setExpandedRequestId","expandedPlayerDetails","setExpandedPlayerDetails","loadingDetails","setLoadingDetails","requestToApprove","setRequestToApprove","targetGroupId","setTargetGroupId","myGroups","setMyGroups","showAddToGroupModal","setShowAddToGroupModal","playerToAdd","setPlayerToAdd","showConfirmAddModal","setShowConfirmAddModal","manualAddTargetGroupId","setManualAddTargetGroupId","showAddPlayerModal","setShowAddPlayerModal","loadRosters","data","loadMyGroups","groups","uid","unsubscribe","requests","updated","find","r","id","handleRosterNameChange","e","val","target","value","handleGroupNameChange","handleCreateSubmit","preventDefault","alert","success","createGroup","groupName","handleDeleteRoster","rosterId","window","confirm","handleRemovePlayer","playerSummary","concat","playerName","initiateManualAdd","length","associated","g","associatedRosterId","executeManualAdd","email","prev","openAddToGroupModal","player","confirmAddToGroup","groupId","initiateApproval","req","confirmApproval","handleDenyRequest","request","userName","toggleRequestDetails","details","userId","_selectedRoster$playe","className","children","title","name","style","maxWidth","margin","actions","display","gap","onClick","padding","fontSize","OX","variant","textAlign","color","marginTop","season","players","maxCapacity","marginLeft","backgroundColor","borderRadius","borderBottom","border","paddingBottom","fontStyle","flexDirection","map","justifyContent","alignItems","marginBottom","fontWeight","onClose","onSubmit","onSelectionChange","type","disabled","onChange","width","maxHeight","overflowY","group","_group$memberDetails","hoverable","memberDetails","primary","rosterName","src","photoURL","text","size","phone","soccerDetails","gridTemplateColumns","positions","skillLevel","yearsExperience","playerNumber","comments","borderTop","paddingTop","danger","flexWrap","flex","minWidth","label","placeholder","checked","htmlFor","roster","_roster$players"],"sources":["/Users/dbroxton/Documents/Projects/soccer-management-app/src/components/ManagerDashboard.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport { useAuth } from '../context/AuthContext';\nimport Button from './common/Button'; \nimport Input from './common/Input';   \nimport { COLORS } from '../constants'; \nimport UserSearch from './UserSearch';\nimport Header from './common/Header';\nimport Avatar from './common/Avatar'; \nimport Card from './common/Card';     \nimport Modal from './common/Modal';   \n\nfunction ManagerDashboard() {\n  const { \n    fetchRosters, createRoster, deleteRoster, addPlayerToRoster, removePlayerFromRoster,\n    subscribeToIncomingRequests, respondToRequest, fetchPlayerDetails,\n    fetchUserGroups, addGroupMembers, loggedInUser\n  } = useAuth();\n\n  // --- Data State ---\n  const [rosters, setRosters] = useState([]);\n  const [incomingRequests, setIncomingRequests] = useState([]); \n  const [isLoading, setIsLoading] = useState(true);\n  const [selectedRoster, setSelectedRoster] = useState(null); \n\n  // --- Create Roster Form State ---\n  const [showCreateForm, setShowCreateForm] = useState(false);\n  const [newRosterName, setNewRosterName] = useState(\"\");\n  const [newRosterSeason, setNewRosterSeason] = useState(\"\");\n  const [newRosterCapacity, setNewRosterCapacity] = useState(\"20\");\n  const [isDiscoverable, setIsDiscoverable] = useState(false); \n  const [addManagerToRoster, setAddManagerToRoster] = useState(false);\n  const [createAssociatedGroup, setCreateAssociatedGroup] = useState(false);\n  const [associatedGroupName, setAssociatedGroupName] = useState(\"\");\n  const [groupNameDirty, setGroupNameDirty] = useState(false);\n\n  // --- Player Search State ---\n  const [selectedPlayerEmails, setSelectedPlayerEmails] = useState([]);\n  const [userSearchKey, setUserSearchKey] = useState(0);\n\n  // --- Request UI State ---\n  const [expandedRequestId, setExpandedRequestId] = useState(null);\n  const [expandedPlayerDetails, setExpandedPlayerDetails] = useState(null);\n  const [loadingDetails, setLoadingDetails] = useState(false);\n  const [requestToApprove, setRequestToApprove] = useState(null);\n  const [targetGroupId, setTargetGroupId] = useState(\"\");\n\n  // --- Group/Modal State ---\n  const [myGroups, setMyGroups] = useState([]);\n  const [showAddToGroupModal, setShowAddToGroupModal] = useState(false);\n  const [playerToAdd, setPlayerToAdd] = useState(null); \n  const [showConfirmAddModal, setShowConfirmAddModal] = useState(false);\n  const [manualAddTargetGroupId, setManualAddTargetGroupId] = useState(\"\");\n  \n  // NEW: State for the Add Player Modal\n  const [showAddPlayerModal, setShowAddPlayerModal] = useState(false);\n\n  // --- Data Loading ---\n  const loadRosters = useCallback(async () => {\n    setIsLoading(true);\n    const data = await fetchRosters();\n    setRosters(data);\n    setIsLoading(false);\n  }, [fetchRosters]);\n\n  const loadMyGroups = useCallback(async () => {\n      if (loggedInUser) {\n          const groups = await fetchUserGroups(loggedInUser.uid);\n          setMyGroups(groups);\n      }\n  }, [fetchUserGroups, loggedInUser]);\n\n  useEffect(() => {\n    loadRosters();\n    loadMyGroups(); \n    const unsubscribe = subscribeToIncomingRequests((requests) => {\n      setIncomingRequests(requests);\n    });\n    return () => { if (unsubscribe) unsubscribe(); };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  // Keep selected roster updated if underlying data changes\n  useEffect(() => {\n    if (selectedRoster) {\n      const updated = rosters.find(r => r.id === selectedRoster.id);\n      if (updated && updated !== selectedRoster) setSelectedRoster(updated);\n    }\n  }, [rosters, selectedRoster]);\n\n  // --- Handlers: Form Inputs ---\n  const handleRosterNameChange = (e) => {\n      const val = e.target.value;\n      setNewRosterName(val);\n      if (!groupNameDirty) {\n          setAssociatedGroupName(val);\n      }\n  };\n\n  const handleGroupNameChange = (e) => {\n      setAssociatedGroupName(e.target.value);\n      setGroupNameDirty(true);\n  };\n\n  // --- Handlers: Roster Actions ---\n  const handleCreateSubmit = async (e) => {\n    e.preventDefault();\n    if (!newRosterName || !newRosterSeason) { alert(\"Please fill in all fields\"); return; }\n    \n    const success = await createRoster(\n        newRosterName, newRosterSeason, newRosterCapacity, isDiscoverable,\n        { createGroup: createAssociatedGroup, groupName: associatedGroupName },\n        addManagerToRoster\n    );\n\n    if (success) {\n      alert(\"Roster created!\");\n      setShowCreateForm(false);\n      // Reset Form\n      setNewRosterName(\"\"); setNewRosterSeason(\"\"); setNewRosterCapacity(\"20\");\n      setIsDiscoverable(false); setAddManagerToRoster(false); setCreateAssociatedGroup(false);\n      setAssociatedGroupName(\"\"); setGroupNameDirty(false);\n      loadRosters(); loadMyGroups(); \n    }\n  };\n\n  const handleDeleteRoster = async (rosterId) => {\n    if (window.confirm(\"Delete this roster? This cannot be undone.\")) {\n      const success = await deleteRoster(rosterId);\n      if (success) loadRosters();\n    }\n  };\n\n  // --- Handlers: Player Actions ---\n  const handleRemovePlayer = async (playerSummary) => {\n    if (window.confirm(`Remove ${playerSummary.playerName} from this roster?`)) {\n      const success = await removePlayerFromRoster(selectedRoster.id, playerSummary);\n      if (success) loadRosters();\n    }\n  };\n\n  const initiateManualAdd = (e) => {\n      e.preventDefault();\n      if (selectedPlayerEmails.length === 0) return;\n      \n      // Default to associated group if exists\n      const associated = myGroups.find(g => g.associatedRosterId === selectedRoster.id);\n      setManualAddTargetGroupId(associated ? associated.id : \"\");\n      \n      // Close the selection modal and open the confirm modal\n      setShowAddPlayerModal(false); \n      setShowConfirmAddModal(true);\n  };\n\n  const executeManualAdd = async () => {\n      for (const email of selectedPlayerEmails) {\n          await addPlayerToRoster(selectedRoster.id, email);\n      }\n      if (manualAddTargetGroupId) {\n          await addGroupMembers(manualAddTargetGroupId, selectedPlayerEmails);\n      }\n      alert(\"Players added successfully!\");\n      setSelectedPlayerEmails([]);\n      setUserSearchKey(prev => prev + 1); // Force clear UserSearch component\n      setShowConfirmAddModal(false);\n      setManualAddTargetGroupId(\"\");\n      loadRosters();\n  };\n\n  const openAddToGroupModal = (player) => {\n      setPlayerToAdd(player);\n      setShowAddToGroupModal(true);\n  };\n\n  const confirmAddToGroup = async (groupId) => {\n      if (!playerToAdd) return;\n      const success = await addGroupMembers(groupId, [playerToAdd.email]);\n      if (success) {\n          alert(`${playerToAdd.playerName} added to group!`);\n          setShowAddToGroupModal(false);\n          setPlayerToAdd(null);\n      }\n  };\n\n  // --- Handlers: Requests ---\n  const initiateApproval = (req) => {\n      setRequestToApprove(req);\n      const associated = myGroups.find(g => g.associatedRosterId === req.rosterId);\n      setTargetGroupId(associated ? associated.id : \"\");\n  };\n\n  const confirmApproval = async () => {\n      if (!requestToApprove) return;\n      await respondToRequest(requestToApprove, 'approve', targetGroupId || null);\n      loadRosters(); \n      setRequestToApprove(null);\n      setTargetGroupId(\"\");\n  };\n\n  const handleDenyRequest = async (request) => {\n     if (window.confirm(`Deny request from ${request.userName}?`)) {\n         await respondToRequest(request, 'deny');\n     }\n  };\n\n  const toggleRequestDetails = async (req) => {\n      if (expandedRequestId === req.id) {\n          setExpandedRequestId(null); setExpandedPlayerDetails(null); return;\n      }\n      setExpandedRequestId(req.id);\n      setLoadingDetails(true);\n      const details = await fetchPlayerDetails(req.userId);\n      setExpandedPlayerDetails(details);\n      setLoadingDetails(false);\n  };\n\n  // --- RENDER: Selected Roster Detail View ---\n  if (selectedRoster) {\n    return (\n      <div className=\"view-container\">\n        <Header \n          title={selectedRoster.name}\n          style={{ maxWidth: '1000px', margin: '0 auto' }}\n          // NEW: Actions now include Add Player + Back\n          actions={\n            <div style={{ display: 'flex', gap: '10px' }}>\n               <Button onClick={() => setShowAddPlayerModal(true)} style={{ padding: '6px 12px', fontSize: '14px' }}>\n                 + Add Player\n               </Button>\n               <Button onClick={() => setSelectedRoster(null)}OX variant=\"secondary\" style={{ padding: '6px 12px', fontSize: '14px' }}>\n                 Back\n               </Button>\n            </div>\n          }\n        />\n\n        <div className=\"view-content\">\n          <div style={{ maxWidth: '1000px', margin: '0 auto', textAlign: 'left' }}>\n            <p style={{ color: '#ccc', marginTop: 0 }}>\n              {selectedRoster.season} • {selectedRoster.players?.length || 0} / {selectedRoster.maxCapacity} Players\n              {selectedRoster.isDiscoverable && <span style={{ marginLeft: '10px', fontSize: '12px', backgroundColor: COLORS.success, padding: '2px 6px', borderRadius: '4px', color: 'white' }}>Discoverable</span>}\n            </p>\n\n            {/* UPDATED: Removed Grid Layout. Now a simple list. */}\n            <div style={{ marginTop: '30px' }}>\n                <h3 style={{ borderBottom: `1px solid ${COLORS.border}`, paddingBottom: '10px' }}>Roster</h3>\n                {(!selectedRoster.players || selectedRoster.players.length === 0) ? (\n                  <p style={{ fontStyle: 'italic', color: '#888' }}>No players yet.</p>\n                ) : (\n                  <div style={{ display: 'flex', flexDirection: 'column', gap: '10px' }}>\n                    {selectedRoster.players.map((player) => (\n                      <Card key={player.uid || player.email} style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', padding: '10px', marginBottom: 0 }}>\n                        <div>\n                          <span style={{ fontWeight: 'bold', display: 'block' }}>{player.playerName}</span>\n                          <span style={{ fontSize: '12px', color: '#aaa' }}>{player.email}</span>\n                        </div>\n                        <div style={{ display: 'flex', gap: '5px' }}>\n                            <Button variant=\"secondary\" onClick={() => openAddToGroupModal(player)} style={{ padding: '5px 10px', fontSize: '10px' }}>+ Group</Button>\n                            <Button variant=\"danger\" onClick={() => handleRemovePlayer(player)} style={{ padding: '5px 10px', fontSize: '12px' }}>Remove</Button>\n                        </div>\n                      </Card>\n                    ))}\n                  </div>\n                )}\n            </div>\n\n            {/* --- NEW: Add Player Modal --- */}\n            {showAddPlayerModal && (\n              <Modal \n                title=\"Add Players\" \n                onClose={() => setShowAddPlayerModal(false)}\n                actions={null} // Actions are handled inside the form\n              >\n                <div style={{ textAlign: 'left' }}>\n                  <p style={{ marginTop: 0, fontSize: '14px', marginBottom: '15px', color: '#ccc' }}>\n                    Search for users by name or email to add them to <strong>{selectedRoster.name}</strong>.\n                  </p>\n                  <form onSubmit={initiateManualAdd}>\n                    <div style={{ marginBottom: '20px' }}>\n                        <UserSearch key={userSearchKey} onSelectionChange={setSelectedPlayerEmails} />\n                    </div>\n                    <div style={{ display: 'flex', gap: '10px', justifyContent: 'flex-end' }}>\n                       <Button variant=\"secondary\" onClick={() => setShowAddPlayerModal(false)}>Cancel</Button>\n                       <Button type=\"submit\" disabled={selectedPlayerEmails.length === 0}>Continue</Button>\n                    </div>\n                  </form>\n                </div>\n              </Modal>\n            )}\n\n            {/* Modals for Roster View */}\n            {showConfirmAddModal && (\n                <Modal \n                  title=\"Confirm Add\" \n                  onClose={() => setShowConfirmAddModal(false)}\n                  actions={<Button onClick={executeManualAdd}>Add Players</Button>}\n                >\n                    <p style={{ color: '#ccc' }}>You are adding <strong>{selectedPlayerEmails.length}</strong> player(s) to <strong>{selectedRoster.name}</strong>.</p>\n                    <div style={{ marginBottom: '20px' }}>\n                        <label style={{ display: 'block', marginBottom: '10px', fontWeight: 'bold' }}>Add to Community Group (Optional):</label>\n                        <select value={manualAddTargetGroupId} onChange={(e) => setManualAddTargetGroupId(e.target.value)} style={{ width: '100%', padding: '10px', borderRadius: '5px' }}>\n                            <option value=\"\">-- No Group --</option>\n                            {myGroups.map(g => (<option key={g.id} value={g.id}>{g.name}</option>))}\n                        </select>\n                        <p style={{ fontSize: '11px', color: '#aaa', marginTop: '5px' }}>{manualAddTargetGroupId ? \"Players will also be added to this group.\" : \"Players will only be added to the roster.\"}</p>\n                    </div>\n                </Modal>\n            )}\n\n            {showAddToGroupModal && (\n                <Modal\n                  title={`Add ${playerToAdd?.playerName} to Group`}\n                  onClose={() => { setShowAddToGroupModal(false); setPlayerToAdd(null); }}\n                  actions={null} \n                >\n                    <p style={{ color: '#ccc' }}>Select a group to add this player to:</p>\n                    <div style={{ maxHeight: '200px', overflowY: 'auto', marginBottom: '20px', display: 'grid', gap: '10px' }}>\n                        {myGroups.length === 0 ? <p style={{ fontStyle: 'italic', color: '#aaa' }}>You don't manage any groups.</p> : myGroups.map(group => (\n                            <Card key={group.id} onClick={() => confirmAddToGroup(group.id)} hoverable>\n                                <strong>{group.name}</strong><br/>\n                                <span style={{ fontSize: '11px', color: '#aaa' }}>{group.memberDetails?.length || 0} Members</span>\n                            </Card>\n                        ))}\n                    </div>\n                </Modal>\n            )}\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  // --- RENDER: Main Dashboard List View ---\n  return (\n    <div className=\"view-container\">\n      <Header \n        title=\"Manager Dashboard\" \n        style={{ maxWidth: '1000px', margin: '0 auto' }}\n        actions={\n           <Button onClick={() => setShowCreateForm(!showCreateForm)} style={{ fontSize: '14px', padding: '5px 15px' }}>\n            {showCreateForm ? \"Cancel\" : \"+ Create Roster\"}\n          </Button>\n        }\n      />\n\n      <div className=\"view-content\">\n        <div style={{ maxWidth: '1000px', margin: '0 auto', textAlign: 'left' }}>\n          \n          {incomingRequests.length > 0 && (\n            <div style={{ marginTop: '10px', marginBottom: '40px' }}>\n                <h3 style={{ color: COLORS.primary }}>Incoming Join Requests</h3>\n                <div style={{ display: 'grid', gap: '10px' }}>\n                    {incomingRequests.map(req => (\n                        <Card key={req.id} style={{ border: `1px solid ${COLORS.primary}` }}>\n                            <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n                                <div>\n                                    <span style={{ fontWeight: 'bold' }}>{req.userName}</span>\n                                    <span style={{ color: '#aaa', margin: '0 10px' }}>wants to join</span>\n                                    <span style={{ fontWeight: 'bold', color: 'white' }}>{req.rosterName}</span>\n                                </div>\n                                <div style={{ display: 'flex', gap: '10px' }}>\n                                    <Button variant=\"secondary\" onClick={() => toggleRequestDetails(req)} style={{ padding: '5px 15px', fontSize: '12px' }}>{expandedRequestId === req.id ? \"Hide Details\" : \"View Profile\"}</Button>\n                                    <Button onClick={() => initiateApproval(req)} style={{ padding: '5px 15px', fontSize: '12px' }}>Approve</Button>\n                                    <Button variant=\"danger\" onClick={() => handleDenyRequest(req)} style={{ padding: '5px 15px', fontSize: '12px' }}>Deny</Button>\n                                </div>\n                            </div>\n                            {expandedRequestId === req.id && (\n                                <div style={{ marginTop: '15px', padding: '15px', backgroundColor: '#333', borderRadius: '5px', border: '1px solid #555' }}>\n                                    {loadingDetails ? <p style={{ fontStyle: 'italic', margin: 0 }}>Loading player details...</p> : expandedPlayerDetails ? (\n                                        <div style={{ fontSize: '14px' }}>\n                                            <div style={{ display: 'flex', gap: '15px', marginBottom: '10px' }}>\n                                                {/* REFACTORED: Using Avatar Component */}\n                                                <Avatar src={expandedPlayerDetails.photoURL} text={expandedPlayerDetails.playerName} size={50} />\n                                                <div>\n                                                    <strong>{expandedPlayerDetails.playerName}</strong>\n                                                    <div style={{ color: '#aaa' }}>{expandedPlayerDetails.email}</div>\n                                                    <div style={{ color: '#aaa' }}>{expandedPlayerDetails.phone}</div>\n                                                </div>\n                                            </div>\n                                            {expandedPlayerDetails.soccerDetails ? (\n                                                <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '10px' }}>\n                                                    <div><strong>Positions:</strong> {expandedPlayerDetails.soccerDetails.positions}</div>\n                                                    <div><strong>Skill Level:</strong> {expandedPlayerDetails.soccerDetails.skillLevel}</div>\n                                                    <div><strong>Experience:</strong> {expandedPlayerDetails.soccerDetails.yearsExperience}</div>\n                                                    <div><strong>Number:</strong> {expandedPlayerDetails.soccerDetails.playerNumber}</div>\n                                                </div>\n                                            ) : <p style={{ color: '#aaa', fontStyle: 'italic' }}>No soccer details available.</p>}\n                                            {expandedPlayerDetails.comments && <div style={{ marginTop: '10px', borderTop: '1px solid #444', paddingTop: '10px' }}><strong>About:</strong> {expandedPlayerDetails.comments}</div>}\n                                        </div>\n                                    ) : <p style={{ color: COLORS.danger }}>Failed to load details.</p>}\n                                </div>\n                            )}\n                        </Card>\n                    ))}\n                </div>\n            </div>\n          )}\n\n          {requestToApprove && (\n              <Modal \n                title=\"Confirm Approval\" \n                onClose={() => setRequestToApprove(null)}\n                actions={<Button onClick={confirmApproval}>Confirm</Button>}\n              >\n                  <p style={{ color: '#ccc' }}>You are approving <strong>{requestToApprove.userName}</strong> for <strong>{requestToApprove.rosterName}</strong>.</p>\n                  <div style={{ marginBottom: '20px' }}>\n                      <label style={{ display: 'block', marginBottom: '10px', fontWeight: 'bold' }}>Add to Community Group (Optional):</label>\n                      <select value={targetGroupId} onChange={(e) => setTargetGroupId(e.target.value)} style={{ width: '100%', padding: '10px', borderRadius: '5px' }}>\n                          <option value=\"\">-- No Group --</option>\n                          {myGroups.map(g => (<option key={g.id} value={g.id}>{g.name}</option>))}\n                      </select>\n                      <p style={{ fontSize: '11px', color: '#aaa', marginTop: '5px' }}>{targetGroupId ? \"User will be added to this group automatically.\" : \"User will only be added to the roster.\"}</p>\n                  </div>\n              </Modal>\n          )}\n\n          <div style={{ marginTop: '30px' }}>\n            <h3 style={{ marginTop: 0, marginBottom: '15px' }}>Current Rosters</h3>\n            \n            {showCreateForm && (\n              <Card style={{ marginBottom: '20px', border: `1px solid ${COLORS.primary}` }}>\n                <h4 style={{ marginTop: 0, color: 'white' }}>New Roster Details</h4>\n                <form onSubmit={handleCreateSubmit}>\n                    <div style={{ display: 'flex', gap: '15px', flexWrap: 'wrap' }}>\n                      <div style={{ flex: 1, minWidth: '200px' }}><Input label=\"Roster Name\" placeholder=\"e.g. The Gizmos\" value={newRosterName} onChange={handleRosterNameChange} /></div>\n                      <div style={{ flex: 1, minWidth: '150px' }}><Input label=\"Season\" placeholder=\"e.g. Fall 2025\" value={newRosterSeason} onChange={(e) => setNewRosterSeason(e.target.value)} /></div>\n                      <div style={{ width: '100px' }}><Input label=\"Capacity\" type=\"number\" value={newRosterCapacity} onChange={(e) => setNewRosterCapacity(e.target.value)} /></div>\n                    </div>\n                    <div style={{ marginBottom: '20px', display: 'flex', flexDirection: 'column', gap: '15px' }}>\n                        <div style={{ display: 'flex', alignItems: 'center', gap: '10px' }}>\n                            <input type=\"checkbox\" id=\"discoverableCheck\" checked={isDiscoverable} onChange={(e) => setIsDiscoverable(e.target.checked)} />\n                            <label htmlFor=\"discoverableCheck\">Make this team <strong>Discoverable</strong> in \"Find Teams\"</label>\n                        </div>\n                        <div style={{ display: 'flex', alignItems: 'center', gap: '10px' }}>\n                            <input type=\"checkbox\" id=\"createGroupCheck\" checked={createAssociatedGroup} onChange={(e) => setCreateAssociatedGroup(e.target.checked)} />\n                            <label htmlFor=\"createGroupCheck\">Create a new <strong>Community Group</strong> for this team</label>\n                        </div>\n                        <div style={{ display: 'flex', alignItems: 'center', gap: '10px' }}>\n                            <input type=\"checkbox\" id=\"addManagerCheck\" checked={addManagerToRoster} onChange={(e) => setAddManagerToRoster(e.target.checked)} />\n                            <label htmlFor=\"addManagerCheck\">Add <strong>Myself</strong> to this roster</label>\n                        </div>\n                    </div>\n                    {createAssociatedGroup && (\n                        <div style={{ marginBottom: '20px' }}>\n                            <Input label=\"Group Name\" placeholder=\"e.g. The Gizmos Community\" value={associatedGroupName} onChange={handleGroupNameChange} />\n                        </div>\n                    )}\n                    <Button type=\"submit\">Save Roster</Button>\n                </form>\n              </Card>\n            )}\n\n            {isLoading ? <p>Loading rosters...</p> : rosters.length === 0 ? <p style={{ color: '#aaa', fontStyle: 'italic' }}>No rosters found.</p> : (\n              <div style={{ display: 'grid', gap: '15px' }}>\n                {rosters.map(roster => (\n                  <Card key={roster.id} style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n                    <div>\n                      <h4 style={{ margin: 0, color: COLORS.primary }}>{roster.name}</h4>\n                      <p style={{ margin: '5px 0 0 0', fontSize: '14px', color: '#ccc' }}>\n                          {roster.season} • {roster.players?.length || 0} / {roster.maxCapacity} players \n                          {roster.isDiscoverable && <span style={{ marginLeft: '10px', fontSize: '10px', border: '1px solid #555', padding: '2px 4px', borderRadius: '3px' }}>Public</span>}\n                      </p>\n                    </div>\n                    <div style={{ display: 'flex', gap: '10px' }}>\n                      <Button variant=\"secondary\" onClick={() => setSelectedRoster(roster)} style={{ padding: '5px 15px', fontSize: '12px' }}>Manage</Button>\n                      <Button variant=\"danger\" onClick={() => handleDeleteRoster(roster.id)} style={{ padding: '5px 10px', fontSize: '12px' }}>Delete</Button>\n                    </div>\n                  </Card>\n                ))}\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n    </div> \n  );\n}\n\nexport default ManagerDashboard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}