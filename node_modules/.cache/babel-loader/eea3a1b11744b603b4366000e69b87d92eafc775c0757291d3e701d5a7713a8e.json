{"ast":null,"code":"import _objectSpread from\"/Users/dbroxton/Documents/Projects/soccer-management-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useRef}from'react';import{useAuth}from'../context/AuthContext';import{collection,query,orderBy,onSnapshot,limit,where,getDocs}from\"firebase/firestore\";import{db}from\"../firebase\";// --- INTERNAL COMPONENT: User Search & Select ---\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function UserSearch(_ref){let{onSelectionChange}=_ref;const[allUsers,setAllUsers]=useState([]);const[searchTerm,setSearchTerm]=useState(\"\");const[selectedUsers,setSelectedUsers]=useState([]);const[suggestions,setSuggestions]=useState([]);useEffect(()=>{const fetchAllUsers=async()=>{try{const querySnapshot=await getDocs(collection(db,\"users\"));const users=querySnapshot.docs.map(doc=>_objectSpread({uid:doc.id},doc.data()));setAllUsers(users);}catch(error){console.error(\"Error fetching users for search:\",error);}};fetchAllUsers();},[]);useEffect(()=>{if(searchTerm.trim()===\"\"){setSuggestions([]);return;}const lowerTerm=searchTerm.toLowerCase();const filtered=allUsers.filter(user=>user.playerName&&user.playerName.toLowerCase().includes(lowerTerm)||user.email&&user.email.toLowerCase().includes(lowerTerm)).filter(user=>!selectedUsers.find(s=>s.uid===user.uid));setSuggestions(filtered.slice(0,5));},[searchTerm,allUsers,selectedUsers]);const addUser=user=>{const newSelection=[...selectedUsers,user];setSelectedUsers(newSelection);onSelectionChange(newSelection.map(u=>u.email));setSearchTerm(\"\");setSuggestions([]);};const removeUser=userToRemove=>{const newSelection=selectedUsers.filter(u=>u.uid!==userToRemove.uid);setSelectedUsers(newSelection);onSelectionChange(newSelection.map(u=>u.email));};return/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'15px'},children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'5px',color:'white'},children:\"Add People:\"}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',flexWrap:'wrap',gap:'5px',marginBottom:'5px'},children:selectedUsers.map(user=>/*#__PURE__*/_jsxs(\"span\",{style:{backgroundColor:'#0078d4',color:'white',padding:'4px 8px',borderRadius:'15px',fontSize:'12px',display:'flex',alignItems:'center',gap:'5px'},children:[user.playerName||user.email,/*#__PURE__*/_jsx(\"button\",{onClick:()=>removeUser(user),style:{background:'none',border:'none',color:'white',cursor:'pointer',fontWeight:'bold'},children:\"\\u2715\"})]},user.uid))}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value),placeholder:\"Search by name or email...\",style:{width:'100%',padding:'8px',backgroundColor:'#3a3f4a',border:'none',color:'white'}}),suggestions.length>0&&/*#__PURE__*/_jsx(\"div\",{style:{backgroundColor:'#222',border:'1px solid #444',borderRadius:'4px',position:'absolute',width:'80%',zIndex:10,maxHeight:'150px',overflowY:'auto'},children:suggestions.map(user=>/*#__PURE__*/_jsxs(\"div\",{onClick:()=>addUser(user),style:{padding:'8px',borderBottom:'1px solid #333',cursor:'pointer',color:'white'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:'bold'},children:user.playerName}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'12px',color:'#aaa'},children:user.email})]},user.uid))})]});}function TeamChat(){var _selectedChat$partici;const{sendMessage,createChat,loggedInUser}=useAuth();// Data State\nconst[myChats,setMyChats]=useState([]);const[selectedChat,setSelectedChat]=useState(null);const[messages,setMessages]=useState([]);const[newMessage,setNewMessage]=useState(\"\");// New Chat Modal State\nconst[showNewChatModal,setShowNewChatModal]=useState(false);const[selectedEmails,setSelectedEmails]=useState([]);const[newChatName,setNewChatName]=useState(\"\");const messagesEndRef=useRef(null);// --- NEW: Real-Time Listener for My Chats ---\nuseEffect(()=>{if(!loggedInUser)return;// Query: chats where 'participants' array contains my UID\nconst chatsRef=collection(db,\"chats\");const q=query(chatsRef,where(\"participants\",\"array-contains\",loggedInUser.uid),orderBy(\"lastMessageTime\",\"desc\"));const unsubscribe=onSnapshot(q,snapshot=>{const chats=snapshot.docs.map(doc=>_objectSpread({id:doc.id},doc.data()));setMyChats(chats);},error=>{console.error(\"Error listening to chats:\",error);});return()=>unsubscribe();},[loggedInUser]);// 2. LISTEN for messages when a chat is selected (Unchanged)\nuseEffect(()=>{if(!selectedChat)return;const messagesRef=collection(db,\"chats\",selectedChat.id,\"messages\");const q=query(messagesRef,orderBy(\"createdAt\",\"asc\"),limit(50));const unsubscribe=onSnapshot(q,snapshot=>{const msgs=snapshot.docs.map(doc=>_objectSpread({id:doc.id},doc.data()));setMessages(msgs);scrollToBottom();});return()=>unsubscribe();},[selectedChat]);const scrollToBottom=()=>{setTimeout(()=>{var _messagesEndRef$curre;(_messagesEndRef$curre=messagesEndRef.current)===null||_messagesEndRef$curre===void 0?void 0:_messagesEndRef$curre.scrollIntoView({behavior:\"smooth\"});},100);};const handleSend=async e=>{e.preventDefault();if(!newMessage.trim()||!selectedChat)return;const text=newMessage;setNewMessage(\"\");await sendMessage(selectedChat.id,text);// No need to call loadChats(), the snapshot listener handles it!\n};const handleCreateChat=async e=>{e.preventDefault();if(selectedEmails.length===0){alert(\"Please select at least one person.\");return;}const success=await createChat(selectedEmails,newChatName);if(success){// alert(\"Chat created!\"); // Optional: removed to make it smoother\nsetShowNewChatModal(false);setSelectedEmails([]);setNewChatName(\"\");// No need to call loadChats()\n}};return/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',height:'calc(100vh - 100px)',maxWidth:'1000px',border:'1px solid #444',borderRadius:'8px',overflow:'hidden'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{width:'30%',backgroundColor:'#282c34',borderRight:'1px solid #444',display:'flex',flexDirection:'column'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{padding:'15px',borderBottom:'1px solid #444',display:'flex',justifyContent:'space-between',alignItems:'center'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{margin:0},children:\"Messages\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowNewChatModal(true),style:{background:'none',border:'none',color:'#61dafb',fontSize:'24px',cursor:'pointer'},children:\"+\"})]}),/*#__PURE__*/_jsx(\"div\",{style:{overflowY:'auto',flex:1},children:myChats.length===0?/*#__PURE__*/_jsx(\"p\",{style:{padding:'20px',color:'#888',fontSize:'14px',textAlign:'center'},children:\"No conversations yet.\"}):myChats.map(chat=>/*#__PURE__*/_jsxs(\"div\",{onClick:()=>setSelectedChat(chat),style:{padding:'15px',cursor:'pointer',backgroundColor:(selectedChat===null||selectedChat===void 0?void 0:selectedChat.id)===chat.id?'#3a3f4a':'transparent',borderBottom:'1px solid #333'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:'bold',color:'white'},children:chat.name||\"Chat\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'12px',color:'#aaa',whiteSpace:'nowrap',overflow:'hidden',textOverflow:'ellipsis'},children:chat.lastMessage})]},chat.id))})]}),/*#__PURE__*/_jsx(\"div\",{style:{flex:1,display:'flex',flexDirection:'column',backgroundColor:'#1c1e22'},children:selectedChat?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{style:{padding:'15px',borderBottom:'1px solid #444',backgroundColor:'#282c34'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{margin:0},children:selectedChat.name}),/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'12px',color:'#888'},children:(_selectedChat$partici=selectedChat.participantDetails)===null||_selectedChat$partici===void 0?void 0:_selectedChat$partici.map(p=>p.name).join(', ')})]}),/*#__PURE__*/_jsxs(\"div\",{style:{flex:1,padding:'20px',overflowY:'auto',display:'flex',flexDirection:'column',gap:'10px'},children:[messages.map(msg=>{const isMe=msg.senderId===loggedInUser.uid;return/*#__PURE__*/_jsxs(\"div\",{style:{alignSelf:isMe?'flex-end':'flex-start',maxWidth:'70%'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'10px',color:'#888',marginBottom:'2px',textAlign:isMe?'right':'left'},children:isMe?'Me':msg.senderName}),/*#__PURE__*/_jsx(\"div\",{style:{backgroundColor:isMe?'#0078d4':'#3a3f4a',color:'white',padding:'10px 15px',borderRadius:'15px',borderTopRightRadius:isMe?'2px':'15px',borderTopLeftRadius:isMe?'15px':'2px'},children:msg.text})]},msg.id);}),/*#__PURE__*/_jsx(\"div\",{ref:messagesEndRef})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSend,style:{padding:'15px',backgroundColor:'#282c34',borderTop:'1px solid #444',display:'flex',gap:'10px'},children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Type a message...\",value:newMessage,onChange:e=>setNewMessage(e.target.value),style:{flex:1,padding:'12px',borderRadius:'20px',border:'none',backgroundColor:'#3a3f4a',color:'white'}}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",style:{padding:'10px 20px',borderRadius:'20px',border:'none',backgroundColor:'#61dafb',color:'#000',fontWeight:'bold',cursor:'pointer'},children:\"Send\"})]})]}):/*#__PURE__*/_jsx(\"div\",{style:{flex:1,display:'flex',justifyContent:'center',alignItems:'center',color:'#888'},children:\"Select a conversation to start chatting.\"})}),showNewChatModal&&/*#__PURE__*/_jsx(\"div\",{style:{position:'fixed',top:0,left:0,width:'100%',height:'100%',backgroundColor:'rgba(0, 0, 0, 0.7)',display:'flex',justifyContent:'center',alignItems:'center',zIndex:1000},children:/*#__PURE__*/_jsxs(\"div\",{style:{backgroundColor:'#282c34',padding:'30px',borderRadius:'8px',width:'400px',border:'1px solid #61dafb',position:'relative'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{marginTop:0,color:'white'},children:\"Start New Chat\"}),/*#__PURE__*/_jsxs(\"label\",{style:{display:'block',marginBottom:'10px',color:'white'},children:[\"Chat Name (Optional):\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newChatName,onChange:e=>setNewChatName(e.target.value),placeholder:\"e.g. Defenders Group\",style:{width:'100%',padding:'8px',marginTop:'5px',backgroundColor:'#3a3f4a',border:'none',color:'white'}})]}),/*#__PURE__*/_jsx(UserSearch,{onSelectionChange:setSelectedEmails}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'10px',marginTop:'20px'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleCreateChat,style:{flex:1,padding:'10px',backgroundColor:'#61dafb',border:'none',cursor:'pointer',fontWeight:'bold'},children:\"Start Chat\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowNewChatModal(false),style:{flex:1,padding:'10px',backgroundColor:'#555',border:'none',color:'white',cursor:'pointer'},children:\"Cancel\"})]})]})})]});}export default TeamChat;","map":{"version":3,"names":["React","useState","useEffect","useRef","useAuth","collection","query","orderBy","onSnapshot","limit","where","getDocs","db","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","UserSearch","_ref","onSelectionChange","allUsers","setAllUsers","searchTerm","setSearchTerm","selectedUsers","setSelectedUsers","suggestions","setSuggestions","fetchAllUsers","querySnapshot","users","docs","map","doc","_objectSpread","uid","id","data","error","console","trim","lowerTerm","toLowerCase","filtered","filter","user","playerName","includes","email","find","s","slice","addUser","newSelection","u","removeUser","userToRemove","style","marginBottom","children","display","color","flexWrap","gap","backgroundColor","padding","borderRadius","fontSize","alignItems","onClick","background","border","cursor","fontWeight","type","value","onChange","e","target","placeholder","width","length","position","zIndex","maxHeight","overflowY","borderBottom","TeamChat","_selectedChat$partici","sendMessage","createChat","loggedInUser","myChats","setMyChats","selectedChat","setSelectedChat","messages","setMessages","newMessage","setNewMessage","showNewChatModal","setShowNewChatModal","selectedEmails","setSelectedEmails","newChatName","setNewChatName","messagesEndRef","chatsRef","q","unsubscribe","snapshot","chats","messagesRef","msgs","scrollToBottom","setTimeout","_messagesEndRef$curre","current","scrollIntoView","behavior","handleSend","preventDefault","text","handleCreateChat","alert","success","height","maxWidth","overflow","borderRight","flexDirection","justifyContent","margin","flex","textAlign","chat","name","whiteSpace","textOverflow","lastMessage","participantDetails","p","join","msg","isMe","senderId","alignSelf","senderName","borderTopRightRadius","borderTopLeftRadius","ref","onSubmit","borderTop","top","left","marginTop"],"sources":["/Users/dbroxton/Documents/Projects/soccer-management-app/src/components/TeamChat.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { useAuth } from '../context/AuthContext';\nimport { collection, query, orderBy, onSnapshot, limit, where, getDocs } from \"firebase/firestore\";\nimport { db } from \"../firebase\";\n\n// --- INTERNAL COMPONENT: User Search & Select ---\nfunction UserSearch({ onSelectionChange }) {\n  const [allUsers, setAllUsers] = useState([]);\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [selectedUsers, setSelectedUsers] = useState([]);\n  const [suggestions, setSuggestions] = useState([]);\n\n  useEffect(() => {\n    const fetchAllUsers = async () => {\n      try {\n        const querySnapshot = await getDocs(collection(db, \"users\"));\n        const users = querySnapshot.docs.map(doc => ({\n          uid: doc.id,\n          ...doc.data()\n        }));\n        setAllUsers(users);\n      } catch (error) {\n        console.error(\"Error fetching users for search:\", error);\n      }\n    };\n    fetchAllUsers();\n  }, []);\n\n  useEffect(() => {\n    if (searchTerm.trim() === \"\") {\n      setSuggestions([]);\n      return;\n    }\n    \n    const lowerTerm = searchTerm.toLowerCase();\n    const filtered = allUsers.filter(user => \n      (user.playerName && user.playerName.toLowerCase().includes(lowerTerm)) ||\n      (user.email && user.email.toLowerCase().includes(lowerTerm))\n    ).filter(user => \n      !selectedUsers.find(s => s.uid === user.uid)\n    );\n\n    setSuggestions(filtered.slice(0, 5));\n  }, [searchTerm, allUsers, selectedUsers]);\n\n  const addUser = (user) => {\n    const newSelection = [...selectedUsers, user];\n    setSelectedUsers(newSelection);\n    onSelectionChange(newSelection.map(u => u.email));\n    setSearchTerm(\"\");\n    setSuggestions([]);\n  };\n\n  const removeUser = (userToRemove) => {\n    const newSelection = selectedUsers.filter(u => u.uid !== userToRemove.uid);\n    setSelectedUsers(newSelection);\n    onSelectionChange(newSelection.map(u => u.email));\n  };\n\n  return (\n    <div style={{ marginBottom: '15px' }}>\n      <label style={{ display: 'block', marginBottom: '5px', color: 'white' }}>\n        Add People:\n      </label>\n      \n      <div style={{ display: 'flex', flexWrap: 'wrap', gap: '5px', marginBottom: '5px' }}>\n        {selectedUsers.map(user => (\n          <span key={user.uid} style={{\n            backgroundColor: '#0078d4', color: 'white', padding: '4px 8px',\n            borderRadius: '15px', fontSize: '12px', display: 'flex', alignItems: 'center', gap: '5px'\n          }}>\n            {user.playerName || user.email}\n            <button \n              onClick={() => removeUser(user)}\n              style={{ background: 'none', border: 'none', color: 'white', cursor: 'pointer', fontWeight: 'bold' }}\n            >\n              âœ•\n            </button>\n          </span>\n        ))}\n      </div>\n\n      <input \n        type=\"text\" \n        value={searchTerm}\n        onChange={(e) => setSearchTerm(e.target.value)}\n        placeholder=\"Search by name or email...\"\n        style={{ width: '100%', padding: '8px', backgroundColor: '#3a3f4a', border: 'none', color: 'white' }}\n      />\n\n      {suggestions.length > 0 && (\n        <div style={{\n          backgroundColor: '#222', border: '1px solid #444', borderRadius: '4px',\n          position: 'absolute', width: '80%', zIndex: 10, maxHeight: '150px', overflowY: 'auto'\n        }}>\n          {suggestions.map(user => (\n            <div \n              key={user.uid}\n              onClick={() => addUser(user)}\n              style={{ padding: '8px', borderBottom: '1px solid #333', cursor: 'pointer', color: 'white' }}\n            >\n              <div style={{ fontWeight: 'bold' }}>{user.playerName}</div>\n              <div style={{ fontSize: '12px', color: '#aaa' }}>{user.email}</div>\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n}\n\n\nfunction TeamChat() {\n  const { sendMessage, createChat, loggedInUser } = useAuth();\n  \n  // Data State\n  const [myChats, setMyChats] = useState([]);\n  const [selectedChat, setSelectedChat] = useState(null);\n  const [messages, setMessages] = useState([]);\n  const [newMessage, setNewMessage] = useState(\"\");\n  \n  // New Chat Modal State\n  const [showNewChatModal, setShowNewChatModal] = useState(false);\n  const [selectedEmails, setSelectedEmails] = useState([]); \n  const [newChatName, setNewChatName] = useState(\"\");\n\n  const messagesEndRef = useRef(null);\n\n  // --- NEW: Real-Time Listener for My Chats ---\n  useEffect(() => {\n    if (!loggedInUser) return;\n\n    // Query: chats where 'participants' array contains my UID\n    const chatsRef = collection(db, \"chats\");\n    const q = query(\n      chatsRef, \n      where(\"participants\", \"array-contains\", loggedInUser.uid), \n      orderBy(\"lastMessageTime\", \"desc\")\n    );\n\n    const unsubscribe = onSnapshot(q, (snapshot) => {\n      const chats = snapshot.docs.map(doc => ({\n        id: doc.id,\n        ...doc.data()\n      }));\n      setMyChats(chats);\n    }, (error) => {\n      console.error(\"Error listening to chats:\", error);\n    });\n\n    return () => unsubscribe();\n  }, [loggedInUser]);\n\n\n  // 2. LISTEN for messages when a chat is selected (Unchanged)\n  useEffect(() => {\n    if (!selectedChat) return;\n\n    const messagesRef = collection(db, \"chats\", selectedChat.id, \"messages\");\n    const q = query(messagesRef, orderBy(\"createdAt\", \"asc\"), limit(50));\n\n    const unsubscribe = onSnapshot(q, (snapshot) => {\n      const msgs = snapshot.docs.map(doc => ({\n        id: doc.id,\n        ...doc.data()\n      }));\n      setMessages(msgs);\n      scrollToBottom();\n    });\n\n    return () => unsubscribe();\n  }, [selectedChat]);\n\n  const scrollToBottom = () => {\n    setTimeout(() => {\n      messagesEndRef.current?.scrollIntoView({ behavior: \"smooth\" });\n    }, 100);\n  };\n\n  const handleSend = async (e) => {\n    e.preventDefault();\n    if (!newMessage.trim() || !selectedChat) return;\n\n    const text = newMessage;\n    setNewMessage(\"\"); \n    await sendMessage(selectedChat.id, text);\n    // No need to call loadChats(), the snapshot listener handles it!\n  };\n\n  const handleCreateChat = async (e) => {\n    e.preventDefault();\n    if (selectedEmails.length === 0) {\n      alert(\"Please select at least one person.\");\n      return;\n    }\n\n    const success = await createChat(selectedEmails, newChatName);\n    if (success) {\n      // alert(\"Chat created!\"); // Optional: removed to make it smoother\n      setShowNewChatModal(false);\n      setSelectedEmails([]);\n      setNewChatName(\"\");\n      // No need to call loadChats()\n    }\n  };\n\n  return (\n    <div style={{ display: 'flex', height: 'calc(100vh - 100px)', maxWidth: '1000px', border: '1px solid #444', borderRadius: '8px', overflow: 'hidden' }}>\n      \n      {/* --- LEFT SIDE: Chat List --- */}\n      <div style={{ width: '30%', backgroundColor: '#282c34', borderRight: '1px solid #444', display: 'flex', flexDirection: 'column' }}>\n        <div style={{ padding: '15px', borderBottom: '1px solid #444', display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n          <h3 style={{ margin: 0 }}>Messages</h3>\n          <button \n            onClick={() => setShowNewChatModal(true)}\n            style={{ background: 'none', border: 'none', color: '#61dafb', fontSize: '24px', cursor: 'pointer' }}\n          >\n            +\n          </button>\n        </div>\n        \n        <div style={{ overflowY: 'auto', flex: 1 }}>\n          {myChats.length === 0 ? (\n            <p style={{ padding: '20px', color: '#888', fontSize: '14px', textAlign: 'center' }}>No conversations yet.</p>\n          ) : (\n            myChats.map(chat => (\n              <div \n                key={chat.id} \n                onClick={() => setSelectedChat(chat)}\n                style={{ \n                  padding: '15px', \n                  cursor: 'pointer', \n                  backgroundColor: selectedChat?.id === chat.id ? '#3a3f4a' : 'transparent',\n                  borderBottom: '1px solid #333'\n                }}\n              >\n                <div style={{ fontWeight: 'bold', color: 'white' }}>{chat.name || \"Chat\"}</div>\n                <div style={{ fontSize: '12px', color: '#aaa', whiteSpace: 'nowrap', overflow: 'hidden', textOverflow: 'ellipsis' }}>\n                  {chat.lastMessage}\n                </div>\n              </div>\n            ))\n          )}\n        </div>\n      </div>\n\n      {/* --- RIGHT SIDE: Chat Window --- */}\n      <div style={{ flex: 1, display: 'flex', flexDirection: 'column', backgroundColor: '#1c1e22' }}>\n        {selectedChat ? (\n          <>\n            <div style={{ padding: '15px', borderBottom: '1px solid #444', backgroundColor: '#282c34' }}>\n              <h3 style={{ margin: 0 }}>{selectedChat.name}</h3>\n              <span style={{ fontSize: '12px', color: '#888' }}>\n                {selectedChat.participantDetails?.map(p => p.name).join(', ')}\n              </span>\n            </div>\n\n            <div style={{ flex: 1, padding: '20px', overflowY: 'auto', display: 'flex', flexDirection: 'column', gap: '10px' }}>\n              {messages.map(msg => {\n                const isMe = msg.senderId === loggedInUser.uid;\n                return (\n                  <div key={msg.id} style={{\n                    alignSelf: isMe ? 'flex-end' : 'flex-start',\n                    maxWidth: '70%',\n                  }}>\n                    <div style={{ fontSize: '10px', color: '#888', marginBottom: '2px', textAlign: isMe ? 'right' : 'left' }}>\n                      {isMe ? 'Me' : msg.senderName}\n                    </div>\n                    <div style={{\n                      backgroundColor: isMe ? '#0078d4' : '#3a3f4a',\n                      color: 'white',\n                      padding: '10px 15px',\n                      borderRadius: '15px',\n                      borderTopRightRadius: isMe ? '2px' : '15px',\n                      borderTopLeftRadius: isMe ? '15px' : '2px'\n                    }}>\n                      {msg.text}\n                    </div>\n                  </div>\n                );\n              })}\n              <div ref={messagesEndRef} />\n            </div>\n\n            <form onSubmit={handleSend} style={{ padding: '15px', backgroundColor: '#282c34', borderTop: '1px solid #444', display: 'flex', gap: '10px' }}>\n              <input \n                type=\"text\" \n                placeholder=\"Type a message...\" \n                value={newMessage}\n                onChange={(e) => setNewMessage(e.target.value)}\n                style={{ flex: 1, padding: '12px', borderRadius: '20px', border: 'none', backgroundColor: '#3a3f4a', color: 'white' }}\n              />\n              <button type=\"submit\" style={{ \n                padding: '10px 20px', borderRadius: '20px', border: 'none', \n                backgroundColor: '#61dafb', color: '#000', fontWeight: 'bold', cursor: 'pointer'\n              }}>\n                Send\n              </button>\n            </form>\n          </>\n        ) : (\n          <div style={{ flex: 1, display: 'flex', justifyContent: 'center', alignItems: 'center', color: '#888' }}>\n            Select a conversation to start chatting.\n          </div>\n        )}\n      </div>\n\n      {/* --- NEW CHAT MODAL --- */}\n      {showNewChatModal && (\n        <div style={{\n          position: 'fixed', top: 0, left: 0, width: '100%', height: '100%',\n          backgroundColor: 'rgba(0, 0, 0, 0.7)',\n          display: 'flex', justifyContent: 'center', alignItems: 'center', zIndex: 1000\n        }}>\n          <div style={{ backgroundColor: '#282c34', padding: '30px', borderRadius: '8px', width: '400px', border: '1px solid #61dafb', position: 'relative' }}>\n            <h3 style={{ marginTop: 0, color: 'white' }}>Start New Chat</h3>\n            \n            <label style={{ display: 'block', marginBottom: '10px', color: 'white' }}>\n              Chat Name (Optional):\n              <input \n                type=\"text\" \n                value={newChatName}\n                onChange={(e) => setNewChatName(e.target.value)}\n                placeholder=\"e.g. Defenders Group\"\n                style={{ width: '100%', padding: '8px', marginTop: '5px', backgroundColor: '#3a3f4a', border: 'none', color: 'white' }}\n              />\n            </label>\n\n            {/* UserSearch Component */}\n            <UserSearch onSelectionChange={setSelectedEmails} />\n\n            <div style={{ display: 'flex', gap: '10px', marginTop: '20px' }}>\n              <button onClick={handleCreateChat} style={{ flex: 1, padding: '10px', backgroundColor: '#61dafb', border: 'none', cursor: 'pointer', fontWeight: 'bold' }}>\n                Start Chat\n              </button>\n              <button onClick={() => setShowNewChatModal(false)} style={{ flex: 1, padding: '10px', backgroundColor: '#555', border: 'none', color: 'white', cursor: 'pointer' }}>\n                Cancel\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n    </div>\n  );\n}\n\nexport default TeamChat;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}