{"ast":null,"code":"import React,{useState,useEffect,useRef}from'react';import{SquarePen,MoreVertical}from'lucide-react';import{COLORS}from'../../constants';import{useAuth}from'../../context/AuthContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ChatList=_ref=>{let{myChats,selectedChat,onSelectChat,onStartNewChat,onDeleteChat,userProfiles,isMobile}=_ref;const{loggedInUser}=useAuth();const[activeChatMenu,setActiveChatMenu]=useState(null);const menuRef=useRef(null);// Close menu when clicking outside\nuseEffect(()=>{const handleClickOutside=event=>{if(menuRef.current&&!menuRef.current.contains(event.target)){setActiveChatMenu(null);}};document.addEventListener(\"mousedown\",handleClickOutside);return()=>document.removeEventListener(\"mousedown\",handleClickOutside);},[]);const formatTime=timestamp=>{if(!timestamp)return\"\";const date=timestamp.toDate?timestamp.toDate():new Date(timestamp);const now=new Date();const isToday=date.toDateString()===now.toDateString();if(isToday){return date.toLocaleTimeString([],{hour:'2-digit',minute:'2-digit'});}else{return date.toLocaleDateString([],{month:'numeric',day:'numeric'});}};return/*#__PURE__*/_jsxs(\"div\",{style:{width:isMobile?'100%':'30%',minWidth:isMobile?'100%':'300px',backgroundColor:COLORS.background,borderRight:isMobile?'none':\"1px solid \".concat(COLORS.border),display:'flex',flexDirection:'column',height:'100%',position:'relative',zIndex:1},children:[/*#__PURE__*/_jsxs(\"div\",{style:{padding:'15px',borderBottom:\"1px solid \".concat(COLORS.border),display:'flex',justifyContent:'space-between',alignItems:'center',height:'60px',boxSizing:'border-box',backgroundColor:COLORS.background,zIndex:10},children:[/*#__PURE__*/_jsx(\"h2\",{style:{margin:0,fontSize:'22px',fontWeight:'bold'},children:\"Chats\"}),/*#__PURE__*/_jsx(\"button\",{onClick:onStartNewChat,style:{background:'none',border:'none',color:COLORS.primary,cursor:'pointer'},title:\"Start New Chat\",children:/*#__PURE__*/_jsx(SquarePen,{size:24})})]}),/*#__PURE__*/_jsx(\"div\",{style:{overflowY:'auto',flex:1},children:myChats.length===0?/*#__PURE__*/_jsx(\"p\",{style:{padding:'20px',color:'#888',textAlign:'center'},children:\"No conversations yet.\"}):myChats.map(chat=>{// --- Data Prep ---\nconst isDM=chat.type==='dm'||chat.participants&&chat.participants.length===2&&chat.type!=='roster';let displayTitle=chat.name||\"Chat\";let iconImage=null;if(chat.type==='roster'){displayTitle=\"\\u26BD \".concat(chat.name);}else if(isDM){var _chat$participantDeta;const otherUser=(_chat$participantDeta=chat.participantDetails)===null||_chat$participantDeta===void 0?void 0:_chat$participantDeta.find(p=>p.uid!==loggedInUser.uid);if(otherUser){const freshUser=userProfiles[otherUser.uid];displayTitle=freshUser?freshUser.playerName||otherUser.name:otherUser.name;iconImage=freshUser?freshUser.photoURL:otherUser.photoURL;}}const firstLetter=displayTitle.replace(/[^a-zA-Z0-9]/g,'').charAt(0).toUpperCase()||\"?\";const unreadCount=chat.unreadCounts&&chat.unreadCounts[loggedInUser.uid]||0;const hasUnread=unreadCount>0;const timeDisplay=formatTime(chat.lastMessageTime);return/*#__PURE__*/_jsxs(\"div\",{onClick:()=>onSelectChat(chat),style:{width:'100%',height:'90px',cursor:'pointer',backgroundColor:(selectedChat===null||selectedChat===void 0?void 0:selectedChat.id)===chat.id?'#3a3f4a':'transparent',borderBottom:\"1px solid \".concat(COLORS.border),display:'flex',boxSizing:'border-box',position:'relative'},children:[/*#__PURE__*/_jsx(\"div\",{style:{width:'20%',height:'100%',display:'flex',justifyContent:'center',alignItems:'center'},children:/*#__PURE__*/_jsx(\"div\",{style:{width:'50px',height:'50px',borderRadius:'50%',backgroundColor:'#444',display:'flex',justifyContent:'center',alignItems:'center',border:'1px solid #555',color:'#eee',fontWeight:'bold',fontSize:'20px',overflow:'hidden'},children:iconImage?/*#__PURE__*/_jsx(\"img\",{src:iconImage,alt:\"User\",style:{width:'100%',height:'100%',objectFit:'cover'}}):/*#__PURE__*/_jsx(\"span\",{children:firstLetter})})}),/*#__PURE__*/_jsxs(\"div\",{style:{width:'60%',height:'100%',display:'flex',flexDirection:'column'},children:[/*#__PURE__*/_jsx(\"div\",{style:{height:'5%',width:'100%'}}),/*#__PURE__*/_jsxs(\"div\",{style:{height:'40%',display:'flex',alignItems:'center',justifyContent:'center',position:'relative',width:'100%'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:hasUnread?'bold':'600',color:'white',fontSize:'16px',whiteSpace:'nowrap',overflow:'hidden',textOverflow:'ellipsis',textAlign:'center',maxWidth:hasUnread?'calc(100% - 40px)':'100%'},children:displayTitle}),hasUnread&&/*#__PURE__*/_jsx(\"div\",{style:{position:'absolute',right:'0',top:'50%',transform:'translateY(-50%)',backgroundColor:COLORS.primary,color:'#000',borderRadius:'10px',padding:'2px 6px',fontSize:'10px',fontWeight:'bold',whiteSpace:'nowrap'},children:unreadCount>99?'99+':unreadCount})]}),/*#__PURE__*/_jsx(\"div\",{style:{height:'50%',display:'flex',alignItems:'center',justifyContent:'center'},children:/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'13px',color:hasUnread?'#ddd':'#aaa',lineHeight:'1.2em',maxHeight:'2.4em',overflow:'hidden',textAlign:'center',display:'-webkit-box',WebkitLineClamp:2,WebkitBoxOrient:'vertical',wordBreak:'break-word'},children:chat.lastMessage||\"No messages yet\"})}),/*#__PURE__*/_jsx(\"div\",{style:{height:'5%',width:'100%'}})]}),/*#__PURE__*/_jsxs(\"div\",{style:{width:'20%',height:'100%',display:'flex',flexDirection:'column'},children:[/*#__PURE__*/_jsx(\"div\",{style:{height:'5%',width:'100%'}}),/*#__PURE__*/_jsx(\"div\",{style:{height:'40%',display:'flex',alignItems:'center',justifyContent:'center'},children:/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'11px',color:hasUnread?COLORS.primary:'#888',whiteSpace:'nowrap'},children:timeDisplay})}),/*#__PURE__*/_jsx(\"div\",{style:{height:'50%',display:'flex',alignItems:'center',justifyContent:'center'},children:/*#__PURE__*/_jsx(\"button\",{onClick:e=>{e.stopPropagation();setActiveChatMenu(activeChatMenu===chat.id?null:chat.id);},style:{background:'none',border:'none',color:'#666',cursor:'pointer',padding:'5px'},children:/*#__PURE__*/_jsx(MoreVertical,{size:18})})}),/*#__PURE__*/_jsx(\"div\",{style:{height:'5%',width:'100%'}})]}),activeChatMenu===chat.id&&/*#__PURE__*/_jsxs(\"div\",{ref:menuRef,onClick:e=>e.stopPropagation(),style:{position:'absolute',top:'60px',right:'10px',backgroundColor:'#222',border:'1px solid #555',borderRadius:'5px',zIndex:9999,minWidth:'140px',boxShadow:'0 4px 15px rgba(0,0,0,0.8)'},children:[chat.type!=='roster'&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>{onDeleteChat(chat);setActiveChatMenu(null);},style:{display:'block',width:'100%',padding:'12px',textAlign:'left',background:'none',border:'none',color:COLORS.danger,cursor:'pointer',borderBottom:'1px solid #333'},children:\"Delete Chat\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveChatMenu(null),style:{display:'block',width:'100%',padding:'12px',textAlign:'left',background:'none',border:'none',color:'#aaa',cursor:'pointer'},children:\"Cancel\"})]})]},chat.id);})})]});};export default ChatList;","map":{"version":3,"names":["React","useState","useEffect","useRef","SquarePen","MoreVertical","COLORS","useAuth","jsx","_jsx","jsxs","_jsxs","ChatList","_ref","myChats","selectedChat","onSelectChat","onStartNewChat","onDeleteChat","userProfiles","isMobile","loggedInUser","activeChatMenu","setActiveChatMenu","menuRef","handleClickOutside","event","current","contains","target","document","addEventListener","removeEventListener","formatTime","timestamp","date","toDate","Date","now","isToday","toDateString","toLocaleTimeString","hour","minute","toLocaleDateString","month","day","style","width","minWidth","backgroundColor","background","borderRight","concat","border","display","flexDirection","height","position","zIndex","children","padding","borderBottom","justifyContent","alignItems","boxSizing","margin","fontSize","fontWeight","onClick","color","primary","cursor","title","size","overflowY","flex","length","textAlign","map","chat","isDM","type","participants","displayTitle","name","iconImage","_chat$participantDeta","otherUser","participantDetails","find","p","uid","freshUser","playerName","photoURL","firstLetter","replace","charAt","toUpperCase","unreadCount","unreadCounts","hasUnread","timeDisplay","lastMessageTime","id","borderRadius","overflow","src","alt","objectFit","whiteSpace","textOverflow","maxWidth","right","top","transform","lineHeight","maxHeight","WebkitLineClamp","WebkitBoxOrient","wordBreak","lastMessage","e","stopPropagation","ref","boxShadow","danger"],"sources":["/Users/dbroxton/Documents/Projects/soccer-management-app/src/components/chat/ChatList.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { SquarePen, MoreVertical } from 'lucide-react'; \nimport { COLORS } from '../../constants';\nimport { useAuth } from '../../context/AuthContext';\n\nconst ChatList = ({ \n  myChats, \n  selectedChat, \n  onSelectChat, \n  onStartNewChat, \n  onDeleteChat,\n  userProfiles,\n  isMobile\n}) => {\n  const { loggedInUser } = useAuth();\n  const [activeChatMenu, setActiveChatMenu] = useState(null);\n  const menuRef = useRef(null);\n\n  // Close menu when clicking outside\n  useEffect(() => {\n    const handleClickOutside = (event) => {\n      if (menuRef.current && !menuRef.current.contains(event.target)) {\n        setActiveChatMenu(null);\n      }\n    };\n    document.addEventListener(\"mousedown\", handleClickOutside);\n    return () => document.removeEventListener(\"mousedown\", handleClickOutside);\n  }, []);\n\n  const formatTime = (timestamp) => {\n    if (!timestamp) return \"\";\n    const date = timestamp.toDate ? timestamp.toDate() : new Date(timestamp);\n    const now = new Date();\n    const isToday = date.toDateString() === now.toDateString();\n    \n    if (isToday) {\n      return date.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });\n    } else {\n      return date.toLocaleDateString([], { month: 'numeric', day: 'numeric' });\n    }\n  };\n\n  return (\n    <div style={{ \n      width: isMobile ? '100%' : '30%', \n      minWidth: isMobile ? '100%' : '300px',\n      backgroundColor: COLORS.background, \n      borderRight: isMobile ? 'none' : `1px solid ${COLORS.border}`, \n      display: 'flex', \n      flexDirection: 'column',\n      height: '100%',\n      position: 'relative',\n      zIndex: 1\n    }}>\n      {/* Header */}\n      <div style={{ \n        padding: '15px', \n        borderBottom: `1px solid ${COLORS.border}`, \n        display: 'flex', \n        justifyContent: 'space-between', \n        alignItems: 'center',\n        height: '60px',\n        boxSizing: 'border-box',\n        backgroundColor: COLORS.background,\n        zIndex: 10\n      }}>\n        <h2 style={{ margin: 0, fontSize: '22px', fontWeight: 'bold' }}>Chats</h2>\n        <button \n          onClick={onStartNewChat}\n          style={{ background: 'none', border: 'none', color: COLORS.primary, cursor: 'pointer' }}\n          title=\"Start New Chat\"\n        >\n          <SquarePen size={24} />\n        </button>\n      </div>\n      \n      <div style={{ overflowY: 'auto', flex: 1 }}>\n        {myChats.length === 0 ? (\n          <p style={{ padding: '20px', color: '#888', textAlign: 'center' }}>No conversations yet.</p>\n        ) : (\n          myChats.map(chat => {\n            // --- Data Prep ---\n            const isDM = chat.type === 'dm' || (chat.participants && chat.participants.length === 2 && chat.type !== 'roster');\n            let displayTitle = chat.name || \"Chat\";\n            let iconImage = null;\n            \n            if (chat.type === 'roster') {\n                displayTitle = `âš½ ${chat.name}`;\n            } else if (isDM) {\n                const otherUser = chat.participantDetails?.find(p => p.uid !== loggedInUser.uid);\n                if (otherUser) {\n                    const freshUser = userProfiles[otherUser.uid];\n                    displayTitle = freshUser ? (freshUser.playerName || otherUser.name) : otherUser.name;\n                    iconImage = freshUser ? freshUser.photoURL : otherUser.photoURL;\n                }\n            }\n            \n            const firstLetter = displayTitle.replace(/[^a-zA-Z0-9]/g, '').charAt(0).toUpperCase() || \"?\";\n            const unreadCount = (chat.unreadCounts && chat.unreadCounts[loggedInUser.uid]) || 0;\n            const hasUnread = unreadCount > 0;\n            const timeDisplay = formatTime(chat.lastMessageTime);\n\n            return (\n              <div \n                key={chat.id} \n                onClick={() => onSelectChat(chat)}\n                style={{ \n                  width: '100%',\n                  height: '90px', \n                  cursor: 'pointer', \n                  backgroundColor: (selectedChat?.id === chat.id) ? '#3a3f4a' : 'transparent',\n                  borderBottom: `1px solid ${COLORS.border}`,\n                  display: 'flex', \n                  boxSizing: 'border-box',\n                  position: 'relative'\n                }}\n              >\n                \n                {/* --- COLUMN A (20%): Avatar --- */}\n                <div style={{ \n                  width: '20%', \n                  height: '100%', \n                  display: 'flex', \n                  justifyContent: 'center', \n                  alignItems: 'center' \n                }}>\n                  <div style={{ \n                       width: '50px', height: '50px', \n                       borderRadius: '50%', \n                       backgroundColor: '#444',\n                       display: 'flex', justifyContent: 'center', alignItems: 'center',\n                       border: '1px solid #555',\n                       color: '#eee', fontWeight: 'bold', fontSize: '20px',\n                       overflow: 'hidden'\n                  }}>\n                       {iconImage ? (\n                           <img src={iconImage} alt=\"User\" style={{ width: '100%', height: '100%', objectFit: 'cover' }} />\n                       ) : (\n                           <span>{firstLetter}</span>\n                       )}\n                  </div>\n                </div>\n\n                {/* --- COLUMN B (60%): Name & Message --- */}\n                <div style={{ \n                  width: '60%', \n                  height: '100%', \n                  display: 'flex', \n                  flexDirection: 'column'\n                }}>\n                  {/* 1. Top Spacer (5% Height) */}\n                  <div style={{ height: '5%', width: '100%' }} />\n\n                  {/* 2. Row 1: Name + Badge (40% Height) */}\n                  <div style={{ \n                    height: '40%', \n                    display: 'flex', \n                    alignItems: 'center', \n                    justifyContent: 'center', \n                    position: 'relative',\n                    width: '100%'\n                  }}>\n                    <div style={{\n                      fontWeight: hasUnread ? 'bold' : '600', \n                      color: 'white', \n                      fontSize: '16px',\n                      whiteSpace: 'nowrap', \n                      overflow: 'hidden', \n                      textOverflow: 'ellipsis',\n                      textAlign: 'center',\n                      maxWidth: hasUnread ? 'calc(100% - 40px)' : '100%'\n                    }}>\n                      {displayTitle}\n                    </div>\n\n                    {/* Badge: Absolute Right, Vertically Centered */}\n                    {hasUnread && (\n                      <div style={{ \n                        position: 'absolute',\n                        right: '0',\n                        top: '50%',\n                        transform: 'translateY(-50%)', \n                        backgroundColor: COLORS.primary, color: '#000', \n                        borderRadius: '10px', padding: '2px 6px', \n                        fontSize: '10px', fontWeight: 'bold',\n                        whiteSpace: 'nowrap'\n                      }}>\n                        {unreadCount > 99 ? '99+' : unreadCount}\n                      </div>\n                    )}\n                  </div>\n\n                  {/* 3. Row 2: Preview (50% Height) */}\n                  <div style={{ \n                    height: '50%',\n                    display: 'flex',\n                    alignItems: 'center', \n                    justifyContent: 'center'\n                  }}>\n                    <div style={{\n                      fontSize: '13px', \n                      color: hasUnread ? '#ddd' : '#aaa', \n                      lineHeight: '1.2em',\n                      maxHeight: '2.4em', \n                      overflow: 'hidden',\n                      textAlign: 'center',\n                      display: '-webkit-box',\n                      WebkitLineClamp: 2,\n                      WebkitBoxOrient: 'vertical',\n                      wordBreak: 'break-word'\n                    }}>\n                      {chat.lastMessage || \"No messages yet\"}\n                    </div>\n                  </div>\n\n                  {/* 4. Bottom Spacer (5% Height) */}\n                  <div style={{ height: '5%', width: '100%' }} />\n                </div>\n\n                {/* --- COLUMN C (20%): Date & Actions --- */}\n                <div style={{ \n                  width: '20%', \n                  height: '100%', \n                  display: 'flex', \n                  flexDirection: 'column'\n                }}>\n                  {/* 1. Top Spacer (5% Height) */}\n                  <div style={{ height: '5%', width: '100%' }} />\n\n                  {/* 2. Row 1: Date Only (40% Height) */}\n                  <div style={{ \n                    height: '40%',\n                    display: 'flex', \n                    alignItems: 'center', \n                    justifyContent: 'center'\n                  }}>\n                    <span style={{ \n                      fontSize: '11px', \n                      color: hasUnread ? COLORS.primary : '#888',\n                      whiteSpace: 'nowrap'\n                    }}>\n                      {timeDisplay}\n                    </span>\n                  </div>\n\n                  {/* 3. Row 2: Ellipsis (50% Height) */}\n                  <div style={{ \n                    height: '50%', \n                    display: 'flex', \n                    alignItems: 'center', \n                    justifyContent: 'center'\n                  }}>\n                    <button \n                      onClick={(e) => {\n                        e.stopPropagation();\n                        setActiveChatMenu(activeChatMenu === chat.id ? null : chat.id);\n                      }}\n                      style={{ background: 'none', border: 'none', color: '#666', cursor: 'pointer', padding: '5px' }}\n                    >\n                      <MoreVertical size={18} />\n                    </button>\n                  </div>\n\n                  {/* 4. Bottom Spacer (5% Height) */}\n                  <div style={{ height: '5%', width: '100%' }} />\n                </div>\n\n                {/* --- Popup Menu --- */}\n                {activeChatMenu === chat.id && (\n                  <div \n                    ref={menuRef}\n                    onClick={(e) => e.stopPropagation()}\n                    style={{ \n                      position: 'absolute', \n                      top: '60px', \n                      right: '10px', \n                      backgroundColor: '#222', \n                      border: '1px solid #555', \n                      borderRadius: '5px', \n                      zIndex: 9999, \n                      minWidth: '140px', \n                      boxShadow: '0 4px 15px rgba(0,0,0,0.8)'\n                    }}\n                  >\n                    {chat.type !== 'roster' && (\n                      <button \n                        onClick={() => { onDeleteChat(chat); setActiveChatMenu(null); }}\n                        style={{ display: 'block', width: '100%', padding: '12px', textAlign: 'left', background: 'none', border: 'none', color: COLORS.danger, cursor: 'pointer', borderBottom: '1px solid #333' }}\n                      >\n                        Delete Chat\n                      </button>\n                    )}\n                    <button \n                      onClick={() => setActiveChatMenu(null)}\n                      style={{ display: 'block', width: '100%', padding: '12px', textAlign: 'left', background: 'none', border: 'none', color: '#aaa', cursor: 'pointer' }}\n                    >\n                      Cancel\n                    </button>\n                  </div>\n                )}\n\n              </div>\n            );\n          })\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default ChatList;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}