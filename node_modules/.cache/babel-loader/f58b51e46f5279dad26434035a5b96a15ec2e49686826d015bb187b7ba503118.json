{"ast":null,"code":"var _jsxFileName = \"/Users/dbroxton/Documents/Projects/soccer-management-app/src/components/views/Messaging/components/MessageList.js\",\n  _s = $RefreshSig$();\nimport React, { useRef, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MessageList = ({\n  messages,\n  loggedInUser,\n  onImageClick,\n  selectedChatId\n}) => {\n  _s();\n  const messagesEndRef = useRef(null);\n  const containerRef = useRef(null);\n  const lastChatIdRef = useRef(null);\n  useEffect(() => {\n    if (containerRef.current) {\n      const isNewChat = lastChatIdRef.current !== selectedChatId;\n      if (isNewChat) {\n        containerRef.current.scrollTop = containerRef.current.scrollHeight;\n      } else if (messagesEndRef.current) {\n        messagesEndRef.current.scrollIntoView({\n          behavior: \"smooth\"\n        });\n      }\n      if (messages.length > 0) {\n        lastChatIdRef.current = selectedChatId;\n      }\n    }\n  }, [messages, selectedChatId]);\n  const handleImageLoad = () => {\n    if (containerRef.current) {\n      const {\n        scrollTop,\n        scrollHeight,\n        clientHeight\n      } = containerRef.current;\n      const isNearBottom = scrollHeight - scrollTop - clientHeight < 500;\n      if (isNearBottom) {\n        containerRef.current.scrollTop = containerRef.current.scrollHeight;\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: containerRef,\n    style: {\n      flex: 1,\n      padding: '20px',\n      overflowY: 'auto',\n      display: 'flex',\n      flexDirection: 'column',\n      gap: '10px',\n      boxSizing: 'border-box'\n    },\n    children: [messages.map(msg => {\n      if (msg.type === 'system') {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            alignSelf: 'center',\n            backgroundColor: 'rgba(255, 255, 255, 0.1)',\n            borderRadius: '10px',\n            padding: '5px 12px',\n            margin: '10px 0',\n            maxWidth: '80%'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              fontSize: '12px',\n              color: '#aaa',\n              fontStyle: 'italic'\n            },\n            children: msg.text\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 15\n          }, this)\n        }, msg.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 13\n        }, this);\n      }\n      const isMe = msg.senderId === loggedInUser.uid;\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          alignSelf: isMe ? 'flex-end' : 'flex-start',\n          maxWidth: '70%'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontSize: '10px',\n            color: '#888',\n            marginBottom: '2px',\n            textAlign: isMe ? 'right' : 'left'\n          },\n          children: isMe ? 'Me' : msg.senderName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            backgroundColor: isMe ? '#0078d4' : '#3a3f4a',\n            color: 'white',\n            padding: '10px 15px',\n            borderRadius: '15px',\n            borderTopRightRadius: isMe ? '2px' : '15px',\n            borderTopLeftRadius: isMe ? '15px' : '2px'\n          },\n          children: [msg.imageUrl && /*#__PURE__*/_jsxDEV(\"img\", {\n            src: msg.imageUrl,\n            alt: \"Attachment\",\n            onLoad: handleImageLoad,\n            onClick: () => onImageClick(msg.imageUrl),\n            style: {\n              maxWidth: '100%',\n              maxHeight: '200px',\n              borderRadius: '10px',\n              marginBottom: msg.text ? '10px' : '0',\n              cursor: 'pointer'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 17\n          }, this), msg.text && /*#__PURE__*/_jsxDEV(\"span\", {\n            children: msg.text\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 28\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 13\n        }, this)]\n      }, msg.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 11\n      }, this);\n    }), /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: messagesEndRef\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 5\n  }, this);\n};\n_s(MessageList, \"plHzD6SiH9fN82bKKY9ERwRk7Rs=\");\n_c = MessageList;\nexport default MessageList;\nvar _c;\n$RefreshReg$(_c, \"MessageList\");","map":{"version":3,"names":["React","useRef","useEffect","jsxDEV","_jsxDEV","MessageList","messages","loggedInUser","onImageClick","selectedChatId","_s","messagesEndRef","containerRef","lastChatIdRef","current","isNewChat","scrollTop","scrollHeight","scrollIntoView","behavior","length","handleImageLoad","clientHeight","isNearBottom","ref","style","flex","padding","overflowY","display","flexDirection","gap","boxSizing","children","map","msg","type","alignSelf","backgroundColor","borderRadius","margin","maxWidth","fontSize","color","fontStyle","text","fileName","_jsxFileName","lineNumber","columnNumber","id","isMe","senderId","uid","marginBottom","textAlign","senderName","borderTopRightRadius","borderTopLeftRadius","imageUrl","src","alt","onLoad","onClick","maxHeight","cursor","_c","$RefreshReg$"],"sources":["/Users/dbroxton/Documents/Projects/soccer-management-app/src/components/views/Messaging/components/MessageList.js"],"sourcesContent":["import React, { useRef, useEffect } from 'react';\n\nconst MessageList = ({ messages, loggedInUser, onImageClick, selectedChatId }) => {\n  const messagesEndRef = useRef(null);\n  const containerRef = useRef(null);\n  const lastChatIdRef = useRef(null);\n\n  useEffect(() => {\n    if (containerRef.current) {\n      const isNewChat = lastChatIdRef.current !== selectedChatId;\n      \n      if (isNewChat) {\n        containerRef.current.scrollTop = containerRef.current.scrollHeight;\n      } else if (messagesEndRef.current) {\n        messagesEndRef.current.scrollIntoView({ behavior: \"smooth\" });\n      }\n\n      if (messages.length > 0) {\n        lastChatIdRef.current = selectedChatId;\n      }\n    }\n  }, [messages, selectedChatId]);\n\n  const handleImageLoad = () => {\n    if (containerRef.current) {\n       const { scrollTop, scrollHeight, clientHeight } = containerRef.current;\n       const isNearBottom = scrollHeight - scrollTop - clientHeight < 500;\n       \n       if (isNearBottom) {\n         containerRef.current.scrollTop = containerRef.current.scrollHeight;\n       }\n    }\n  };\n\n  return (\n    <div \n      ref={containerRef} \n      style={{ \n        flex: 1, \n        padding: '20px', \n        overflowY: 'auto', \n        display: 'flex', \n        flexDirection: 'column', \n        gap: '10px', \n        boxSizing: 'border-box' \n      }}\n    >\n      {messages.map(msg => {\n        if (msg.type === 'system') {\n          return (\n            <div key={msg.id} style={{\n              alignSelf: 'center',\n              backgroundColor: 'rgba(255, 255, 255, 0.1)',\n              borderRadius: '10px',\n              padding: '5px 12px',\n              margin: '10px 0',\n              maxWidth: '80%'\n            }}>\n              <span style={{ fontSize: '12px', color: '#aaa', fontStyle: 'italic' }}>\n                {msg.text}\n              </span>\n            </div>\n          );\n        }\n\n        const isMe = msg.senderId === loggedInUser.uid;\n        return (\n          <div key={msg.id} style={{\n            alignSelf: isMe ? 'flex-end' : 'flex-start',\n            maxWidth: '70%',\n          }}>\n            <div style={{ fontSize: '10px', color: '#888', marginBottom: '2px', textAlign: isMe ? 'right' : 'left' }}>\n              {isMe ? 'Me' : msg.senderName}\n            </div>\n            <div style={{\n              backgroundColor: isMe ? '#0078d4' : '#3a3f4a',\n              color: 'white',\n              padding: '10px 15px',\n              borderRadius: '15px',\n              borderTopRightRadius: isMe ? '2px' : '15px',\n              borderTopLeftRadius: isMe ? '15px' : '2px'\n            }}>\n              {msg.imageUrl && (\n                <img \n                  src={msg.imageUrl} \n                  alt=\"Attachment\" \n                  onLoad={handleImageLoad} \n                  onClick={() => onImageClick(msg.imageUrl)}\n                  style={{ maxWidth: '100%', maxHeight: '200px', borderRadius: '10px', marginBottom: msg.text ? '10px' : '0', cursor: 'pointer' }}\n                />\n              )}\n              {msg.text && <span>{msg.text}</span>}\n            </div>\n          </div>\n        );\n      })}\n      <div ref={messagesEndRef} />\n    </div>\n  );\n};\n\nexport default MessageList;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}