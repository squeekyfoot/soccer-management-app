{"ast":null,"code":"import React from'react';import{ChevronLeft,ChevronRight}from'lucide-react';import{COLORS}from'../../constants';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ChatHeader=_ref=>{var _selectedChat$partici2;let{selectedChat,userProfiles,loggedInUser,onShowDetails,// New prop to trigger details modal\nonBack,// New prop for Mobile Back navigation\ntotalUnreadCount}=_ref;if(!selectedChat)return null;// Logic to determine display title & image\nconst isDM=selectedChat.type==='dm'||selectedChat.participants&&selectedChat.participants.length===2&&selectedChat.type!=='roster';let displayTitle=selectedChat.name;let iconImage=null;if(isDM){var _selectedChat$partici;const otherUser=(_selectedChat$partici=selectedChat.participantDetails)===null||_selectedChat$partici===void 0?void 0:_selectedChat$partici.find(p=>p.uid!==loggedInUser.uid);if(otherUser){const freshUser=userProfiles[otherUser.uid];displayTitle=freshUser?freshUser.playerName||otherUser.name:otherUser.name;iconImage=freshUser?freshUser.photoURL:otherUser.photoURL;}}else if(selectedChat.type==='roster'){displayTitle=\"\\u26BD \".concat(selectedChat.name);}return/*#__PURE__*/_jsxs(\"div\",{style:{padding:'10px',borderBottom:\"1px solid \".concat(COLORS.border),backgroundColor:COLORS.background,boxSizing:'border-box',display:'flex',justifyContent:'space-between',alignItems:'center',height:'60px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{flex:1,display:'flex',alignItems:'center',minWidth:'60px'},children:onBack&&/*#__PURE__*/_jsxs(\"button\",{onClick:onBack,style:{background:'none',border:'none',color:COLORS.primary,cursor:'pointer',display:'flex',alignItems:'center',fontSize:'16px',fontWeight:'500'},children:[/*#__PURE__*/_jsx(ChevronLeft,{size:28}),totalUnreadCount>0&&/*#__PURE__*/_jsx(\"span\",{style:{backgroundColor:COLORS.primary,color:'#000',borderRadius:'50%',width:'20px',height:'20px',display:'flex',alignItems:'center',justifyContent:'center',fontSize:'12px',fontWeight:'bold',marginLeft:'2px'},children:totalUnreadCount})]})}),/*#__PURE__*/_jsxs(\"div\",{onClick:onShowDetails,style:{flex:2,display:'flex',flexDirection:'column',alignItems:'center',cursor:'pointer'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'8px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{width:'24px',height:'24px',borderRadius:'50%',backgroundColor:'#444',overflow:'hidden',display:'flex',alignItems:'center',justifyContent:'center',fontSize:'10px',border:'1px solid #666'},children:iconImage?/*#__PURE__*/_jsx(\"img\",{src:iconImage,alt:\"\",style:{width:'100%',height:'100%',objectFit:'cover'}}):/*#__PURE__*/_jsx(\"span\",{children:displayTitle.charAt(0)})}),/*#__PURE__*/_jsx(\"h3\",{style:{margin:0,fontSize:'16px',whiteSpace:'nowrap',overflow:'hidden',textOverflow:'ellipsis',maxWidth:'150px'},children:displayTitle})]}),!isDM&&/*#__PURE__*/_jsxs(\"span\",{style:{fontSize:'10px',color:'#888'},children:[((_selectedChat$partici2=selectedChat.participantDetails)===null||_selectedChat$partici2===void 0?void 0:_selectedChat$partici2.length)||0,\" members\"]})]}),/*#__PURE__*/_jsx(\"div\",{onClick:onShowDetails,style:{flex:1,display:'flex',justifyContent:'flex-end',alignItems:'center',cursor:'pointer'},children:/*#__PURE__*/_jsx(ChevronRight,{size:20,color:\"#666\"})})]});};export default ChatHeader;","map":{"version":3,"names":["React","ChevronLeft","ChevronRight","COLORS","jsx","_jsx","jsxs","_jsxs","ChatHeader","_ref","_selectedChat$partici2","selectedChat","userProfiles","loggedInUser","onShowDetails","onBack","totalUnreadCount","isDM","type","participants","length","displayTitle","name","iconImage","_selectedChat$partici","otherUser","participantDetails","find","p","uid","freshUser","playerName","photoURL","concat","style","padding","borderBottom","border","backgroundColor","background","boxSizing","display","justifyContent","alignItems","height","children","flex","minWidth","onClick","color","primary","cursor","fontSize","fontWeight","size","borderRadius","width","marginLeft","flexDirection","gap","overflow","src","alt","objectFit","charAt","margin","whiteSpace","textOverflow","maxWidth"],"sources":["/Users/dbroxton/Documents/Projects/soccer-management-app/src/components/chat/ChatHeader.js"],"sourcesContent":["import React from 'react';\nimport { ChevronLeft, ChevronRight } from 'lucide-react'; \nimport { COLORS } from '../../constants';\n\nconst ChatHeader = ({ \n  selectedChat, \n  userProfiles, \n  loggedInUser, \n  onShowDetails, // New prop to trigger details modal\n  onBack,        // New prop for Mobile Back navigation\n  totalUnreadCount\n}) => {\n  if (!selectedChat) return null;\n\n  // Logic to determine display title & image\n  const isDM = selectedChat.type === 'dm' || (selectedChat.participants && selectedChat.participants.length === 2 && selectedChat.type !== 'roster');\n  let displayTitle = selectedChat.name;\n  let iconImage = null;\n  \n  if (isDM) {\n    const otherUser = selectedChat.participantDetails?.find(p => p.uid !== loggedInUser.uid);\n    if (otherUser) {\n      const freshUser = userProfiles[otherUser.uid];\n      displayTitle = freshUser ? (freshUser.playerName || otherUser.name) : otherUser.name;\n      iconImage = freshUser ? freshUser.photoURL : otherUser.photoURL;\n    }\n  } else if (selectedChat.type === 'roster') {\n      displayTitle = `âš½ ${selectedChat.name}`;\n  }\n\n  return (\n    <div style={{ \n      padding: '10px', \n      borderBottom: `1px solid ${COLORS.border}`, \n      backgroundColor: COLORS.background, \n      boxSizing: 'border-box', \n      display: 'flex', \n      justifyContent: 'space-between', \n      alignItems: 'center',\n      height: '60px'\n    }}>\n      \n      {/* LEFT: Back Button (Mobile Only) */}\n      <div style={{ flex: 1, display: 'flex', alignItems: 'center', minWidth: '60px' }}>\n        {onBack && (\n          <button \n            onClick={onBack}\n            style={{ \n              background: 'none', border: 'none', color: COLORS.primary, \n              cursor: 'pointer', display: 'flex', alignItems: 'center', fontSize: '16px', fontWeight: '500'\n            }}\n          >\n            <ChevronLeft size={28} />\n            {totalUnreadCount > 0 && (\n              <span style={{ \n                backgroundColor: COLORS.primary, color: '#000', \n                borderRadius: '50%', width: '20px', height: '20px',\n                display: 'flex', alignItems: 'center', justifyContent: 'center',\n                fontSize: '12px', fontWeight: 'bold', marginLeft: '2px'\n              }}>\n                {totalUnreadCount}\n              </span>\n            )}\n          </button>\n        )}\n      </div>\n\n      {/* CENTER: Chat Info (Clickable) */}\n      <div \n        onClick={onShowDetails}\n        style={{ \n          flex: 2, \n          display: 'flex', flexDirection: 'column', alignItems: 'center', \n          cursor: 'pointer' \n        }}\n      >\n        <div style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>\n           {/* Small Avatar in Header */}\n           <div style={{ \n             width: '24px', height: '24px', borderRadius: '50%', \n             backgroundColor: '#444', overflow: 'hidden', display: 'flex', alignItems: 'center', justifyContent: 'center',\n             fontSize: '10px', border: '1px solid #666'\n           }}>\n             {iconImage ? (\n               <img src={iconImage} alt=\"\" style={{ width: '100%', height: '100%', objectFit: 'cover' }} />\n             ) : (\n               <span>{displayTitle.charAt(0)}</span>\n             )}\n           </div>\n           <h3 style={{ margin: 0, fontSize: '16px', whiteSpace: 'nowrap', overflow: 'hidden', textOverflow: 'ellipsis', maxWidth: '150px' }}>\n             {displayTitle}\n           </h3>\n        </div>\n        {!isDM && (\n           <span style={{ fontSize: '10px', color: '#888' }}>\n             {selectedChat.participantDetails?.length || 0} members\n           </span>\n        )}\n      </div>\n\n      {/* RIGHT: Action Indicator */}\n      <div \n        onClick={onShowDetails}\n        style={{ flex: 1, display: 'flex', justifyContent: 'flex-end', alignItems: 'center', cursor: 'pointer' }}\n      >\n        <ChevronRight size={20} color=\"#666\" />\n      </div>\n\n    </div>\n  );\n};\n\nexport default ChatHeader;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}