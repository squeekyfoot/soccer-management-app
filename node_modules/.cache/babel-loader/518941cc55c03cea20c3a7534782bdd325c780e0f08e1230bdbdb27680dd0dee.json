{"ast":null,"code":"import _objectSpread from\"/Users/dbroxton/Documents/Projects/soccer-management-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useCallback}from'react';import{useAuth}from'../context/AuthContext';import{collection,query,orderBy,onSnapshot,doc,getDoc}from\"firebase/firestore\";import{db}from\"../firebase\";import UserSearch from'./UserSearch';import{COLORS,MOBILE_BREAKPOINT}from'../constants';import{Users,Search,UserPlus,Globe}from'lucide-react';import Header from'./common/Header';// NEW\nimport Button from'./common/Button';// Ensure Button is imported if used in header actions\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function Groups(){const{fetchUserGroups,createGroup,createGroupPost,addGroupMembers,updateGroupMemberRole,transferGroupOwnership,removeGroupMember,submitJoinRequest,subscribeToUserRequests,subscribeToDiscoverableRosters,loggedInUser}=useAuth();// --- Navigation State ---\nconst[currentView,setCurrentView]=useState('hub');const[myGroups,setMyGroups]=useState([]);const[selectedGroup,setSelectedGroup]=useState(null);const[isLoading,setIsLoading]=useState(true);const[isMobile,setIsMobile]=useState(window.innerWidth<MOBILE_BREAKPOINT);// Find Teams State\nconst[discoverableTeams,setDiscoverableTeams]=useState([]);const[myRequests,setMyRequests]=useState([]);// Create Group Form State\nconst[showCreateForm,setShowCreateForm]=useState(false);const[newGroupName,setNewGroupName]=useState(\"\");const[newGroupDesc,setNewGroupDesc]=useState(\"\");// Group Detail State\nconst[activeTab,setActiveTab]=useState('posts');const[groupPosts,setGroupPosts]=useState([]);const[newPostText,setNewPostText]=useState(\"\");const[showAddMember,setShowAddMember]=useState(false);const[selectedMemberEmails,setSelectedMemberEmails]=useState([]);const[activeMemberMenu,setActiveMemberMenu]=useState(null);// --- Effects ---\nuseEffect(()=>{const handleResize=()=>setIsMobile(window.innerWidth<MOBILE_BREAKPOINT);window.addEventListener('resize',handleResize);return()=>window.removeEventListener('resize',handleResize);},[]);const loadGroups=useCallback(async()=>{if(!loggedInUser)return;setIsLoading(true);const data=await fetchUserGroups(loggedInUser.uid);setMyGroups(data);setIsLoading(false);},[loggedInUser,fetchUserGroups]);useEffect(()=>{if(loggedInUser)loadGroups();},[loggedInUser,loadGroups]);useEffect(()=>{if(!selectedGroup)return;setCurrentView('detail');const postsRef=collection(db,\"groups\",selectedGroup.id,\"posts\");const q=query(postsRef,orderBy(\"createdAt\",\"desc\"));const unsubscribe=onSnapshot(q,snapshot=>{const posts=snapshot.docs.map(doc=>_objectSpread({id:doc.id},doc.data()));setGroupPosts(posts);});return()=>unsubscribe();},[selectedGroup]);useEffect(()=>{if(currentView==='findTeams'){setIsLoading(true);const unsubRosters=subscribeToDiscoverableRosters(data=>{setDiscoverableTeams(data);setIsLoading(false);});const unsubRequests=subscribeToUserRequests(data=>{setMyRequests(data);});return()=>{unsubRosters();unsubRequests();};}},[currentView,subscribeToDiscoverableRosters,subscribeToUserRequests]);// --- Logic Helpers ---\nconst refreshSelectedGroup=async()=>{if(!selectedGroup)return;const groupRef=doc(db,\"groups\",selectedGroup.id);const groupSnap=await getDoc(groupRef);if(groupSnap.exists()){setSelectedGroup(_objectSpread({id:groupSnap.id},groupSnap.data()));}};const handleCreateGroup=async e=>{e.preventDefault();if(!newGroupName)return;const success=await createGroup({name:newGroupName,description:newGroupDesc,links:[]});if(success){alert(\"Group created!\");setShowCreateForm(false);setNewGroupName(\"\");setNewGroupDesc(\"\");loadGroups();}};const handlePostSubmit=async e=>{e.preventDefault();if(!newPostText)return;await createGroupPost(selectedGroup.id,newPostText,null);setNewPostText(\"\");};const handleAddMembers=async()=>{if(selectedMemberEmails.length===0)return;const success=await addGroupMembers(selectedGroup.id,selectedMemberEmails);if(success){alert(\"Members added!\");setShowAddMember(false);setSelectedMemberEmails([]);refreshSelectedGroup();}};const handleJoinRequest=async team=>{await submitJoinRequest(team.id,team.name,team.createdBy);};const getRequestStatus=teamId=>{const req=myRequests.find(r=>r.rosterId===teamId);return req?req.status:null;};// Role Management Wrappers\nconst handlePromote=async uid=>{const success=await updateGroupMemberRole(selectedGroup.id,uid,'admin',selectedGroup.memberDetails);if(success){setActiveMemberMenu(null);refreshSelectedGroup();}};const handleDemote=async uid=>{const success=await updateGroupMemberRole(selectedGroup.id,uid,'member',selectedGroup.memberDetails);if(success){setActiveMemberMenu(null);refreshSelectedGroup();}};const handleTransfer=async uid=>{if(window.confirm(\"Transfer ownership?\")){const success=await transferGroupOwnership(selectedGroup.id,uid,selectedGroup.memberDetails);if(success){setActiveMemberMenu(null);refreshSelectedGroup();}}};const handleRemove=async uid=>{if(window.confirm(\"Remove member?\")){const success=await removeGroupMember(selectedGroup.id,uid,selectedGroup.memberDetails,selectedGroup.members);if(success){setActiveMemberMenu(null);refreshSelectedGroup();}}};const getMyGroupRole=()=>{if(!selectedGroup||!selectedGroup.memberDetails)return'member';const me=selectedGroup.memberDetails.find(m=>m.uid===loggedInUser.uid);return me?me.role||'member':'member';};const HubButton=_ref=>{let{title,desc,icon:Icon,onClick,color=COLORS.primary}=_ref;return/*#__PURE__*/_jsxs(\"button\",{onClick:onClick,style:{backgroundColor:'#282c34',border:\"1px solid \".concat(COLORS.border),borderRadius:'12px',padding:'20px',display:'flex',flexDirection:'column',alignItems:'center',justifyContent:'center',cursor:'pointer',transition:'transform 0.2s, background-color 0.2s',height:'100%',width:'100%',textAlign:'center',boxSizing:'border-box',minHeight:0},onMouseEnter:e=>e.currentTarget.style.backgroundColor='#333',onMouseLeave:e=>e.currentTarget.style.backgroundColor='#282c34',children:[/*#__PURE__*/_jsx(Icon,{size:40,color:color,style:{marginBottom:'15px'}}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'18px',fontWeight:'bold',color:'white',marginBottom:'8px'},children:title}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'13px',color:'#aaa'},children:desc})]});};if(currentView==='hub'){return/*#__PURE__*/_jsxs(\"div\",{style:{maxWidth:'1000px',margin:'0 auto',textAlign:'left',height:'100%',display:'flex',flexDirection:'column'},children:[/*#__PURE__*/_jsx(Header,{title:\"Community\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:isMobile?'1fr':'1fr 1fr',gridTemplateRows:isMobile?'repeat(4, 1fr)':'repeat(2, 1fr)',gap:'15px',flex:1,minHeight:0,overflowY:'auto'},children:[/*#__PURE__*/_jsx(HubButton,{title:\"Explore Communities\",desc:\"Discover new groups and communities\",icon:Globe,onClick:()=>alert(\"Feature coming soon!\")}),/*#__PURE__*/_jsx(HubButton,{title:\"Find Teams\",desc:\"Search for local teams to join\",icon:Search,onClick:()=>setCurrentView('findTeams')}),/*#__PURE__*/_jsx(HubButton,{title:\"Find Players\",desc:\"Connect with other players (Coming Soon)\",icon:UserPlus,color:\"#888\",onClick:()=>alert(\"Feature coming soon!\")}),/*#__PURE__*/_jsx(HubButton,{title:\"My Groups\",desc:\"Teams, groups and communities that I've already joined\",icon:Users,onClick:()=>setCurrentView('myGroups')})]})]});}if(currentView==='myGroups'){return/*#__PURE__*/_jsxs(\"div\",{style:{maxWidth:'800px',margin:'0 auto',textAlign:'left',height:'100%',display:'flex',flexDirection:'column'},children:[/*#__PURE__*/_jsx(Header,{title:\"My Groups\",actions:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Button,{onClick:()=>setCurrentView('hub'),variant:\"secondary\",style:{padding:'5px 10px',fontSize:'14px'},children:\"Back\"}),/*#__PURE__*/_jsx(Button,{onClick:()=>setShowCreateForm(!showCreateForm),style:{padding:'5px 10px',fontSize:'14px'},children:showCreateForm?\"Cancel\":\"+ Create\"})]})}),/*#__PURE__*/_jsxs(\"div\",{style:{flex:1,overflowY:'auto'},children:[showCreateForm&&/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleCreateGroup,style:{backgroundColor:'#3a3f4a',padding:'20px',borderRadius:'8px',marginBottom:'30px'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{marginTop:0},children:\"New Group\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Group Name\",value:newGroupName,onChange:e=>setNewGroupName(e.target.value),style:{display:'block',width:'100%',padding:'10px',marginBottom:'10px',boxSizing:'border-box'}}),/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"Description\",value:newGroupDesc,onChange:e=>setNewGroupDesc(e.target.value),style:{display:'block',width:'100%',padding:'10px',marginBottom:'10px',minHeight:'60px',boxSizing:'border-box'}}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",style:{padding:'10px 20px',backgroundColor:COLORS.primary,border:'none',cursor:'pointer',fontWeight:'bold'},children:\"Create\"})]}),isLoading?/*#__PURE__*/_jsx(\"p\",{children:\"Loading...\"}):myGroups.length===0?/*#__PURE__*/_jsx(\"p\",{style:{color:'#888',fontStyle:'italic'},children:\"You haven't joined any groups yet.\"}):/*#__PURE__*/_jsx(\"div\",{style:{display:'grid',gap:'15px',gridTemplateColumns:'repeat(auto-fill, minmax(250px, 1fr))'},children:myGroups.map(group=>{var _group$memberDetails;return/*#__PURE__*/_jsxs(\"div\",{onClick:()=>setSelectedGroup(group),style:{backgroundColor:'#282c34',padding:'20px',borderRadius:'8px',border:\"1px solid \".concat(COLORS.border),cursor:'pointer',transition:'transform 0.2s'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{margin:'0 0 10px 0',color:COLORS.primary},children:group.name}),/*#__PURE__*/_jsx(\"p\",{style:{margin:0,color:'#ccc',fontSize:'14px',whiteSpace:'nowrap',overflow:'hidden',textOverflow:'ellipsis'},children:group.description}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'15px',fontSize:'12px',color:'#888'},children:[((_group$memberDetails=group.memberDetails)===null||_group$memberDetails===void 0?void 0:_group$memberDetails.length)||0,\" Members\"]})]},group.id);})})]})]});}if(currentView==='findTeams'){return/*#__PURE__*/_jsxs(\"div\",{style:{maxWidth:'800px',margin:'0 auto',textAlign:'left',height:'100%',display:'flex',flexDirection:'column'},children:[/*#__PURE__*/_jsx(Header,{title:\"Find Teams\",actions:/*#__PURE__*/_jsx(Button,{onClick:()=>setCurrentView('hub'),variant:\"secondary\",style:{padding:'5px 10px',fontSize:'14px'},children:\"Back\"})}),/*#__PURE__*/_jsx(\"div\",{style:{flex:1,overflowY:'auto'},children:isLoading?/*#__PURE__*/_jsx(\"p\",{children:\"Loading teams...\"}):discoverableTeams.length===0?/*#__PURE__*/_jsx(\"p\",{style:{color:'#888'},children:\"No teams found.\"}):/*#__PURE__*/_jsx(\"div\",{style:{display:'grid',gap:'15px'},children:discoverableTeams.map(team=>{var _team$playerIDs,_team$players;const status=getRequestStatus(team.id);const alreadyJoined=(_team$playerIDs=team.playerIDs)===null||_team$playerIDs===void 0?void 0:_team$playerIDs.includes(loggedInUser.uid);return/*#__PURE__*/_jsxs(\"div\",{style:{backgroundColor:'#282c34',padding:'20px',borderRadius:'8px',border:\"1px solid \".concat(COLORS.border),display:'flex',justifyContent:'space-between',alignItems:'center'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{style:{margin:'0 0 5px 0',color:'white'},children:team.name}),/*#__PURE__*/_jsxs(\"p\",{style:{margin:0,color:'#aaa',fontSize:'14px'},children:[team.season,\" \\u2022 \",((_team$players=team.players)===null||_team$players===void 0?void 0:_team$players.length)||0,\"/\",team.maxCapacity,\" Players\"]})]}),/*#__PURE__*/_jsx(\"div\",{children:alreadyJoined?/*#__PURE__*/_jsx(\"span\",{style:{color:'#28a745',fontSize:'14px',fontWeight:'bold'},children:\"Joined\"}):status==='pending'?/*#__PURE__*/_jsx(\"span\",{style:{color:'#ffc107',fontSize:'14px',fontWeight:'bold'},children:\"Pending\"}):/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleJoinRequest(team),style:{padding:'8px 15px',backgroundColor:COLORS.primary,border:'none',borderRadius:'5px',cursor:'pointer',fontWeight:'bold'},children:\"Request to Join\"})})]},team.id);})})})]});}if(currentView==='detail'&&selectedGroup){var _selectedGroup$member2;const myRole=getMyGroupRole();const renderMembers=()=>{var _selectedGroup$member;const owners=[];const admins=[];const members=[];(_selectedGroup$member=selectedGroup.memberDetails)===null||_selectedGroup$member===void 0?void 0:_selectedGroup$member.forEach(m=>{if(m.role==='owner')owners.push(m);else if(m.role==='admin')admins.push(m);else members.push(m);});return['Owner','Admins','Members'].map(section=>{let list=section==='Owner'?owners:section==='Admins'?admins:members;if(list.length===0)return null;return/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'30px'},children:[/*#__PURE__*/_jsx(\"h4\",{style:{borderBottom:'1px solid #666',paddingBottom:'5px',color:'#aaa',textTransform:'uppercase',fontSize:'12px'},children:section}),/*#__PURE__*/_jsx(\"ul\",{style:{listStyle:'none',padding:0},children:list.map(m=>/*#__PURE__*/_jsxs(\"li\",{style:{padding:'10px',borderBottom:'1px solid #333',display:'flex',alignItems:'center',justifyContent:'space-between'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'15px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{width:'40px',height:'40px',borderRadius:'50%',overflow:'hidden',backgroundColor:'#444',display:'flex',justifyContent:'center',alignItems:'center',border:\"1px solid \".concat(COLORS.primary)},children:m.photoURL?/*#__PURE__*/_jsx(\"img\",{src:m.photoURL,alt:m.name,style:{width:'100%',height:'100%',objectFit:'cover'}}):/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'16px',color:'#ccc'},children:m.name?m.name.charAt(0).toUpperCase():\"?\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:'bold'},children:m.name}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'12px',color:'#888'},children:m.email})]})]}),myRole==='owner'&&m.uid!==loggedInUser.uid||myRole==='admin'&&m.role!=='owner'&&m.role!=='admin'&&m.uid!==loggedInUser.uid?/*#__PURE__*/_jsxs(\"div\",{style:{position:'relative'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveMemberMenu(activeMemberMenu===m.uid?null:m.uid),style:{background:'none',border:'none',color:'#aaa',fontSize:'20px',cursor:'pointer',padding:'0 10px'},children:\"\\u22EE\"}),activeMemberMenu===m.uid&&/*#__PURE__*/_jsxs(\"div\",{style:{position:'absolute',right:0,top:'100%',backgroundColor:'#222',border:'1px solid #555',borderRadius:'5px',zIndex:10,width:'160px',boxShadow:'0 2px 10px rgba(0,0,0,0.5)'},children:[myRole==='owner'&&m.role!=='admin'&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>handlePromote(m.uid),style:{display:'block',width:'100%',padding:'10px',textAlign:'left',background:'none',border:'none',color:'white',cursor:'pointer',borderBottom:'1px solid #333'},children:\"Promote to Admin\"}),myRole==='owner'&&m.role==='admin'&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDemote(m.uid),style:{display:'block',width:'100%',padding:'10px',textAlign:'left',background:'none',border:'none',color:'white',cursor:'pointer',borderBottom:'1px solid #333'},children:\"Demote to Member\"}),myRole==='owner'&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleTransfer(m.uid),style:{display:'block',width:'100%',padding:'10px',textAlign:'left',background:'none',border:'none',color:'#ff6b6b',cursor:'pointer',borderBottom:'1px solid #333'},children:\"Transfer Ownership\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleRemove(m.uid),style:{display:'block',width:'100%',padding:'10px',textAlign:'left',background:'none',border:'none',color:'#ff6b6b',cursor:'pointer',borderBottom:'1px solid #333'},children:\"Remove\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveMemberMenu(null),style:{display:'block',width:'100%',padding:'10px',textAlign:'left',background:'none',border:'none',color:'#aaa',cursor:'pointer'},children:\"Cancel\"})]})]}):null]},m.uid))})]},section);});};return/*#__PURE__*/_jsxs(\"div\",{style:{maxWidth:'800px',margin:'0 auto',textAlign:'left',height:'100%',display:'flex',flexDirection:'column'},children:[/*#__PURE__*/_jsx(Header,{title:selectedGroup.name,actions:/*#__PURE__*/_jsx(Button,{onClick:()=>{setSelectedGroup(null);setCurrentView('myGroups');},variant:\"secondary\",style:{padding:'5px 10px',fontSize:'14px'},children:\"Back\"})}),/*#__PURE__*/_jsxs(\"div\",{style:{padding:'0 20px',flex:1,overflowY:'auto'},children:[/*#__PURE__*/_jsx(\"p\",{style:{color:'#ccc',marginTop:'5px'},children:selectedGroup.description}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',borderBottom:'1px solid #444',marginBottom:'20px'},children:['posts','about','members'].map(tab=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveTab(tab),style:{padding:'10px 20px',background:'none',border:'none',cursor:'pointer',color:activeTab===tab?COLORS.primary:'#888',borderBottom:activeTab===tab?\"2px solid \".concat(COLORS.primary):'none',fontWeight:activeTab===tab?'bold':'normal'},children:tab.charAt(0).toUpperCase()+tab.slice(1)},tab))}),activeTab==='posts'&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"form\",{onSubmit:handlePostSubmit,style:{marginBottom:'30px',display:'flex',gap:'10px'},children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Share something...\",value:newPostText,onChange:e=>setNewPostText(e.target.value),style:{flex:1,padding:'12px',borderRadius:'20px',border:'none',backgroundColor:'#3a3f4a',color:'white'}}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",style:{padding:'10px 20px',borderRadius:'20px',border:'none',backgroundColor:COLORS.primary,color:'#000',fontWeight:'bold',cursor:'pointer'},children:\"Post\"})]}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',flexDirection:'column',gap:'15px'},children:groupPosts.map(post=>{var _post$authorName,_post$createdAt;return/*#__PURE__*/_jsxs(\"div\",{style:{backgroundColor:'#222',padding:'15px',borderRadius:'8px',border:\"1px solid \".concat(COLORS.border)},children:[/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'12px',color:'#888',marginBottom:'5px',display:'flex',alignItems:'center',gap:'8px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{width:'24px',height:'24px',borderRadius:'50%',backgroundColor:'#444',overflow:'hidden',display:'flex',alignItems:'center',justifyContent:'center'},children:post.authorPhoto?/*#__PURE__*/_jsx(\"img\",{src:post.authorPhoto,alt:post.authorName,style:{width:'100%',height:'100%',objectFit:'cover'}}):/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'10px',color:'#ccc'},children:(_post$authorName=post.authorName)===null||_post$authorName===void 0?void 0:_post$authorName.charAt(0).toUpperCase()})}),/*#__PURE__*/_jsx(\"strong\",{children:post.authorName}),\" \\u2022 \",(_post$createdAt=post.createdAt)===null||_post$createdAt===void 0?void 0:_post$createdAt.toDate().toLocaleString()]}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'15px',marginLeft:'32px'},children:post.text})]},post.id);})})]}),activeTab==='about'&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"About this Group\"}),/*#__PURE__*/_jsx(\"p\",{children:selectedGroup.description||\"No description.\"})]}),activeTab==='members'&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',marginBottom:'15px'},children:[/*#__PURE__*/_jsxs(\"h3\",{children:[\"Members (\",((_selectedGroup$member2=selectedGroup.memberDetails)===null||_selectedGroup$member2===void 0?void 0:_selectedGroup$member2.length)||0,\")\"]}),(myRole==='owner'||myRole==='admin')&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowAddMember(true),style:{padding:'8px 15px',backgroundColor:COLORS.primary,border:'none',borderRadius:'5px',cursor:'pointer',fontWeight:'bold'},children:\"+ Add Member\"})]}),showAddMember&&/*#__PURE__*/_jsxs(\"div\",{style:{backgroundColor:'#3a3f4a',padding:'20px',borderRadius:'8px',marginBottom:'20px',border:\"1px solid \".concat(COLORS.primary)},children:[/*#__PURE__*/_jsx(\"h4\",{style:{marginTop:0},children:\"Add Members to Group\"}),/*#__PURE__*/_jsx(UserSearch,{onSelectionChange:setSelectedMemberEmails}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'10px',marginTop:'15px'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleAddMembers,style:{flex:1,padding:'8px',backgroundColor:COLORS.primary,border:'none',cursor:'pointer',fontWeight:'bold'},children:\"Add Selected\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setShowAddMember(false);setSelectedMemberEmails([]);},style:{flex:1,padding:'8px',backgroundColor:'#555',border:'none',cursor:'pointer',color:'white'},children:\"Cancel\"})]})]}),renderMembers()]})]})]});}return/*#__PURE__*/_jsx(\"div\",{children:\"Error: View state unknown\"});}export default Groups;","map":{"version":3,"names":["React","useState","useEffect","useCallback","useAuth","collection","query","orderBy","onSnapshot","doc","getDoc","db","UserSearch","COLORS","MOBILE_BREAKPOINT","Users","Search","UserPlus","Globe","Header","Button","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Groups","fetchUserGroups","createGroup","createGroupPost","addGroupMembers","updateGroupMemberRole","transferGroupOwnership","removeGroupMember","submitJoinRequest","subscribeToUserRequests","subscribeToDiscoverableRosters","loggedInUser","currentView","setCurrentView","myGroups","setMyGroups","selectedGroup","setSelectedGroup","isLoading","setIsLoading","isMobile","setIsMobile","window","innerWidth","discoverableTeams","setDiscoverableTeams","myRequests","setMyRequests","showCreateForm","setShowCreateForm","newGroupName","setNewGroupName","newGroupDesc","setNewGroupDesc","activeTab","setActiveTab","groupPosts","setGroupPosts","newPostText","setNewPostText","showAddMember","setShowAddMember","selectedMemberEmails","setSelectedMemberEmails","activeMemberMenu","setActiveMemberMenu","handleResize","addEventListener","removeEventListener","loadGroups","data","uid","postsRef","id","q","unsubscribe","snapshot","posts","docs","map","_objectSpread","unsubRosters","unsubRequests","refreshSelectedGroup","groupRef","groupSnap","exists","handleCreateGroup","e","preventDefault","success","name","description","links","alert","handlePostSubmit","handleAddMembers","length","handleJoinRequest","team","createdBy","getRequestStatus","teamId","req","find","r","rosterId","status","handlePromote","memberDetails","handleDemote","handleTransfer","confirm","handleRemove","members","getMyGroupRole","me","m","role","HubButton","_ref","title","desc","icon","Icon","onClick","color","primary","style","backgroundColor","border","concat","borderRadius","padding","display","flexDirection","alignItems","justifyContent","cursor","transition","height","width","textAlign","boxSizing","minHeight","onMouseEnter","currentTarget","onMouseLeave","children","size","marginBottom","fontSize","fontWeight","maxWidth","margin","gridTemplateColumns","gridTemplateRows","gap","flex","overflowY","actions","variant","onSubmit","marginTop","type","placeholder","value","onChange","target","fontStyle","group","_group$memberDetails","whiteSpace","overflow","textOverflow","_team$playerIDs","_team$players","alreadyJoined","playerIDs","includes","season","players","maxCapacity","_selectedGroup$member2","myRole","renderMembers","_selectedGroup$member","owners","admins","forEach","push","section","list","borderBottom","paddingBottom","textTransform","listStyle","photoURL","src","alt","objectFit","charAt","toUpperCase","email","position","background","right","top","zIndex","boxShadow","tab","slice","post","_post$authorName","_post$createdAt","authorPhoto","authorName","createdAt","toDate","toLocaleString","marginLeft","text","onSelectionChange"],"sources":["/Users/dbroxton/Documents/Projects/soccer-management-app/src/components/Groups.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport { useAuth } from '../context/AuthContext';\nimport { collection, query, orderBy, onSnapshot, doc, getDoc } from \"firebase/firestore\"; \nimport { db } from \"../firebase\";\nimport UserSearch from './UserSearch';\nimport { COLORS, MOBILE_BREAKPOINT } from '../constants';\nimport { Users, Search, UserPlus, Globe } from 'lucide-react';\nimport Header from './common/Header'; // NEW\nimport Button from './common/Button'; // Ensure Button is imported if used in header actions\n\nfunction Groups() {\n  const { \n    fetchUserGroups, createGroup, createGroupPost, \n    addGroupMembers, updateGroupMemberRole, transferGroupOwnership, removeGroupMember,\n    submitJoinRequest,\n    subscribeToUserRequests, subscribeToDiscoverableRosters,\n    loggedInUser \n  } = useAuth();\n\n  // --- Navigation State ---\n  const [currentView, setCurrentView] = useState('hub');\n\n  const [myGroups, setMyGroups] = useState([]);\n  const [selectedGroup, setSelectedGroup] = useState(null);\n  const [isLoading, setIsLoading] = useState(true);\n  const [isMobile, setIsMobile] = useState(window.innerWidth < MOBILE_BREAKPOINT);\n\n  // Find Teams State\n  const [discoverableTeams, setDiscoverableTeams] = useState([]);\n  const [myRequests, setMyRequests] = useState([]);\n\n  // Create Group Form State\n  const [showCreateForm, setShowCreateForm] = useState(false);\n  const [newGroupName, setNewGroupName] = useState(\"\");\n  const [newGroupDesc, setNewGroupDesc] = useState(\"\");\n\n  // Group Detail State\n  const [activeTab, setActiveTab] = useState('posts'); \n  const [groupPosts, setGroupPosts] = useState([]);\n  const [newPostText, setNewPostText] = useState(\"\");\n  const [showAddMember, setShowAddMember] = useState(false);\n  const [selectedMemberEmails, setSelectedMemberEmails] = useState([]);\n  const [activeMemberMenu, setActiveMemberMenu] = useState(null); \n\n  // --- Effects ---\n\n  useEffect(() => {\n    const handleResize = () => setIsMobile(window.innerWidth < MOBILE_BREAKPOINT);\n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  }, []);\n\n  const loadGroups = useCallback(async () => {\n    if (!loggedInUser) return;\n    setIsLoading(true);\n    const data = await fetchUserGroups(loggedInUser.uid);\n    setMyGroups(data);\n    setIsLoading(false);\n  }, [loggedInUser, fetchUserGroups]);\n\n  useEffect(() => {\n    if (loggedInUser) loadGroups();\n  }, [loggedInUser, loadGroups]);\n\n  useEffect(() => {\n    if (!selectedGroup) return;\n    setCurrentView('detail');\n    const postsRef = collection(db, \"groups\", selectedGroup.id, \"posts\");\n    const q = query(postsRef, orderBy(\"createdAt\", \"desc\"));\n    const unsubscribe = onSnapshot(q, (snapshot) => {\n      const posts = snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));\n      setGroupPosts(posts);\n    });\n    return () => unsubscribe();\n  }, [selectedGroup]);\n\n  useEffect(() => {\n      if (currentView === 'findTeams') {\n          setIsLoading(true);\n          \n          const unsubRosters = subscribeToDiscoverableRosters((data) => {\n             setDiscoverableTeams(data);\n             setIsLoading(false); \n          });\n          \n          const unsubRequests = subscribeToUserRequests((data) => {\n             setMyRequests(data);\n          });\n          \n          return () => {\n              unsubRosters();\n              unsubRequests();\n          };\n      }\n  }, [currentView, subscribeToDiscoverableRosters, subscribeToUserRequests]); \n\n  // --- Logic Helpers ---\n\n  const refreshSelectedGroup = async () => {\n    if (!selectedGroup) return;\n    const groupRef = doc(db, \"groups\", selectedGroup.id);\n    const groupSnap = await getDoc(groupRef);\n    if (groupSnap.exists()) {\n      setSelectedGroup({ id: groupSnap.id, ...groupSnap.data() });\n    }\n  };\n\n  const handleCreateGroup = async (e) => {\n    e.preventDefault();\n    if (!newGroupName) return;\n    const success = await createGroup({\n      name: newGroupName,\n      description: newGroupDesc,\n      links: [] \n    });\n    if (success) {\n      alert(\"Group created!\");\n      setShowCreateForm(false);\n      setNewGroupName(\"\");\n      setNewGroupDesc(\"\");\n      loadGroups();\n    }\n  };\n\n  const handlePostSubmit = async (e) => {\n    e.preventDefault();\n    if (!newPostText) return;\n    await createGroupPost(selectedGroup.id, newPostText, null);\n    setNewPostText(\"\");\n  };\n\n  const handleAddMembers = async () => {\n    if (selectedMemberEmails.length === 0) return;\n    const success = await addGroupMembers(selectedGroup.id, selectedMemberEmails);\n    if (success) {\n      alert(\"Members added!\");\n      setShowAddMember(false);\n      setSelectedMemberEmails([]);\n      refreshSelectedGroup(); \n    }\n  };\n\n  const handleJoinRequest = async (team) => {\n      await submitJoinRequest(team.id, team.name, team.createdBy);\n  };\n\n  const getRequestStatus = (teamId) => {\n      const req = myRequests.find(r => r.rosterId === teamId);\n      return req ? req.status : null;\n  };\n\n  // Role Management Wrappers\n  const handlePromote = async (uid) => {\n    const success = await updateGroupMemberRole(selectedGroup.id, uid, 'admin', selectedGroup.memberDetails);\n    if(success) { setActiveMemberMenu(null); refreshSelectedGroup(); }\n  };\n  const handleDemote = async (uid) => {\n    const success = await updateGroupMemberRole(selectedGroup.id, uid, 'member', selectedGroup.memberDetails);\n    if(success) { setActiveMemberMenu(null); refreshSelectedGroup(); }\n  };\n  const handleTransfer = async (uid) => {\n    if (window.confirm(\"Transfer ownership?\")) {\n      const success = await transferGroupOwnership(selectedGroup.id, uid, selectedGroup.memberDetails);\n      if(success) { setActiveMemberMenu(null); refreshSelectedGroup(); }\n    }\n  };\n  const handleRemove = async (uid) => {\n    if (window.confirm(\"Remove member?\")) {\n      const success = await removeGroupMember(selectedGroup.id, uid, selectedGroup.memberDetails, selectedGroup.members);\n      if(success) { setActiveMemberMenu(null); refreshSelectedGroup(); }\n    }\n  };\n\n  const getMyGroupRole = () => {\n    if (!selectedGroup || !selectedGroup.memberDetails) return 'member';\n    const me = selectedGroup.memberDetails.find(m => m.uid === loggedInUser.uid);\n    return me ? (me.role || 'member') : 'member';\n  };\n\n  const HubButton = ({ title, desc, icon: Icon, onClick, color = COLORS.primary }) => (\n    <button \n      onClick={onClick}\n      style={{\n        backgroundColor: '#282c34',\n        border: `1px solid ${COLORS.border}`,\n        borderRadius: '12px',\n        padding: '20px',\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        justifyContent: 'center',\n        cursor: 'pointer',\n        transition: 'transform 0.2s, background-color 0.2s',\n        height: '100%', \n        width: '100%',\n        textAlign: 'center',\n        boxSizing: 'border-box',\n        minHeight: 0 \n      }}\n      onMouseEnter={(e) => e.currentTarget.style.backgroundColor = '#333'}\n      onMouseLeave={(e) => e.currentTarget.style.backgroundColor = '#282c34'}\n    >\n      <Icon size={40} color={color} style={{ marginBottom: '15px' }} />\n      <div style={{ fontSize: '18px', fontWeight: 'bold', color: 'white', marginBottom: '8px' }}>\n        {title}\n      </div>\n      <div style={{ fontSize: '13px', color: '#aaa' }}>\n        {desc}\n      </div>\n    </button>\n  );\n\n  if (currentView === 'hub') {\n    return (\n      <div style={{ maxWidth: '1000px', margin: '0 auto', textAlign: 'left', height: '100%', display: 'flex', flexDirection: 'column' }}>\n        <Header title=\"Community\" />\n        \n        <div style={{ \n          display: 'grid', \n          gridTemplateColumns: isMobile ? '1fr' : '1fr 1fr', \n          gridTemplateRows: isMobile ? 'repeat(4, 1fr)' : 'repeat(2, 1fr)', \n          gap: '15px', flex: 1, minHeight: 0,\n          overflowY: 'auto' \n        }}>\n          <HubButton title=\"Explore Communities\" desc=\"Discover new groups and communities\" icon={Globe} onClick={() => alert(\"Feature coming soon!\")} />\n          <HubButton title=\"Find Teams\" desc=\"Search for local teams to join\" icon={Search} onClick={() => setCurrentView('findTeams')} />\n          <HubButton title=\"Find Players\" desc=\"Connect with other players (Coming Soon)\" icon={UserPlus} color=\"#888\" onClick={() => alert(\"Feature coming soon!\")} />\n          <HubButton title=\"My Groups\" desc=\"Teams, groups and communities that I've already joined\" icon={Users} onClick={() => setCurrentView('myGroups')} />\n        </div>\n      </div>\n    );\n  }\n\n  if (currentView === 'myGroups') {\n    return (\n      <div style={{ maxWidth: '800px', margin: '0 auto', textAlign: 'left', height: '100%', display: 'flex', flexDirection: 'column' }}>\n        <Header \n          title=\"My Groups\" \n          actions={\n            <>\n              <Button onClick={() => setCurrentView('hub')} variant=\"secondary\" style={{ padding: '5px 10px', fontSize: '14px' }}>Back</Button>\n              <Button onClick={() => setShowCreateForm(!showCreateForm)} style={{ padding: '5px 10px', fontSize: '14px' }}>\n                {showCreateForm ? \"Cancel\" : \"+ Create\"}\n              </Button>\n            </>\n          }\n        />\n\n        <div style={{ flex: 1, overflowY: 'auto' }}>\n          {showCreateForm && (\n            <form onSubmit={handleCreateGroup} style={{ backgroundColor: '#3a3f4a', padding: '20px', borderRadius: '8px', marginBottom: '30px' }}>\n              <h3 style={{ marginTop: 0 }}>New Group</h3>\n              <input type=\"text\" placeholder=\"Group Name\" value={newGroupName} onChange={(e) => setNewGroupName(e.target.value)} style={{ display: 'block', width: '100%', padding: '10px', marginBottom: '10px', boxSizing: 'border-box' }} />\n              <textarea placeholder=\"Description\" value={newGroupDesc} onChange={(e) => setNewGroupDesc(e.target.value)} style={{ display: 'block', width: '100%', padding: '10px', marginBottom: '10px', minHeight: '60px', boxSizing: 'border-box' }} />\n              <button type=\"submit\" style={{ padding: '10px 20px', backgroundColor: COLORS.primary, border: 'none', cursor: 'pointer', fontWeight: 'bold' }}>Create</button>\n            </form>\n          )}\n\n          {isLoading ? <p>Loading...</p> : myGroups.length === 0 ? (\n            <p style={{ color: '#888', fontStyle: 'italic' }}>You haven't joined any groups yet.</p>\n          ) : (\n            <div style={{ display: 'grid', gap: '15px', gridTemplateColumns: 'repeat(auto-fill, minmax(250px, 1fr))' }}>\n              {myGroups.map(group => (\n                <div key={group.id} onClick={() => setSelectedGroup(group)} style={{ backgroundColor: '#282c34', padding: '20px', borderRadius: '8px', border: `1px solid ${COLORS.border}`, cursor: 'pointer', transition: 'transform 0.2s' }}>\n                  <h3 style={{ margin: '0 0 10px 0', color: COLORS.primary }}>{group.name}</h3>\n                  <p style={{ margin: 0, color: '#ccc', fontSize: '14px', whiteSpace: 'nowrap', overflow: 'hidden', textOverflow: 'ellipsis' }}>{group.description}</p>\n                  <div style={{ marginTop: '15px', fontSize: '12px', color: '#888' }}>{group.memberDetails?.length || 0} Members</div>\n                </div>\n              ))}\n            </div>\n          )}\n        </div>\n      </div>\n    );\n  }\n\n  if (currentView === 'findTeams') {\n      return (\n        <div style={{ maxWidth: '800px', margin: '0 auto', textAlign: 'left', height: '100%', display: 'flex', flexDirection: 'column' }}>\n            <Header \n              title=\"Find Teams\" \n              actions={\n                <Button onClick={() => setCurrentView('hub')} variant=\"secondary\" style={{ padding: '5px 10px', fontSize: '14px' }}>Back</Button>\n              }\n            />\n            \n            <div style={{ flex: 1, overflowY: 'auto' }}>\n              {isLoading ? <p>Loading teams...</p> : discoverableTeams.length === 0 ? <p style={{ color: '#888' }}>No teams found.</p> : (\n                  <div style={{ display: 'grid', gap: '15px' }}>\n                      {discoverableTeams.map(team => {\n                          const status = getRequestStatus(team.id);\n                          const alreadyJoined = team.playerIDs?.includes(loggedInUser.uid);\n                          return (\n                              <div key={team.id} style={{ backgroundColor: '#282c34', padding: '20px', borderRadius: '8px', border: `1px solid ${COLORS.border}`, display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n                                  <div>\n                                      <h3 style={{ margin: '0 0 5px 0', color: 'white' }}>{team.name}</h3>\n                                      <p style={{ margin: 0, color: '#aaa', fontSize: '14px' }}>\n                                          {team.season} • {team.players?.length || 0}/{team.maxCapacity} Players\n                                      </p>\n                                  </div>\n                                  <div>\n                                      {alreadyJoined ? (\n                                          <span style={{ color: '#28a745', fontSize: '14px', fontWeight: 'bold' }}>Joined</span>\n                                      ) : status === 'pending' ? (\n                                          <span style={{ color: '#ffc107', fontSize: '14px', fontWeight: 'bold' }}>Pending</span>\n                                      ) : (\n                                          <button \n                                              onClick={() => handleJoinRequest(team)}\n                                              style={{ padding: '8px 15px', backgroundColor: COLORS.primary, border: 'none', borderRadius: '5px', cursor: 'pointer', fontWeight: 'bold' }}\n                                          >\n                                              Request to Join\n                                          </button>\n                                      )}\n                                  </div>\n                              </div>\n                          );\n                      })}\n                  </div>\n              )}\n            </div>\n        </div>\n      );\n  }\n\n  if (currentView === 'detail' && selectedGroup) {\n       const myRole = getMyGroupRole();\n       const renderMembers = () => {\n            const owners = []; const admins = []; const members = [];\n            selectedGroup.memberDetails?.forEach(m => {\n                if (m.role === 'owner') owners.push(m);\n                else if (m.role === 'admin') admins.push(m);\n                else members.push(m);\n            });\n            return ['Owner', 'Admins', 'Members'].map(section => {\n                let list = (section === 'Owner' ? owners : section === 'Admins' ? admins : members);\n                if (list.length === 0) return null;\n                return (\n                    <div key={section} style={{ marginBottom: '30px' }}>\n                      <h4 style={{ borderBottom: '1px solid #666', paddingBottom: '5px', color: '#aaa', textTransform: 'uppercase', fontSize: '12px' }}>{section}</h4>\n                      <ul style={{ listStyle: 'none', padding: 0 }}>\n                        {list.map(m => (\n                          <li key={m.uid} style={{ padding: '10px', borderBottom: '1px solid #333', display: 'flex', alignItems: 'center', justifyContent: 'space-between' }}>\n                            <div style={{ display: 'flex', alignItems: 'center', gap: '15px' }}>\n                              <div style={{ width: '40px', height: '40px', borderRadius: '50%', overflow: 'hidden', backgroundColor: '#444', display: 'flex', justifyContent: 'center', alignItems: 'center', border: `1px solid ${COLORS.primary}` }}>\n                                {m.photoURL ? <img src={m.photoURL} alt={m.name} style={{ width: '100%', height: '100%', objectFit: 'cover' }} /> : <span style={{ fontSize: '16px', color: '#ccc' }}>{m.name ? m.name.charAt(0).toUpperCase() : \"?\"}</span>}\n                              </div>\n                              <div>\n                                <div style={{ fontWeight: 'bold' }}>{m.name}</div>\n                                <div style={{ fontSize: '12px', color: '#888' }}>{m.email}</div>\n                              </div>\n                            </div>\n                            { (myRole === 'owner' && m.uid !== loggedInUser.uid) || (myRole === 'admin' && m.role !== 'owner' && m.role !== 'admin' && m.uid !== loggedInUser.uid) ? (\n                              <div style={{ position: 'relative' }}>\n                                <button onClick={() => setActiveMemberMenu(activeMemberMenu === m.uid ? null : m.uid)} style={{ background: 'none', border: 'none', color: '#aaa', fontSize: '20px', cursor: 'pointer', padding: '0 10px' }}>⋮</button>\n                                {activeMemberMenu === m.uid && (\n                                  <div style={{ position: 'absolute', right: 0, top: '100%', backgroundColor: '#222', border: '1px solid #555', borderRadius: '5px', zIndex: 10, width: '160px', boxShadow: '0 2px 10px rgba(0,0,0,0.5)' }}>\n                                    {myRole === 'owner' && m.role !== 'admin' && <button onClick={() => handlePromote(m.uid)} style={{ display: 'block', width: '100%', padding: '10px', textAlign: 'left', background: 'none', border: 'none', color: 'white', cursor: 'pointer', borderBottom: '1px solid #333' }}>Promote to Admin</button>}\n                                    {myRole === 'owner' && m.role === 'admin' && <button onClick={() => handleDemote(m.uid)} style={{ display: 'block', width: '100%', padding: '10px', textAlign: 'left', background: 'none', border: 'none', color: 'white', cursor: 'pointer', borderBottom: '1px solid #333' }}>Demote to Member</button>}\n                                    {myRole === 'owner' && <button onClick={() => handleTransfer(m.uid)} style={{ display: 'block', width: '100%', padding: '10px', textAlign: 'left', background: 'none', border: 'none', color: '#ff6b6b', cursor: 'pointer', borderBottom: '1px solid #333' }}>Transfer Ownership</button>}\n                                    <button onClick={() => handleRemove(m.uid)} style={{ display: 'block', width: '100%', padding: '10px', textAlign: 'left', background: 'none', border: 'none', color: '#ff6b6b', cursor: 'pointer', borderBottom: '1px solid #333' }}>Remove</button>\n                                    <button onClick={() => setActiveMemberMenu(null)} style={{ display: 'block', width: '100%', padding: '10px', textAlign: 'left', background: 'none', border: 'none', color: '#aaa', cursor: 'pointer' }}>Cancel</button>\n                                  </div>\n                                )}\n                              </div>\n                            ) : null}\n                          </li>\n                        ))}\n                      </ul>\n                    </div>\n                );\n            });\n        };\n\n      return (\n      <div style={{ maxWidth: '800px', margin: '0 auto', textAlign: 'left', height: '100%', display: 'flex', flexDirection: 'column' }}>\n        <Header \n          title={selectedGroup.name}\n          actions={\n             <Button onClick={() => { setSelectedGroup(null); setCurrentView('myGroups'); }} variant=\"secondary\" style={{ padding: '5px 10px', fontSize: '14px' }}>Back</Button>\n          }\n        />\n        \n        <div style={{ padding: '0 20px', flex: 1, overflowY: 'auto' }}>\n          <p style={{ color: '#ccc', marginTop: '5px' }}>{selectedGroup.description}</p>\n\n          <div style={{ display: 'flex', borderBottom: '1px solid #444', marginBottom: '20px' }}>\n            {['posts', 'about', 'members'].map(tab => (\n              <button key={tab} onClick={() => setActiveTab(tab)} style={{ padding: '10px 20px', background: 'none', border: 'none', cursor: 'pointer', color: activeTab === tab ? COLORS.primary : '#888', borderBottom: activeTab === tab ? `2px solid ${COLORS.primary}` : 'none', fontWeight: activeTab === tab ? 'bold' : 'normal' }}>{tab.charAt(0).toUpperCase() + tab.slice(1)}</button>\n            ))}\n          </div>\n          {activeTab === 'posts' && (\n            <div>\n              <form onSubmit={handlePostSubmit} style={{ marginBottom: '30px', display: 'flex', gap: '10px' }}>\n                <input type=\"text\" placeholder=\"Share something...\" value={newPostText} onChange={(e) => setNewPostText(e.target.value)} style={{ flex: 1, padding: '12px', borderRadius: '20px', border: 'none', backgroundColor: '#3a3f4a', color: 'white' }} />\n                <button type=\"submit\" style={{ padding: '10px 20px', borderRadius: '20px', border: 'none', backgroundColor: COLORS.primary, color: '#000', fontWeight: 'bold', cursor: 'pointer' }}>Post</button>\n              </form>\n              <div style={{ display: 'flex', flexDirection: 'column', gap: '15px' }}>\n                {groupPosts.map(post => (\n                  <div key={post.id} style={{ backgroundColor: '#222', padding: '15px', borderRadius: '8px', border: `1px solid ${COLORS.border}` }}>\n                    <div style={{ fontSize: '12px', color: '#888', marginBottom: '5px', display: 'flex', alignItems: 'center', gap: '8px' }}>\n                      <div style={{ width: '24px', height: '24px', borderRadius: '50%', backgroundColor: '#444', overflow: 'hidden', display: 'flex', alignItems: 'center', justifyContent: 'center' }}>\n                        {post.authorPhoto ? <img src={post.authorPhoto} alt={post.authorName} style={{ width: '100%', height: '100%', objectFit: 'cover' }} /> : <span style={{ fontSize: '10px', color: '#ccc' }}>{post.authorName?.charAt(0).toUpperCase()}</span>}\n                      </div>\n                      <strong>{post.authorName}</strong> • {post.createdAt?.toDate().toLocaleString()}\n                    </div>\n                    <div style={{ fontSize: '15px', marginLeft: '32px' }}>{post.text}</div>\n                  </div>\n                ))}\n              </div>\n            </div>\n          )}\n          {activeTab === 'about' && (\n            <div>\n              <h3>About this Group</h3>\n              <p>{selectedGroup.description || \"No description.\"}</p>\n            </div>\n          )}\n          {activeTab === 'members' && (\n            <div>\n              <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '15px' }}>\n                <h3>Members ({selectedGroup.memberDetails?.length || 0})</h3>\n                {(myRole === 'owner' || myRole === 'admin') && <button onClick={() => setShowAddMember(true)} style={{ padding: '8px 15px', backgroundColor: COLORS.primary, border: 'none', borderRadius: '5px', cursor: 'pointer', fontWeight: 'bold' }}>+ Add Member</button>}\n              </div>\n              {showAddMember && (\n                <div style={{ backgroundColor: '#3a3f4a', padding: '20px', borderRadius: '8px', marginBottom: '20px', border: `1px solid ${COLORS.primary}` }}>\n                  <h4 style={{ marginTop: 0 }}>Add Members to Group</h4>\n                  <UserSearch onSelectionChange={setSelectedMemberEmails} />\n                  <div style={{ display: 'flex', gap: '10px', marginTop: '15px' }}>\n                    <button onClick={handleAddMembers} style={{ flex: 1, padding: '8px', backgroundColor: COLORS.primary, border: 'none', cursor: 'pointer', fontWeight: 'bold' }}>Add Selected</button>\n                    <button onClick={() => { setShowAddMember(false); setSelectedMemberEmails([]); }} style={{ flex: 1, padding: '8px', backgroundColor: '#555', border: 'none', cursor: 'pointer', color: 'white' }}>Cancel</button>\n                  </div>\n                </div>\n              )}\n              {renderMembers()}\n            </div>\n          )}\n        </div>\n      </div>\n      );\n  }\n\n  return <div>Error: View state unknown</div>;\n}\n\nexport default Groups;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}