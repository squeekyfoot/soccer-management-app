{"ast":null,"code":"var _jsxFileName = \"/Users/dbroxton/Documents/Projects/soccer-management-app/src/components/Groups.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useAuth } from '../context/AuthContext';\nimport { collection, query, orderBy, onSnapshot, doc, getDoc } from \"firebase/firestore\"; // Added getDoc to refresh group data\nimport { db } from \"../firebase\";\n// NEW: Import UserSearch\nimport UserSearch from './UserSearch';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Groups() {\n  _s();\n  // NEW: Import addGroupMembers\n  const {\n    fetchUserGroups,\n    createGroup,\n    createGroupPost,\n    uploadImage,\n    addGroupMembers,\n    loggedInUser\n  } = useAuth();\n\n  // View State\n  const [myGroups, setMyGroups] = useState([]);\n  const [selectedGroup, setSelectedGroup] = useState(null);\n  const [isLoading, setIsLoading] = useState(true);\n\n  // Create Group Form\n  const [showCreateForm, setShowCreateForm] = useState(false);\n  const [newGroupName, setNewGroupName] = useState(\"\");\n  const [newGroupDesc, setNewGroupDesc] = useState(\"\");\n\n  // Group Detail View State\n  const [activeTab, setActiveTab] = useState('posts'); // 'about', 'posts', 'members'\n  const [groupPosts, setGroupPosts] = useState([]);\n  const [newPostText, setNewPostText] = useState(\"\");\n\n  // NEW: Add Member Modal State\n  const [showAddMember, setShowAddMember] = useState(false);\n  const [selectedMemberEmails, setSelectedMemberEmails] = useState([]);\n\n  // Initial Load\n  useEffect(() => {\n    if (loggedInUser) loadGroups();\n  }, [loggedInUser]);\n  const loadGroups = async () => {\n    setIsLoading(true);\n    const data = await fetchUserGroups(loggedInUser.uid);\n    setMyGroups(data);\n    setIsLoading(false);\n  };\n\n  // Real-time listener for posts when a group is selected\n  useEffect(() => {\n    if (!selectedGroup) return;\n    const postsRef = collection(db, \"groups\", selectedGroup.id, \"posts\");\n    const q = query(postsRef, orderBy(\"createdAt\", \"desc\"));\n    const unsubscribe = onSnapshot(q, snapshot => {\n      const posts = snapshot.docs.map(doc => ({\n        id: doc.id,\n        ...doc.data()\n      }));\n      setGroupPosts(posts);\n    });\n    return () => unsubscribe();\n  }, [selectedGroup]);\n\n  // NEW: Refresh selected group data (member list)\n  const refreshSelectedGroup = async () => {\n    if (!selectedGroup) return;\n    const groupRef = doc(db, \"groups\", selectedGroup.id);\n    const groupSnap = await getDoc(groupRef);\n    if (groupSnap.exists()) {\n      setSelectedGroup({\n        id: groupSnap.id,\n        ...groupSnap.data()\n      });\n    }\n  };\n\n  // --- Actions ---\n\n  const handleCreateGroup = async e => {\n    e.preventDefault();\n    if (!newGroupName) return;\n    const success = await createGroup({\n      name: newGroupName,\n      description: newGroupDesc,\n      links: [] // Start with no links\n    });\n    if (success) {\n      alert(\"Group created!\");\n      setShowCreateForm(false);\n      setNewGroupName(\"\");\n      setNewGroupDesc(\"\");\n      loadGroups();\n    }\n  };\n  const handlePostSubmit = async e => {\n    e.preventDefault();\n    if (!newPostText) return;\n    await createGroupPost(selectedGroup.id, newPostText, null);\n    setNewPostText(\"\");\n  };\n\n  // NEW: Handle adding members\n  const handleAddMembers = async () => {\n    if (selectedMemberEmails.length === 0) return;\n    const success = await addGroupMembers(selectedGroup.id, selectedMemberEmails);\n    if (success) {\n      alert(\"Members added!\");\n      setShowAddMember(false);\n      setSelectedMemberEmails([]);\n      refreshSelectedGroup(); // Refresh to show new members\n    }\n  };\n\n  // --- Render ---\n\n  if (selectedGroup) {\n    var _selectedGroup$member, _selectedGroup$member2;\n    /* --- GROUP DETAIL VIEW --- */\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        maxWidth: '800px',\n        margin: '0 auto',\n        textAlign: 'left'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setSelectedGroup(null),\n        style: {\n          background: 'none',\n          border: 'none',\n          color: '#61dafb',\n          cursor: 'pointer',\n          marginBottom: '15px'\n        },\n        children: \"\\u2190 Back to Groups\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          backgroundColor: '#282c34',\n          padding: '20px',\n          borderRadius: '8px',\n          marginBottom: '20px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          style: {\n            margin: 0\n          },\n          children: selectedGroup.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            color: '#ccc',\n            marginTop: '5px'\n          },\n          children: selectedGroup.description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          borderBottom: '1px solid #444',\n          marginBottom: '20px'\n        },\n        children: ['posts', 'about', 'members'].map(tab => /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setActiveTab(tab),\n          style: {\n            padding: '10px 20px',\n            background: 'none',\n            border: 'none',\n            cursor: 'pointer',\n            color: activeTab === tab ? '#61dafb' : '#888',\n            borderBottom: activeTab === tab ? '2px solid #61dafb' : 'none',\n            fontWeight: activeTab === tab ? 'bold' : 'normal'\n          },\n          children: tab.charAt(0).toUpperCase() + tab.slice(1)\n        }, tab, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 9\n      }, this), activeTab === 'posts' && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handlePostSubmit,\n          style: {\n            marginBottom: '30px',\n            display: 'flex',\n            gap: '10px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Share something with the group...\",\n            value: newPostText,\n            onChange: e => setNewPostText(e.target.value),\n            style: {\n              flex: 1,\n              padding: '12px',\n              borderRadius: '20px',\n              border: 'none',\n              backgroundColor: '#3a3f4a',\n              color: 'white'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            style: {\n              padding: '10px 20px',\n              borderRadius: '20px',\n              border: 'none',\n              backgroundColor: '#61dafb',\n              color: '#000',\n              fontWeight: 'bold',\n              cursor: 'pointer'\n            },\n            children: \"Post\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            flexDirection: 'column',\n            gap: '15px'\n          },\n          children: groupPosts.map(post => {\n            var _post$createdAt;\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                backgroundColor: '#222',\n                padding: '15px',\n                borderRadius: '8px',\n                border: '1px solid #444'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: '12px',\n                  color: '#888',\n                  marginBottom: '5px'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: post.authorName\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 169,\n                  columnNumber: 21\n                }, this), \" \\u2022 \", (_post$createdAt = post.createdAt) === null || _post$createdAt === void 0 ? void 0 : _post$createdAt.toDate().toLocaleString()]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 168,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: '15px'\n                },\n                children: post.text\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 171,\n                columnNumber: 19\n              }, this)]\n            }, post.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 167,\n              columnNumber: 17\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 11\n      }, this), activeTab === 'about' && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"About this Group\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: selectedGroup.description || \"No description.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"Group Links\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            color: '#888',\n            fontStyle: 'italic'\n          },\n          children: \"No links added yet.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 11\n      }, this), activeTab === 'members' && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            justifyContent: 'space-between',\n            alignItems: 'center',\n            marginBottom: '15px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: [\"Members (\", ((_selectedGroup$member = selectedGroup.memberDetails) === null || _selectedGroup$member === void 0 ? void 0 : _selectedGroup$member.length) || 0, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setShowAddMember(true),\n            style: {\n              padding: '8px 15px',\n              backgroundColor: '#61dafb',\n              border: 'none',\n              borderRadius: '5px',\n              cursor: 'pointer',\n              fontWeight: 'bold'\n            },\n            children: \"+ Add Member\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 13\n        }, this), showAddMember && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            backgroundColor: '#3a3f4a',\n            padding: '20px',\n            borderRadius: '8px',\n            marginBottom: '20px',\n            border: '1px solid #61dafb'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            style: {\n              marginTop: 0\n            },\n            children: \"Add Members to Group\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 204,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(UserSearch, {\n            onSelectionChange: setSelectedMemberEmails\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              gap: '10px',\n              marginTop: '15px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleAddMembers,\n              style: {\n                flex: 1,\n                padding: '8px',\n                backgroundColor: '#61dafb',\n                border: 'none',\n                cursor: 'pointer',\n                fontWeight: 'bold'\n              },\n              children: \"Add Selected\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 207,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                setShowAddMember(false);\n                setSelectedMemberEmails([]);\n              },\n              style: {\n                flex: 1,\n                padding: '8px',\n                backgroundColor: '#555',\n                border: 'none',\n                cursor: 'pointer',\n                color: 'white'\n              },\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 208,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 206,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          style: {\n            listStyle: 'none',\n            padding: 0\n          },\n          children: (_selectedGroup$member2 = selectedGroup.memberDetails) === null || _selectedGroup$member2 === void 0 ? void 0 : _selectedGroup$member2.map(m => /*#__PURE__*/_jsxDEV(\"li\", {\n            style: {\n              padding: '10px',\n              borderBottom: '1px solid #333'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: m.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 216,\n              columnNumber: 19\n            }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                color: '#888'\n              },\n              children: [\"(\", m.email, \")\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 216,\n              columnNumber: 45\n            }, this)]\n          }, m.uid, true, {\n            fileName: _jsxFileName,\n            lineNumber: 215,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 7\n    }, this);\n  }\n\n  /* --- GROUP LIST VIEW --- */\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      maxWidth: '800px',\n      margin: '0 auto',\n      textAlign: 'left'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        marginBottom: '30px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"My Groups\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setShowCreateForm(!showCreateForm),\n        style: {\n          padding: '10px 15px',\n          backgroundColor: '#61dafb',\n          border: 'none',\n          cursor: 'pointer',\n          fontWeight: 'bold',\n          borderRadius: '5px'\n        },\n        children: showCreateForm ? \"Cancel\" : \"+ Create Group\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 7\n    }, this), showCreateForm && /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleCreateGroup,\n      style: {\n        backgroundColor: '#3a3f4a',\n        padding: '20px',\n        borderRadius: '8px',\n        marginBottom: '30px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        style: {\n          marginTop: 0\n        },\n        children: \"New Group\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Group Name\",\n        value: newGroupName,\n        onChange: e => setNewGroupName(e.target.value),\n        style: {\n          display: 'block',\n          width: '100%',\n          padding: '10px',\n          marginBottom: '10px',\n          boxSizing: 'border-box'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        placeholder: \"Description\",\n        value: newGroupDesc,\n        onChange: e => setNewGroupDesc(e.target.value),\n        style: {\n          display: 'block',\n          width: '100%',\n          padding: '10px',\n          marginBottom: '10px',\n          minHeight: '60px',\n          boxSizing: 'border-box'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        style: {\n          padding: '10px 20px',\n          backgroundColor: '#61dafb',\n          border: 'none',\n          cursor: 'pointer',\n          fontWeight: 'bold'\n        },\n        children: \"Create\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'grid',\n        gap: '15px',\n        gridTemplateColumns: 'repeat(auto-fill, minmax(250px, 1fr))'\n      },\n      children: myGroups.map(group => {\n        var _group$memberDetails;\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          onClick: () => setSelectedGroup(group),\n          style: {\n            backgroundColor: '#282c34',\n            padding: '20px',\n            borderRadius: '8px',\n            border: '1px solid #444',\n            cursor: 'pointer',\n            transition: 'transform 0.2s'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            style: {\n              margin: '0 0 10px 0',\n              color: '#61dafb'\n            },\n            children: group.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 265,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              margin: 0,\n              color: '#ccc',\n              fontSize: '14px',\n              whiteSpace: 'nowrap',\n              overflow: 'hidden',\n              textOverflow: 'ellipsis'\n            },\n            children: group.description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 266,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginTop: '15px',\n              fontSize: '12px',\n              color: '#888'\n            },\n            children: [((_group$memberDetails = group.memberDetails) === null || _group$memberDetails === void 0 ? void 0 : _group$memberDetails.length) || 0, \" Members\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 269,\n            columnNumber: 13\n          }, this)]\n        }, group.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 11\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 229,\n    columnNumber: 5\n  }, this);\n}\n_s(Groups, \"gyPj/PuifCDVRe/hJ0+XZeQTP+Y=\", false, function () {\n  return [useAuth];\n});\n_c = Groups;\nexport default Groups;\nvar _c;\n$RefreshReg$(_c, \"Groups\");","map":{"version":3,"names":["React","useState","useEffect","useAuth","collection","query","orderBy","onSnapshot","doc","getDoc","db","UserSearch","jsxDEV","_jsxDEV","Groups","_s","fetchUserGroups","createGroup","createGroupPost","uploadImage","addGroupMembers","loggedInUser","myGroups","setMyGroups","selectedGroup","setSelectedGroup","isLoading","setIsLoading","showCreateForm","setShowCreateForm","newGroupName","setNewGroupName","newGroupDesc","setNewGroupDesc","activeTab","setActiveTab","groupPosts","setGroupPosts","newPostText","setNewPostText","showAddMember","setShowAddMember","selectedMemberEmails","setSelectedMemberEmails","loadGroups","data","uid","postsRef","id","q","unsubscribe","snapshot","posts","docs","map","refreshSelectedGroup","groupRef","groupSnap","exists","handleCreateGroup","e","preventDefault","success","name","description","links","alert","handlePostSubmit","handleAddMembers","length","_selectedGroup$member","_selectedGroup$member2","style","maxWidth","margin","textAlign","children","onClick","background","border","color","cursor","marginBottom","fileName","_jsxFileName","lineNumber","columnNumber","backgroundColor","padding","borderRadius","marginTop","display","borderBottom","tab","fontWeight","charAt","toUpperCase","slice","onSubmit","gap","type","placeholder","value","onChange","target","flex","flexDirection","post","_post$createdAt","fontSize","authorName","createdAt","toDate","toLocaleString","text","fontStyle","justifyContent","alignItems","memberDetails","onSelectionChange","listStyle","m","email","width","boxSizing","minHeight","gridTemplateColumns","group","_group$memberDetails","transition","whiteSpace","overflow","textOverflow","_c","$RefreshReg$"],"sources":["/Users/dbroxton/Documents/Projects/soccer-management-app/src/components/Groups.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useAuth } from '../context/AuthContext';\nimport { collection, query, orderBy, onSnapshot, doc, getDoc } from \"firebase/firestore\"; // Added getDoc to refresh group data\nimport { db } from \"../firebase\";\n// NEW: Import UserSearch\nimport UserSearch from './UserSearch';\n\nfunction Groups() {\n  // NEW: Import addGroupMembers\n  const { fetchUserGroups, createGroup, createGroupPost, uploadImage, addGroupMembers, loggedInUser } = useAuth();\n\n  // View State\n  const [myGroups, setMyGroups] = useState([]);\n  const [selectedGroup, setSelectedGroup] = useState(null);\n  const [isLoading, setIsLoading] = useState(true);\n\n  // Create Group Form\n  const [showCreateForm, setShowCreateForm] = useState(false);\n  const [newGroupName, setNewGroupName] = useState(\"\");\n  const [newGroupDesc, setNewGroupDesc] = useState(\"\");\n\n  // Group Detail View State\n  const [activeTab, setActiveTab] = useState('posts'); // 'about', 'posts', 'members'\n  const [groupPosts, setGroupPosts] = useState([]);\n  const [newPostText, setNewPostText] = useState(\"\");\n\n  // NEW: Add Member Modal State\n  const [showAddMember, setShowAddMember] = useState(false);\n  const [selectedMemberEmails, setSelectedMemberEmails] = useState([]);\n\n  // Initial Load\n  useEffect(() => {\n    if (loggedInUser) loadGroups();\n  }, [loggedInUser]);\n\n  const loadGroups = async () => {\n    setIsLoading(true);\n    const data = await fetchUserGroups(loggedInUser.uid);\n    setMyGroups(data);\n    setIsLoading(false);\n  };\n\n  // Real-time listener for posts when a group is selected\n  useEffect(() => {\n    if (!selectedGroup) return;\n\n    const postsRef = collection(db, \"groups\", selectedGroup.id, \"posts\");\n    const q = query(postsRef, orderBy(\"createdAt\", \"desc\"));\n\n    const unsubscribe = onSnapshot(q, (snapshot) => {\n      const posts = snapshot.docs.map(doc => ({\n        id: doc.id,\n        ...doc.data()\n      }));\n      setGroupPosts(posts);\n    });\n\n    return () => unsubscribe();\n  }, [selectedGroup]);\n\n  // NEW: Refresh selected group data (member list)\n  const refreshSelectedGroup = async () => {\n    if (!selectedGroup) return;\n    const groupRef = doc(db, \"groups\", selectedGroup.id);\n    const groupSnap = await getDoc(groupRef);\n    if (groupSnap.exists()) {\n      setSelectedGroup({ id: groupSnap.id, ...groupSnap.data() });\n    }\n  };\n\n\n  // --- Actions ---\n\n  const handleCreateGroup = async (e) => {\n    e.preventDefault();\n    if (!newGroupName) return;\n\n    const success = await createGroup({\n      name: newGroupName,\n      description: newGroupDesc,\n      links: [] // Start with no links\n    });\n\n    if (success) {\n      alert(\"Group created!\");\n      setShowCreateForm(false);\n      setNewGroupName(\"\");\n      setNewGroupDesc(\"\");\n      loadGroups();\n    }\n  };\n\n  const handlePostSubmit = async (e) => {\n    e.preventDefault();\n    if (!newPostText) return;\n    \n    await createGroupPost(selectedGroup.id, newPostText, null);\n    setNewPostText(\"\");\n  };\n\n  // NEW: Handle adding members\n  const handleAddMembers = async () => {\n    if (selectedMemberEmails.length === 0) return;\n\n    const success = await addGroupMembers(selectedGroup.id, selectedMemberEmails);\n    if (success) {\n      alert(\"Members added!\");\n      setShowAddMember(false);\n      setSelectedMemberEmails([]);\n      refreshSelectedGroup(); // Refresh to show new members\n    }\n  };\n\n  // --- Render ---\n\n  if (selectedGroup) {\n    /* --- GROUP DETAIL VIEW --- */\n    return (\n      <div style={{ maxWidth: '800px', margin: '0 auto', textAlign: 'left' }}>\n        <button onClick={() => setSelectedGroup(null)} style={{ background: 'none', border: 'none', color: '#61dafb', cursor: 'pointer', marginBottom: '15px' }}>\n          ← Back to Groups\n        </button>\n        \n        <div style={{ backgroundColor: '#282c34', padding: '20px', borderRadius: '8px', marginBottom: '20px' }}>\n          <h2 style={{ margin: 0 }}>{selectedGroup.name}</h2>\n          <p style={{ color: '#ccc', marginTop: '5px' }}>{selectedGroup.description}</p>\n        </div>\n\n        {/* Tabs */}\n        <div style={{ display: 'flex', borderBottom: '1px solid #444', marginBottom: '20px' }}>\n          {['posts', 'about', 'members'].map(tab => (\n            <button \n              key={tab}\n              onClick={() => setActiveTab(tab)}\n              style={{\n                padding: '10px 20px', background: 'none', border: 'none', cursor: 'pointer',\n                color: activeTab === tab ? '#61dafb' : '#888',\n                borderBottom: activeTab === tab ? '2px solid #61dafb' : 'none',\n                fontWeight: activeTab === tab ? 'bold' : 'normal'\n              }}\n            >\n              {tab.charAt(0).toUpperCase() + tab.slice(1)}\n            </button>\n          ))}\n        </div>\n\n        {/* Tab Content */}\n        {activeTab === 'posts' && (\n          <div>\n            {/* Post Input */}\n            <form onSubmit={handlePostSubmit} style={{ marginBottom: '30px', display: 'flex', gap: '10px' }}>\n              <input \n                type=\"text\" \n                placeholder=\"Share something with the group...\" \n                value={newPostText}\n                onChange={(e) => setNewPostText(e.target.value)}\n                style={{ flex: 1, padding: '12px', borderRadius: '20px', border: 'none', backgroundColor: '#3a3f4a', color: 'white' }}\n              />\n              <button type=\"submit\" style={{ padding: '10px 20px', borderRadius: '20px', border: 'none', backgroundColor: '#61dafb', color: '#000', fontWeight: 'bold', cursor: 'pointer' }}>\n                Post\n              </button>\n            </form>\n\n            {/* Post Feed */}\n            <div style={{ display: 'flex', flexDirection: 'column', gap: '15px' }}>\n              {groupPosts.map(post => (\n                <div key={post.id} style={{ backgroundColor: '#222', padding: '15px', borderRadius: '8px', border: '1px solid #444' }}>\n                  <div style={{ fontSize: '12px', color: '#888', marginBottom: '5px' }}>\n                    <strong>{post.authorName}</strong> • {post.createdAt?.toDate().toLocaleString()}\n                  </div>\n                  <div style={{ fontSize: '15px' }}>{post.text}</div>\n                </div>\n              ))}\n            </div>\n          </div>\n        )}\n\n        {activeTab === 'about' && (\n          <div>\n            <h3>About this Group</h3>\n            <p>{selectedGroup.description || \"No description.\"}</p>\n            <h4>Group Links</h4>\n            {/* Placeholder for links list */}\n            <p style={{ color: '#888', fontStyle: 'italic' }}>No links added yet.</p>\n          </div>\n        )}\n\n        {activeTab === 'members' && (\n          <div>\n            <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '15px' }}>\n              <h3>Members ({selectedGroup.memberDetails?.length || 0})</h3>\n              {/* NEW: Add Member Button */}\n              <button \n                onClick={() => setShowAddMember(true)}\n                style={{ padding: '8px 15px', backgroundColor: '#61dafb', border: 'none', borderRadius: '5px', cursor: 'pointer', fontWeight: 'bold' }}\n              >\n                + Add Member\n              </button>\n            </div>\n\n            {/* NEW: Add Member Modal (Inline) */}\n            {showAddMember && (\n              <div style={{ backgroundColor: '#3a3f4a', padding: '20px', borderRadius: '8px', marginBottom: '20px', border: '1px solid #61dafb' }}>\n                <h4 style={{ marginTop: 0 }}>Add Members to Group</h4>\n                <UserSearch onSelectionChange={setSelectedMemberEmails} />\n                <div style={{ display: 'flex', gap: '10px', marginTop: '15px' }}>\n                  <button onClick={handleAddMembers} style={{ flex: 1, padding: '8px', backgroundColor: '#61dafb', border: 'none', cursor: 'pointer', fontWeight: 'bold' }}>Add Selected</button>\n                  <button onClick={() => { setShowAddMember(false); setSelectedMemberEmails([]); }} style={{ flex: 1, padding: '8px', backgroundColor: '#555', border: 'none', cursor: 'pointer', color: 'white' }}>Cancel</button>\n                </div>\n              </div>\n            )}\n\n            <ul style={{ listStyle: 'none', padding: 0 }}>\n              {selectedGroup.memberDetails?.map(m => (\n                <li key={m.uid} style={{ padding: '10px', borderBottom: '1px solid #333' }}>\n                  <strong>{m.name}</strong> <span style={{ color: '#888' }}>({m.email})</span>\n                </li>\n              ))}\n            </ul>\n          </div>\n        )}\n\n      </div>\n    );\n  }\n\n  /* --- GROUP LIST VIEW --- */\n  return (\n    <div style={{ maxWidth: '800px', margin: '0 auto', textAlign: 'left' }}>\n      <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '30px' }}>\n        <h2>My Groups</h2>\n        <button \n          onClick={() => setShowCreateForm(!showCreateForm)}\n          style={{ padding: '10px 15px', backgroundColor: '#61dafb', border: 'none', cursor: 'pointer', fontWeight: 'bold', borderRadius: '5px' }}\n        >\n          {showCreateForm ? \"Cancel\" : \"+ Create Group\"}\n        </button>\n      </div>\n\n      {showCreateForm && (\n        <form onSubmit={handleCreateGroup} style={{ backgroundColor: '#3a3f4a', padding: '20px', borderRadius: '8px', marginBottom: '30px' }}>\n          <h3 style={{ marginTop: 0 }}>New Group</h3>\n          <input \n            type=\"text\" placeholder=\"Group Name\" value={newGroupName} onChange={(e) => setNewGroupName(e.target.value)}\n            style={{ display: 'block', width: '100%', padding: '10px', marginBottom: '10px', boxSizing: 'border-box' }}\n          />\n          <textarea \n            placeholder=\"Description\" value={newGroupDesc} onChange={(e) => setNewGroupDesc(e.target.value)}\n            style={{ display: 'block', width: '100%', padding: '10px', marginBottom: '10px', minHeight: '60px', boxSizing: 'border-box' }}\n          />\n          <button type=\"submit\" style={{ padding: '10px 20px', backgroundColor: '#61dafb', border: 'none', cursor: 'pointer', fontWeight: 'bold' }}>Create</button>\n        </form>\n      )}\n\n      <div style={{ display: 'grid', gap: '15px', gridTemplateColumns: 'repeat(auto-fill, minmax(250px, 1fr))' }}>\n        {myGroups.map(group => (\n          <div \n            key={group.id} \n            onClick={() => setSelectedGroup(group)}\n            style={{ \n              backgroundColor: '#282c34', padding: '20px', borderRadius: '8px', border: '1px solid #444', cursor: 'pointer',\n              transition: 'transform 0.2s'\n            }}\n          >\n            <h3 style={{ margin: '0 0 10px 0', color: '#61dafb' }}>{group.name}</h3>\n            <p style={{ margin: 0, color: '#ccc', fontSize: '14px', whiteSpace: 'nowrap', overflow: 'hidden', textOverflow: 'ellipsis' }}>\n              {group.description}\n            </p>\n            <div style={{ marginTop: '15px', fontSize: '12px', color: '#888' }}>\n              {group.memberDetails?.length || 0} Members\n            </div>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}\n\nexport default Groups;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}